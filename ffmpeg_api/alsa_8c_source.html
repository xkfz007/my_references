<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: libavdevice/alsa.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ac0f646f7dac5d9f814abb87c8dfa999.html">libavdevice</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">alsa.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="alsa_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * ALSA input and output</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2007 Luca Abeni ( lucabe72 email it )</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2007 Benoit Fouet ( benoit fouet free fr )</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * @file</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * ALSA input and output: common code</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * @author Luca Abeni ( lucabe72 email it )</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * @author Benoit Fouet ( benoit fouet free fr )</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * @author Nicolas George ( nicolas george normalesup org )</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;alsa/asoundlib.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avdevice_8h.html">avdevice.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="channel__layout_8h.html">libavutil/channel_layout.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="alsa_8h.html">alsa.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="alsa_8c.html#ac22a1b139b0374d5d45bfbcbf2dc2297">   38</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> snd_pcm_format_t <a class="code" href="alsa_8c.html#ac22a1b139b0374d5d45bfbcbf2dc2297">codec_id_to_pcm_format</a>(<span class="keywordtype">int</span> <a class="code" href="ffmpeg__vaapi_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>)</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">switch</span>(codec_id) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a06659945e1b8973c6f4712d4910ba1">AV_CODEC_ID_PCM_F64LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_FLOAT64_LE;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabbe3519b849a2acd3e8366bc1173f221">AV_CODEC_ID_PCM_F64BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_FLOAT64_BE;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0178ff664c08bd74594545ba0c5efacb">AV_CODEC_ID_PCM_F32LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_FLOAT_LE;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea2e3b263e55bf4774f5a3a1d7b0261df4">AV_CODEC_ID_PCM_F32BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_FLOAT_BE;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6384417ba463d7aeb03015797cff3349">AV_CODEC_ID_PCM_S32LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_S32_LE;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1">AV_CODEC_ID_PCM_S32BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_S32_BE;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea71143037f27cc95fd5b5b8245cc6d8b9">AV_CODEC_ID_PCM_U32LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_U32_LE;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf9d8f80b2f0c516669ea9d6f18c69ebd">AV_CODEC_ID_PCM_U32BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_U32_BE;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea55f60c53c2cc765877092c125ee172be">AV_CODEC_ID_PCM_S24LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_S24_3LE;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8">AV_CODEC_ID_PCM_S24BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_S24_3BE;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae4523044929927b24cbb846463584a7c">AV_CODEC_ID_PCM_U24LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_U24_3LE;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea56e4ec447eb34b4af671fd5c8e36ddb4">AV_CODEC_ID_PCM_U24BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_U24_3BE;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea29c8a6ec93ad1a77e50f2b48efa80204">AV_CODEC_ID_PCM_S16LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_S16_LE;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c">AV_CODEC_ID_PCM_S16BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_S16_BE;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf74e44549c9bac344123cede6a0871ca">AV_CODEC_ID_PCM_U16LE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_U16_LE;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8d7e94ed46d290528877c6a8949a756c">AV_CODEC_ID_PCM_U16BE</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_U16_BE;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea689ee50aa42c2ae666da10615ff78e10">AV_CODEC_ID_PCM_S8</a>:    <span class="keywordflow">return</span> SND_PCM_FORMAT_S8;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1e9ff6fe2442af342b2b42a1a0b2abc8">AV_CODEC_ID_PCM_U8</a>:    <span class="keywordflow">return</span> SND_PCM_FORMAT_U8;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaffd38a41156e08564e5c6e88dbd06cb2">AV_CODEC_ID_PCM_MULAW</a>: <span class="keywordflow">return</span> SND_PCM_FORMAT_MU_LAW;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea794b01f8eb94f196d5ebb9f4af1ae0c2">AV_CODEC_ID_PCM_ALAW</a>:  <span class="keywordflow">return</span> SND_PCM_FORMAT_A_LAW;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">default</span>:                 <span class="keywordflow">return</span> SND_PCM_FORMAT_UNKNOWN;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="alsa_8c.html#a69237a9992c6a7a453ffed09cea862f0">   65</a></span>&#160;<span class="preprocessor">#define MAKE_REORDER_FUNC(NAME, TYPE, CHANNELS, LAYOUT, MAP)                \</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">static void alsa_reorder_ ## NAME ## _ ## LAYOUT(const void *in_v,          \</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">                                                 void *out_v,               \</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">                                                 int n)                     \</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">{                                                                           \</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">    const TYPE *in = in_v;                                                  \</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">    TYPE      *out = out_v;                                                 \</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">                                                                            \</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">    while (n-- &gt; 0) {                                                       \</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">        MAP                                                                 \</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">        in  += CHANNELS;                                                    \</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">        out += CHANNELS;                                                    \</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">    }                                                                       \</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="alsa_8c.html#a38af2b750d6b5c9fa8814b9e2f4f8a9a">   80</a></span>&#160;<span class="preprocessor">#define MAKE_REORDER_FUNCS(CHANNELS, LAYOUT, MAP) \</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">    MAKE_REORDER_FUNC(int8,  int8_t,  CHANNELS, LAYOUT, MAP) \</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">    MAKE_REORDER_FUNC(int16, int16_t, CHANNELS, LAYOUT, MAP) \</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">    MAKE_REORDER_FUNC(int32, int32_t, CHANNELS, LAYOUT, MAP) \</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">    MAKE_REORDER_FUNC(f32,   float,   CHANNELS, LAYOUT, MAP)</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="alsa_8c.html#a4c743dd22feda6df6f1ad5f7c2301045">   86</a></span>&#160;<a class="code" href="alsa_8c.html#a38af2b750d6b5c9fa8814b9e2f4f8a9a">MAKE_REORDER_FUNCS</a>(5, out_50, \</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[0] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[0]; \</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        out[1] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[1]; \</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        out[2] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[3]; \</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        out[3] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[4]; \</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        out[4] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[2]; \</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        )</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<a class="code" href="alsa_8c.html#a38af2b750d6b5c9fa8814b9e2f4f8a9a">MAKE_REORDER_FUNCS</a>(6, out_51, \</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[0] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[0]; \</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        out[1] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[1]; \</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        out[2] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[4]; \</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        out[3] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[5]; \</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        out[4] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[2]; \</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        out[5] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[3]; \</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        )</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<a class="code" href="alsa_8c.html#a38af2b750d6b5c9fa8814b9e2f4f8a9a">MAKE_REORDER_FUNCS</a>(8, out_71, \</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[0] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[0]; \</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        out[1] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[1]; \</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        out[2] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[4]; \</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        out[3] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[5]; \</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        out[4] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[2]; \</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        out[5] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[3]; \</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        out[6] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[6]; \</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        out[7] = <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>[7]; \</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        )</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;#define <a class="code" href="alsa_8c.html#ab4f42736e8394304f7cf955caf867bb0">FORMAT_I8</a>  0</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;#define <a class="code" href="alsa_8c.html#a794f21ede4edfff93194e266c8af5b4a">FORMAT_I16</a> 1</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;#define <a class="code" href="alsa_8c.html#a17ae066a7ace55c546eb86c697099229">FORMAT_I32</a> 2</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;#define <a class="code" href="alsa_8c.html#a0cd3f60243b366a1084f5ca646f22c0c">FORMAT_F32</a> 3</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;#define <a class="code" href="alsa_8c.html#a71a054d8ef82f98c2f544e04294edf04">PICK_REORDER</a>(<a class="code" href="channel__layout_8c.html#a5fb8d8660239f03323dae7e7c1699f29">layout</a>)\</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;switch(<a class="code" href="tests_2movenc_8c.html#a6bd2bb5fcc7628a640958994a22f997c">format</a>) {\</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    case <a class="code" href="alsa_8c.html#ab4f42736e8394304f7cf955caf867bb0">FORMAT_I8</a>:  <a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>-&gt;reorder_func = alsa_reorder_int8_out_ ##<a class="code" href="channel__layout_8c.html#a5fb8d8660239f03323dae7e7c1699f29">layout</a>;  <span class="keywordflow">break</span>;\</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    case <a class="code" href="alsa_8c.html#a794f21ede4edfff93194e266c8af5b4a">FORMAT_I16</a>: <a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>-&gt;reorder_func = alsa_reorder_int16_out_ ##<a class="code" href="channel__layout_8c.html#a5fb8d8660239f03323dae7e7c1699f29">layout</a>; <span class="keywordflow">break</span>;\</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    case <a class="code" href="alsa_8c.html#a17ae066a7ace55c546eb86c697099229">FORMAT_I32</a>: <a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>-&gt;reorder_func = alsa_reorder_int32_out_ ##<a class="code" href="channel__layout_8c.html#a5fb8d8660239f03323dae7e7c1699f29">layout</a>; <span class="keywordflow">break</span>;\</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    case <a class="code" href="alsa_8c.html#a0cd3f60243b366a1084f5ca646f22c0c">FORMAT_F32</a>: <a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>-&gt;reorder_func = alsa_reorder_f32_out_ ##<a class="code" href="channel__layout_8c.html#a5fb8d8660239f03323dae7e7c1699f29">layout</a>;   <span class="keywordflow">break</span>;\</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> find_reorder_func(<a class="code" href="structAlsaData.html">AlsaData</a> *<a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>, <span class="keywordtype">int</span> <a class="code" href="ffmpeg__vaapi_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>, uint64_t <a class="code" href="channel__layout_8c.html#a5fb8d8660239f03323dae7e7c1699f29">layout</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a6bd2bb5fcc7628a640958994a22f997c">format</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">/* reordering input is not currently supported */</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (!out)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOSYS);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">/* reordering is not needed for QUAD or 2_2 layout */</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (layout == <a class="code" href="group__channel__mask__c.html#ga0982ce29eced939dfcfb5b52416810ae">AV_CH_LAYOUT_QUAD</a> || layout == <a class="code" href="group__channel__mask__c.html#ga5c25ee8b976d0cb15e0b6d2cf923d19d">AV_CH_LAYOUT_2_2</a>)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">switch</span> (codec_id) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea689ee50aa42c2ae666da10615ff78e10">AV_CODEC_ID_PCM_S8</a>:</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1e9ff6fe2442af342b2b42a1a0b2abc8">AV_CODEC_ID_PCM_U8</a>:</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea794b01f8eb94f196d5ebb9f4af1ae0c2">AV_CODEC_ID_PCM_ALAW</a>:</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaffd38a41156e08564e5c6e88dbd06cb2">AV_CODEC_ID_PCM_MULAW</a>: format = <a class="code" href="alsa_8c.html#ab4f42736e8394304f7cf955caf867bb0">FORMAT_I8</a>;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea29c8a6ec93ad1a77e50f2b48efa80204">AV_CODEC_ID_PCM_S16LE</a>:</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c">AV_CODEC_ID_PCM_S16BE</a>:</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf74e44549c9bac344123cede6a0871ca">AV_CODEC_ID_PCM_U16LE</a>:</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8d7e94ed46d290528877c6a8949a756c">AV_CODEC_ID_PCM_U16BE</a>: format = <a class="code" href="alsa_8c.html#a794f21ede4edfff93194e266c8af5b4a">FORMAT_I16</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6384417ba463d7aeb03015797cff3349">AV_CODEC_ID_PCM_S32LE</a>:</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1">AV_CODEC_ID_PCM_S32BE</a>:</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea71143037f27cc95fd5b5b8245cc6d8b9">AV_CODEC_ID_PCM_U32LE</a>:</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf9d8f80b2f0c516669ea9d6f18c69ebd">AV_CODEC_ID_PCM_U32BE</a>: format = <a class="code" href="alsa_8c.html#a17ae066a7ace55c546eb86c697099229">FORMAT_I32</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0178ff664c08bd74594545ba0c5efacb">AV_CODEC_ID_PCM_F32LE</a>:</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea2e3b263e55bf4774f5a3a1d7b0261df4">AV_CODEC_ID_PCM_F32BE</a>: format = <a class="code" href="alsa_8c.html#a0cd3f60243b366a1084f5ca646f22c0c">FORMAT_F32</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">default</span>:                 <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOSYS);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span>      (layout == <a class="code" href="group__channel__mask__c.html#gab057e9fd36b7e929d000d663badbafc6">AV_CH_LAYOUT_5POINT0_BACK</a> || layout == <a class="code" href="group__channel__mask__c.html#ga10eddec555bcf849efce5158b0cbdb50">AV_CH_LAYOUT_5POINT0</a>)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="alsa_8c.html#a71a054d8ef82f98c2f544e04294edf04">PICK_REORDER</a>(50)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (layout == <a class="code" href="group__channel__mask__c.html#gae9da5d6069701241a22f3af19b152662">AV_CH_LAYOUT_5POINT1_BACK</a> || layout == <a class="code" href="group__channel__mask__c.html#gac36a042dc21866f9043ce930f300d0df">AV_CH_LAYOUT_5POINT1</a>)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="alsa_8c.html#a71a054d8ef82f98c2f544e04294edf04">PICK_REORDER</a>(51)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (layout == <a class="code" href="group__channel__mask__c.html#ga2006ce652a95bad74291db52fa346464">AV_CH_LAYOUT_7POINT1</a>)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="alsa_8c.html#a71a054d8ef82f98c2f544e04294edf04">PICK_REORDER</a>(71)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> s-&gt;<a class="code" href="structAlsaData.html#a4c338c624482a59391f075951bc6f262">reorder_func</a> ? 0 : <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOSYS);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="alsa_8h.html#a550c1f79a2eea4cc2863f08b2b308d9f">  167</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="alsa_8c.html#ae8517a07cdfa41c38afeb0eb2a124ec8">ff_alsa_open</a>(<a class="code" href="structAVFormatContext.html">AVFormatContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, snd_pcm_stream_t <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>,</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>,</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                         <span class="keywordtype">int</span> channels, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> *codec_id)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="structAlsaData.html">AlsaData</a> *s = ctx-&gt;<a class="code" href="structAVFormatContext.html#ac4c0777e54085af2f3f1b27130e2b21b">priv_data</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *audio_device;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> res, <a class="code" href="log_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> = 0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    snd_pcm_format_t <a class="code" href="tests_2movenc_8c.html#a6bd2bb5fcc7628a640958994a22f997c">format</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    snd_pcm_t *<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    snd_pcm_hw_params_t *hw_params;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    snd_pcm_uframes_t buffer_size, period_size;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    uint64_t layout = ctx-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[0]-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="structAVCodecParameters.html#a18e0af4b263443a6c4d2d5304dbd537e">channel_layout</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structAVFormatContext.html#aaf1ef435f30fce3cd0872467267512d0">filename</a>[0] == 0) audio_device = <span class="stringliteral">&quot;default&quot;</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">else</span>                       audio_device = ctx-&gt;<a class="code" href="structAVFormatContext.html#aaf1ef435f30fce3cd0872467267512d0">filename</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (*codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        *codec_id = <a class="code" href="alsa_8h.html#a851de2f2b346da3f66ae7cf573985473">DEFAULT_CODEC_ID</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    format = <a class="code" href="alsa_8c.html#ac22a1b139b0374d5d45bfbcbf2dc2297">codec_id_to_pcm_format</a>(*codec_id);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (format == SND_PCM_FORMAT_UNKNOWN) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;sample format 0x%04x is not supported\n&quot;</span>, *codec_id);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOSYS);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    s-&gt;<a class="code" href="structAlsaData.html#adf498cc1f69b0f12c006fc9ba3df6960">frame_size</a> = <a class="code" href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a>(*codec_id) / 8 * channels;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structAVFormatContext.html#a32379cc371463b235d54235d4af06a15">flags</a> &amp; <a class="code" href="avformat_8h.html#a4fd189c4f2464afad342133be7bf6aeb">AVFMT_FLAG_NONBLOCK</a>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        flags = SND_PCM_NONBLOCK;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    res = snd_pcm_open(&amp;h, audio_device, mode, flags);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot open audio device %s (%s)\n&quot;</span>,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;               audio_device, snd_strerror(res));</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EIO);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    res = snd_pcm_hw_params_malloc(&amp;hw_params);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot allocate hardware parameter structure (%s)\n&quot;</span>,</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;               snd_strerror(res));</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">goto</span> fail1;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    res = snd_pcm_hw_params_any(h, hw_params);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot initialize hardware parameter structure (%s)\n&quot;</span>,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;               snd_strerror(res));</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    res = snd_pcm_hw_params_set_access(h, hw_params, SND_PCM_ACCESS_RW_INTERLEAVED);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot set access type (%s)\n&quot;</span>,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;               snd_strerror(res));</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    res = snd_pcm_hw_params_set_format(h, hw_params, format);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot set sample format 0x%04x %d (%s)\n&quot;</span>,</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;               *codec_id, format, snd_strerror(res));</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    res = snd_pcm_hw_params_set_rate_near(h, hw_params, sample_rate, 0);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot set sample rate (%s)\n&quot;</span>,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;               snd_strerror(res));</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    res = snd_pcm_hw_params_set_channels(h, hw_params, channels);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot set channel count to %d (%s)\n&quot;</span>,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;               channels, snd_strerror(res));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    snd_pcm_hw_params_get_buffer_size_max(hw_params, &amp;buffer_size);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    buffer_size = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(buffer_size, <a class="code" href="alsa_8h.html#a5dbfa57bfbb5ef33e2f8001ab6ed2525">ALSA_BUFFER_SIZE_MAX</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">/* TODO: maybe use ctx-&gt;max_picture_buffer somehow */</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    res = snd_pcm_hw_params_set_buffer_size_near(h, hw_params, &amp;buffer_size);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot set ALSA buffer size (%s)\n&quot;</span>,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;               snd_strerror(res));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    snd_pcm_hw_params_get_period_size_min(hw_params, &amp;period_size, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (!period_size)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        period_size = buffer_size / 4;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    res = snd_pcm_hw_params_set_period_size_near(h, hw_params, &amp;period_size, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot set ALSA period size (%s)\n&quot;</span>,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;               snd_strerror(res));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    s-&gt;<a class="code" href="structAlsaData.html#afdfd2b00f47bbda530915386baf51a6e">period_size</a> = period_size;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    res = snd_pcm_hw_params(h, hw_params);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot set parameters (%s)\n&quot;</span>,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;               snd_strerror(res));</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    snd_pcm_hw_params_free(hw_params);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (channels &gt; 2 &amp;&amp; layout) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (find_reorder_func(s, *codec_id, layout, mode == SND_PCM_STREAM_PLAYBACK) &lt; 0) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="avisynth__c_8h.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>[128];</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="group__channel__mask__c.html#ga99d0b5bb80534d13a6cc96336cf9076a">av_get_channel_layout_string</a>(name, <span class="keyword">sizeof</span>(name), channels, layout);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;ALSA channel layout unknown or unimplemented for %s %s.\n&quot;</span>,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                   name, mode == SND_PCM_STREAM_PLAYBACK ? <span class="stringliteral">&quot;playback&quot;</span> : <span class="stringliteral">&quot;capture&quot;</span>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structAlsaData.html#a4c338c624482a59391f075951bc6f262">reorder_func</a>) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            s-&gt;<a class="code" href="structAlsaData.html#a04a20e6b1797e296d042ab005d532edf">reorder_buf_size</a> = buffer_size;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            s-&gt;<a class="code" href="structAlsaData.html#ae1ef01d27ffd878e55c5dd24ec41fca3">reorder_buf</a> = <a class="code" href="tableprint__vlc_8h.html#a0bbd41ab30b4164703f00cb76142ffe8">av_malloc_array</a>(s-&gt;<a class="code" href="structAlsaData.html#a04a20e6b1797e296d042ab005d532edf">reorder_buf_size</a>, s-&gt;<a class="code" href="structAlsaData.html#adf498cc1f69b0f12c006fc9ba3df6960">frame_size</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structAlsaData.html#ae1ef01d27ffd878e55c5dd24ec41fca3">reorder_buf</a>)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <span class="keywordflow">goto</span> fail1;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    s-&gt;<a class="code" href="structAlsaData.html#ad757f16c741a512bf70e8553bea37a4e">h</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    snd_pcm_hw_params_free(hw_params);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;fail1:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    snd_pcm_close(h);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EIO);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="alsa_8h.html#a8bb8d1c1b825fd261392772901a8ba38">  299</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="alsa_8c.html#af955102b8a6748ccc5224cb5ab887af3">ff_alsa_close</a>(<a class="code" href="structAVFormatContext.html">AVFormatContext</a> *<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;{</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="structAlsaData.html">AlsaData</a> *s = s1-&gt;<a class="code" href="structAVFormatContext.html#ac4c0777e54085af2f3f1b27130e2b21b">priv_data</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;s-&gt;<a class="code" href="structAlsaData.html#ae1ef01d27ffd878e55c5dd24ec41fca3">reorder_buf</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="build_2config_8h.html#aa669775035fcab3bde1b1836b9ea1f1f">CONFIG_ALSA_INDEV</a>)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="timefilter_8c.html#a472d6e07383027f1f2924292aad86b68">ff_timefilter_destroy</a>(s-&gt;<a class="code" href="structAlsaData.html#a9fbd3bceed2d7dc9bbd2f17b3f5eae9e">timefilter</a>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    snd_pcm_close(s-&gt;<a class="code" href="structAlsaData.html#ad757f16c741a512bf70e8553bea37a4e">h</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="alsa_8h.html#af819b81f3c0035e4867e8e6fed47647a">  310</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="alsa_8c.html#a0013aaea6d6dc36ad2c356de21892948">ff_alsa_xrun_recover</a>(<a class="code" href="structAVFormatContext.html">AVFormatContext</a> *<a class="code" href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a>, <span class="keywordtype">int</span> err)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="structAlsaData.html">AlsaData</a> *s = s1-&gt;<a class="code" href="structAVFormatContext.html#ac4c0777e54085af2f3f1b27130e2b21b">priv_data</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    snd_pcm_t *handle = s-&gt;<a class="code" href="structAlsaData.html#ad757f16c741a512bf70e8553bea37a4e">h</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(s1, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;ALSA buffer xrun.\n&quot;</span>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (err == -EPIPE) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        err = snd_pcm_prepare(handle);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(s1, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;cannot recover from underrun (snd_pcm_prepare failed: %s)\n&quot;</span>, snd_strerror(err));</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EIO);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == -ESTRPIPE) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(s1, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;-ESTRPIPE... Unsupported!\n&quot;</span>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="alsa_8h.html#aef35a51120ec8b7bb0ae91edb5be7cee">  331</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="alsa_8c.html#ab76febf0ca3228d49497e39b8c9a72dc">ff_alsa_extend_reorder_buf</a>(<a class="code" href="structAlsaData.html">AlsaData</a> *s, <span class="keywordtype">int</span> min_size)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = s-&gt;<a class="code" href="structAlsaData.html#a04a20e6b1797e296d042ab005d532edf">reorder_buf_size</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(size != 0);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">while</span> (size &lt; min_size)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        size *= 2;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    r = <a class="code" href="group__lavu__mem__funcs.html#gaadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(s-&gt;<a class="code" href="structAlsaData.html#ae1ef01d27ffd878e55c5dd24ec41fca3">reorder_buf</a>, size, s-&gt;<a class="code" href="structAlsaData.html#adf498cc1f69b0f12c006fc9ba3df6960">frame_size</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (!r)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    s-&gt;<a class="code" href="structAlsaData.html#ae1ef01d27ffd878e55c5dd24ec41fca3">reorder_buf</a> = <a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    s-&gt;<a class="code" href="structAlsaData.html#a04a20e6b1797e296d042ab005d532edf">reorder_buf_size</a> = <a class="code" href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">/* ported from alsa-utils/aplay.c */</span></div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="alsa_8h.html#a93462ee2c45b6c26ecf583f5c26a0abf">  348</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="alsa_8c.html#a394dbed0d38cef2c68b2a0bbef47d4a2">ff_alsa_get_device_list</a>(<a class="code" href="structAVDeviceInfoList.html">AVDeviceInfoList</a> *device_list, snd_pcm_stream_t stream_type)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordtype">void</span> **hints, **<a class="code" href="avisynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="avisynth__c_8h.html#afcd1706c9144e6d6eee6127661ae3be2">name</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *descr = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *io = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="tests_2des_8c.html#ae9a986282b2908caa6e018751ead8ade">tmp</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="structAVDeviceInfo.html">AVDeviceInfo</a> *new_device = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cfhd_8c.html#a7a882de3f18a884eff9e578a91f6d476">filter</a> = stream_type == SND_PCM_STREAM_PLAYBACK ? <span class="stringliteral">&quot;Output&quot;</span> : <span class="stringliteral">&quot;Input&quot;</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (snd_device_name_hint(-1, <span class="stringliteral">&quot;pcm&quot;</span>, &amp;hints) &lt; 0)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga9c520e483ba8648495620ffdb4c491f2">AVERROR_EXTERNAL</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    n = hints;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">while</span> (*n &amp;&amp; !ret) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        name = snd_device_name_get_hint(*n, <span class="stringliteral">&quot;NAME&quot;</span>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        descr = snd_device_name_get_hint(*n, <span class="stringliteral">&quot;DESC&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        io = snd_device_name_get_hint(*n, <span class="stringliteral">&quot;IOID&quot;</span>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">if</span> (!io || !strcmp(io, filter)) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            new_device = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(<span class="keyword">sizeof</span>(<a class="code" href="structAVDeviceInfo.html">AVDeviceInfo</a>));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">if</span> (!new_device) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            new_device-&gt;<a class="code" href="structAVDeviceInfo.html#af856e00bdd54b7d87fc4afdf211c4757">device_name</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(name);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">if</span> ((tmp = strrchr(descr, <span class="charliteral">&#39;\n&#39;</span>)) &amp;&amp; tmp[1])</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                new_device-&gt;<a class="code" href="structAVDeviceInfo.html#a3d642926b6f45112cda628a395f6135a">device_description</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(&amp;tmp[1]);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                new_device-&gt;<a class="code" href="structAVDeviceInfo.html#a3d642926b6f45112cda628a395f6135a">device_description</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(descr);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">if</span> (!new_device-&gt;<a class="code" href="structAVDeviceInfo.html#a3d642926b6f45112cda628a395f6135a">device_description</a> || !new_device-&gt;<a class="code" href="structAVDeviceInfo.html#af856e00bdd54b7d87fc4afdf211c4757">device_name</a>) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavu__mem__dynarray.html#ga5e3735b4568e78fffd7c4ea2f793996e">av_dynarray_add_nofree</a>(&amp;device_list-&gt;<a class="code" href="structAVDeviceInfoList.html#ae2515bb1fe98693b85adbdf380d76cd8">devices</a>,</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                              &amp;device_list-&gt;<a class="code" href="structAVDeviceInfoList.html#a8253ca399209d2cfd83667b78accbe28">nb_devices</a>, new_device)) &lt; 0) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">if</span> (!strcmp(new_device-&gt;<a class="code" href="structAVDeviceInfo.html#af856e00bdd54b7d87fc4afdf211c4757">device_name</a>, <span class="stringliteral">&quot;default&quot;</span>))</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                device_list-&gt;<a class="code" href="structAVDeviceInfoList.html#a88278f6896ae0b13d526c89014dac77b">default_device</a> = device_list-&gt;<a class="code" href="structAVDeviceInfoList.html#a8253ca399209d2cfd83667b78accbe28">nb_devices</a> - 1;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            new_device = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        free(io);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        free(name);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        free(descr);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        n++;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (new_device) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(new_device-&gt;<a class="code" href="structAVDeviceInfo.html#a3d642926b6f45112cda628a395f6135a">device_description</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(new_device-&gt;<a class="code" href="structAVDeviceInfo.html#af856e00bdd54b7d87fc4afdf211c4757">device_name</a>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(new_device);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    snd_device_name_free_hint(hints);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="ttc" id="avisynth__c_8h_html_afcd1706c9144e6d6eee6127661ae3be2"><div class="ttname"><a href="avisynth__c_8h.html#afcd1706c9144e6d6eee6127661ae3be2">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00775">avisynth_c.h:775</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8">AV_CODEC_ID_PCM_S24BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00432">avcodec.h:432</a></div></div>
<div class="ttc" id="structAVDeviceInfo_html"><div class="ttname"><a href="structAVDeviceInfo.html">AVDeviceInfo</a></div><div class="ttdoc">Structure describes basic parameters of the device. </div><div class="ttdef"><b>Definition:</b> <a href="avdevice_8h_source.html#l00453">avdevice.h:453</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_ga2006ce652a95bad74291db52fa346464"><div class="ttname"><a href="group__channel__mask__c.html#ga2006ce652a95bad74291db52fa346464">AV_CH_LAYOUT_7POINT1</a></div><div class="ttdeci">#define AV_CH_LAYOUT_7POINT1</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00107">channel_layout.h:107</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_ab87f55bd0280d90925050a4188c14ab5"><div class="ttname"><a href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a></div><div class="ttdeci">const char * s</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00768">avisynth_c.h:768</a></div></div>
<div class="ttc" id="ffmpeg__vaapi_8c_html_a0fd12851a78b80080e277db30411728d"><div class="ttname"><a href="ffmpeg__vaapi_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__vaapi_8c_source.html#l00149">ffmpeg_vaapi.c:149</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00192">avcodec.h:192</a></div></div>
<div class="ttc" id="twinvq__data_8h_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea689ee50aa42c2ae666da10615ff78e10"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea689ee50aa42c2ae666da10615ff78e10">AV_CODEC_ID_PCM_S8</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00423">avcodec.h:423</a></div></div>
<div class="ttc" id="vp9dsp__template_8c_html_a5e36941b3d856737e81516acd45edc50"><div class="ttname"><a href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div><div class="ttdeci">h</div><div class="ttdef"><b>Definition:</b> <a href="vp9dsp__template_8c_source.html#l02038">vp9dsp_template.c:2038</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf74e44549c9bac344123cede6a0871ca"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf74e44549c9bac344123cede6a0871ca">AV_CODEC_ID_PCM_U16LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00421">avcodec.h:421</a></div></div>
<div class="ttc" id="timefilter_8c_html_a472d6e07383027f1f2924292aad86b68"><div class="ttname"><a href="timefilter_8c.html#a472d6e07383027f1f2924292aad86b68">ff_timefilter_destroy</a></div><div class="ttdeci">void ff_timefilter_destroy(TimeFilter *self)</div><div class="ttdoc">Free all resources associated with the filter. </div><div class="ttdef"><b>Definition:</b> <a href="timefilter_8c_source.html#l00062">timefilter.c:62</a></div></div>
<div class="ttc" id="structAVDeviceInfo_html_a3d642926b6f45112cda628a395f6135a"><div class="ttname"><a href="structAVDeviceInfo.html#a3d642926b6f45112cda628a395f6135a">AVDeviceInfo::device_description</a></div><div class="ttdeci">char * device_description</div><div class="ttdoc">human friendly name </div><div class="ttdef"><b>Definition:</b> <a href="avdevice_8h_source.html#l00455">avdevice.h:455</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdoc">Something somehow does not look correct. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00182">log.h:182</a></div></div>
<div class="ttc" id="ff__glob_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="ff__glob_8c_source.html#l00222">ff_glob.c:222</a></div></div>
<div class="ttc" id="structAVDeviceInfo_html_af856e00bdd54b7d87fc4afdf211c4757"><div class="ttname"><a href="structAVDeviceInfo.html#af856e00bdd54b7d87fc4afdf211c4757">AVDeviceInfo::device_name</a></div><div class="ttdeci">char * device_name</div><div class="ttdoc">device name, format depends on device </div><div class="ttdef"><b>Definition:</b> <a href="avdevice_8h_source.html#l00454">avdevice.h:454</a></div></div>
<div class="ttc" id="structAVFormatContext_html_aaf1ef435f30fce3cd0872467267512d0"><div class="ttname"><a href="structAVFormatContext.html#aaf1ef435f30fce3cd0872467267512d0">AVFormatContext::filename</a></div><div class="ttdeci">char filename[OUTPUT_FILENAME_LEN]</div><div class="ttdoc">input or output filename </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01414">avformat.h:1414</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_ga10eddec555bcf849efce5158b0cbdb50"><div class="ttname"><a href="group__channel__mask__c.html#ga10eddec555bcf849efce5158b0cbdb50">AV_CH_LAYOUT_5POINT0</a></div><div class="ttdeci">#define AV_CH_LAYOUT_5POINT0</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00095">channel_layout.h:95</a></div></div>
<div class="ttc" id="build_2config_8h_html_aa669775035fcab3bde1b1836b9ea1f1f"><div class="ttname"><a href="build_2config_8h.html#aa669775035fcab3bde1b1836b9ea1f1f">CONFIG_ALSA_INDEV</a></div><div class="ttdeci">#define CONFIG_ALSA_INDEV</div><div class="ttdef"><b>Definition:</b> <a href="build_2config_8h_source.html#l01956">config.h:1956</a></div></div>
<div class="ttc" id="alsa_8h_html"><div class="ttname"><a href="alsa_8h.html">alsa.h</a></div><div class="ttdoc">ALSA input and output: definitions and structures. </div></div>
<div class="ttc" id="structAVFormatContext_html"><div class="ttname"><a href="structAVFormatContext.html">AVFormatContext</a></div><div class="ttdoc">Format I/O context. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01338">avformat.h:1338</a></div></div>
<div class="ttc" id="avassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdoc">assert() equivalent, that is always enabled. </div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="avformat_8h_html_a4fd189c4f2464afad342133be7bf6aeb"><div class="ttname"><a href="avformat_8h.html#a4fd189c4f2464afad342133be7bf6aeb">AVFMT_FLAG_NONBLOCK</a></div><div class="ttdeci">#define AVFMT_FLAG_NONBLOCK</div><div class="ttdoc">Do not block when reading packets from input. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01452">avformat.h:1452</a></div></div>
<div class="ttc" id="attributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00082">attributes.h:82</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceae4523044929927b24cbb846463584a7c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae4523044929927b24cbb846463584a7c">AV_CODEC_ID_PCM_U24LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00433">avcodec.h:433</a></div></div>
<div class="ttc" id="cfhd_8c_html_a7a882de3f18a884eff9e578a91f6d476"><div class="ttname"><a href="cfhd_8c.html#a7a882de3f18a884eff9e578a91f6d476">filter</a></div><div class="ttdeci">static void filter(int16_t *output, ptrdiff_t out_stride, int16_t *low, ptrdiff_t low_stride, int16_t *high, ptrdiff_t high_stride, int len, uint8_t clip)</div><div class="ttdef"><b>Definition:</b> <a href="cfhd_8c_source.html#l00080">cfhd.c:80</a></div></div>
<div class="ttc" id="structAVFormatContext_html_acfefb6b6cf21e87a0dcbd1a547ba2348"><div class="ttname"><a href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">AVFormatContext::streams</a></div><div class="ttdeci">AVStream ** streams</div><div class="ttdoc">A list of all streams in the file. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01406">avformat.h:1406</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a32379cc371463b235d54235d4af06a15"><div class="ttname"><a href="structAVFormatContext.html#a32379cc371463b235d54235d4af06a15">AVFormatContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdoc">Flags modifying the (de)muxer behaviour. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01449">avformat.h:1449</a></div></div>
<div class="ttc" id="log_8c_html_ac8bf36fe0577cba66bccda3a6f7e80a4"><div class="ttname"><a href="log_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a></div><div class="ttdeci">static int flags</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00057">log.c:57</a></div></div>
<div class="ttc" id="group__lavu__mem__dynarray_html_ga5e3735b4568e78fffd7c4ea2f793996e"><div class="ttname"><a href="group__lavu__mem__dynarray.html#ga5e3735b4568e78fffd7c4ea2f793996e">av_dynarray_add_nofree</a></div><div class="ttdeci">int av_dynarray_add_nofree(void *tab_ptr, int *nb_ptr, void *elem)</div><div class="ttdoc">Add an element to a dynamic array. </div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00310">mem.c:310</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_gaadc230ece36ef112710b262a6601a16b"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaadc230ece36ef112710b262a6601a16b">av_realloc_array</a></div><div class="ttdeci">void * av_realloc_array(void *ptr, size_t nmemb, size_t size)</div><div class="ttdoc">Allocate, reallocate, or free an array. </div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00208">mem.c:208</a></div></div>
<div class="ttc" id="alsa_8c_html_ab76febf0ca3228d49497e39b8c9a72dc"><div class="ttname"><a href="alsa_8c.html#ab76febf0ca3228d49497e39b8c9a72dc">ff_alsa_extend_reorder_buf</a></div><div class="ttdeci">int ff_alsa_extend_reorder_buf(AlsaData *s, int min_size)</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8c_source.html#l00331">alsa.c:331</a></div></div>
<div class="ttc" id="structAVCodecParameters_html_a18e0af4b263443a6c4d2d5304dbd537e"><div class="ttname"><a href="structAVCodecParameters.html#a18e0af4b263443a6c4d2d5304dbd537e">AVCodecParameters::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdoc">Audio only. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l04101">avcodec.h:4101</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_gac36a042dc21866f9043ce930f300d0df"><div class="ttname"><a href="group__channel__mask__c.html#gac36a042dc21866f9043ce930f300d0df">AV_CH_LAYOUT_5POINT1</a></div><div class="ttdeci">#define AV_CH_LAYOUT_5POINT1</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00096">channel_layout.h:96</a></div></div>
<div class="ttc" id="avdevice_8h_html"><div class="ttname"><a href="avdevice_8h.html">avdevice.h</a></div><div class="ttdoc">Main libavdevice API header. </div></div>
<div class="ttc" id="alsa_8c_html_a0cd3f60243b366a1084f5ca646f22c0c"><div class="ttname"><a href="alsa_8c.html#a0cd3f60243b366a1084f5ca646f22c0c">FORMAT_F32</a></div><div class="ttdeci">#define FORMAT_F32</div></div>
<div class="ttc" id="alsa_8c_html_ac22a1b139b0374d5d45bfbcbf2dc2297"><div class="ttname"><a href="alsa_8c.html#ac22a1b139b0374d5d45bfbcbf2dc2297">codec_id_to_pcm_format</a></div><div class="ttdeci">static av_cold snd_pcm_format_t codec_id_to_pcm_format(int codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8c_source.html#l00038">alsa.c:38</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea794b01f8eb94f196d5ebb9f4af1ae0c2"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea794b01f8eb94f196d5ebb9f4af1ae0c2">AV_CODEC_ID_PCM_ALAW</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00426">avcodec.h:426</a></div></div>
<div class="ttc" id="group__lavc__core_html_gaadca229ad2c20e060a14fec08a5cc7ce"><div class="ttname"><a href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a></div><div class="ttdeci">AVCodecID</div><div class="ttdoc">Identify the syntax and semantics of the bitstream. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00191">avcodec.h:191</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdoc">Something went wrong and cannot losslessly be recovered. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00176">log.h:176</a></div></div>
<div class="ttc" id="group__lavc__misc_html_ga0717e7440fdb123f708082f66cd9b41d"><div class="ttname"><a href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a></div><div class="ttdeci">int av_get_bits_per_sample(enum AVCodecID codec_id)</div><div class="ttdoc">Return codec bits per sample. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l03539">utils.c:3539</a></div></div>
<div class="ttc" id="alsa_8h_html_a851de2f2b346da3f66ae7cf573985473"><div class="ttname"><a href="alsa_8h.html#a851de2f2b346da3f66ae7cf573985473">DEFAULT_CODEC_ID</a></div><div class="ttdeci">#define DEFAULT_CODEC_ID</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00042">alsa.h:42</a></div></div>
<div class="ttc" id="group__lavu__error_html_gae4bb6f165973d09584e0ec0f335f69ca"><div class="ttname"><a href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a></div><div class="ttdeci">#define AVERROR(e)</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00043">error.h:43</a></div></div>
<div class="ttc" id="structAlsaData_html"><div class="ttname"><a href="structAlsaData.html">AlsaData</a></div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00048">alsa.h:48</a></div></div>
<div class="ttc" id="vf__curves_8c_html_a33ac7b8ce37a3a60855883424fcf8b62"><div class="ttname"><a href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a></div><div class="ttdeci">const char * r</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00111">vf_curves.c:111</a></div></div>
<div class="ttc" id="avassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div><div class="ttdoc">simple assert() macros that are a bit more flexible than ISO C assert(). </div></div>
<div class="ttc" id="group__channel__mask__c_html_ga0982ce29eced939dfcfb5b52416810ae"><div class="ttname"><a href="group__channel__mask__c.html#ga0982ce29eced939dfcfb5b52416810ae">AV_CH_LAYOUT_QUAD</a></div><div class="ttdeci">#define AV_CH_LAYOUT_QUAD</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00094">channel_layout.h:94</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_ga6a42cc41278e2f5a5b658d2202d1650d"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdoc">Allocate a memory block with alignment suitable for all memory accesses (including vectors if availab...</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00252">mem.c:252</a></div></div>
<div class="ttc" id="structAVDeviceInfoList_html_ae2515bb1fe98693b85adbdf380d76cd8"><div class="ttname"><a href="structAVDeviceInfoList.html#ae2515bb1fe98693b85adbdf380d76cd8">AVDeviceInfoList::devices</a></div><div class="ttdeci">AVDeviceInfo ** devices</div><div class="ttdoc">list of autodetected devices </div><div class="ttdef"><b>Definition:</b> <a href="avdevice_8h_source.html#l00462">avdevice.h:462</a></div></div>
<div class="ttc" id="alsa_8c_html_a794f21ede4edfff93194e266c8af5b4a"><div class="ttname"><a href="alsa_8c.html#a794f21ede4edfff93194e266c8af5b4a">FORMAT_I16</a></div><div class="ttdeci">#define FORMAT_I16</div></div>
<div class="ttc" id="alsa_8c_html_a38af2b750d6b5c9fa8814b9e2f4f8a9a"><div class="ttname"><a href="alsa_8c.html#a38af2b750d6b5c9fa8814b9e2f4f8a9a">MAKE_REORDER_FUNCS</a></div><div class="ttdeci">#define MAKE_REORDER_FUNCS(CHANNELS, LAYOUT, MAP)</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8c_source.html#l00080">alsa.c:80</a></div></div>
<div class="ttc" id="alsa_8h_html_a5dbfa57bfbb5ef33e2f8001ab6ed2525"><div class="ttname"><a href="alsa_8h.html#a5dbfa57bfbb5ef33e2f8001ab6ed2525">ALSA_BUFFER_SIZE_MAX</a></div><div class="ttdeci">#define ALSA_BUFFER_SIZE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00046">alsa.h:46</a></div></div>
<div class="ttc" id="checkasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00084">checkasm.h:84</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_ga5c25ee8b976d0cb15e0b6d2cf923d19d"><div class="ttname"><a href="group__channel__mask__c.html#ga5c25ee8b976d0cb15e0b6d2cf923d19d">AV_CH_LAYOUT_2_2</a></div><div class="ttdeci">#define AV_CH_LAYOUT_2_2</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00093">channel_layout.h:93</a></div></div>
<div class="ttc" id="structAlsaData_html_a4c338c624482a59391f075951bc6f262"><div class="ttname"><a href="structAlsaData.html#a4c338c624482a59391f075951bc6f262">AlsaData::reorder_func</a></div><div class="ttdeci">void(* reorder_func)(const void *, void *, int)</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00057">alsa.h:57</a></div></div>
<div class="ttc" id="channel__layout_8h_html"><div class="ttname"><a href="channel__layout_8h.html">channel_layout.h</a></div><div class="ttdoc">audio channel layout utility functions </div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea56e4ec447eb34b4af671fd5c8e36ddb4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea56e4ec447eb34b4af671fd5c8e36ddb4">AV_CODEC_ID_PCM_U24BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00434">avcodec.h:434</a></div></div>
<div class="ttc" id="common_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8d7e94ed46d290528877c6a8949a756c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8d7e94ed46d290528877c6a8949a756c">AV_CODEC_ID_PCM_U16BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00422">avcodec.h:422</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceabbe3519b849a2acd3e8366bc1173f221"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabbe3519b849a2acd3e8366bc1173f221">AV_CODEC_ID_PCM_F64BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00441">avcodec.h:441</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a76f11d9a0a47b94f72c2d0e77fb32240"><div class="ttname"><a href="avisynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00684">avisynth_c.h:684</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_gae9da5d6069701241a22f3af19b152662"><div class="ttname"><a href="group__channel__mask__c.html#gae9da5d6069701241a22f3af19b152662">AV_CH_LAYOUT_5POINT1_BACK</a></div><div class="ttdeci">#define AV_CH_LAYOUT_5POINT1_BACK</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00098">channel_layout.h:98</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c">AV_CODEC_ID_PCM_S16BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00420">avcodec.h:420</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_ga99d0b5bb80534d13a6cc96336cf9076a"><div class="ttname"><a href="group__channel__mask__c.html#ga99d0b5bb80534d13a6cc96336cf9076a">av_get_channel_layout_string</a></div><div class="ttdeci">void av_get_channel_layout_string(char *buf, int buf_size, int nb_channels, uint64_t channel_layout)</div><div class="ttdoc">Return a description of a channel layout. </div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00189">channel_layout.c:189</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea1e9ff6fe2442af342b2b42a1a0b2abc8"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1e9ff6fe2442af342b2b42a1a0b2abc8">AV_CODEC_ID_PCM_U8</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00424">avcodec.h:424</a></div></div>
<div class="ttc" id="ffmpeg__filter_8c_html_a9feef5270e0e54f103868362df0cd27a"><div class="ttname"><a href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a></div><div class="ttdeci">sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00190">ffmpeg_filter.c:190</a></div></div>
<div class="ttc" id="structAlsaData_html_ae1ef01d27ffd878e55c5dd24ec41fca3"><div class="ttname"><a href="structAlsaData.html#ae1ef01d27ffd878e55c5dd24ec41fca3">AlsaData::reorder_buf</a></div><div class="ttdeci">void * reorder_buf</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00058">alsa.h:58</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_ga7c352f4cff02184f005323691375fea9"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a></div><div class="ttdeci">char * av_strdup(const char *s)</div><div class="ttdoc">Duplicate a string. </div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00267">mem.c:267</a></div></div>
<div class="ttc" id="alsa_8c_html_a0013aaea6d6dc36ad2c356de21892948"><div class="ttname"><a href="alsa_8c.html#a0013aaea6d6dc36ad2c356de21892948">ff_alsa_xrun_recover</a></div><div class="ttdeci">int ff_alsa_xrun_recover(AVFormatContext *s1, int err)</div><div class="ttdoc">Try to recover from ALSA buffer underrun. </div><div class="ttdef"><b>Definition:</b> <a href="alsa_8c_source.html#l00310">alsa.c:310</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaffd38a41156e08564e5c6e88dbd06cb2"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaffd38a41156e08564e5c6e88dbd06cb2">AV_CODEC_ID_PCM_MULAW</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00425">avcodec.h:425</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea71143037f27cc95fd5b5b8245cc6d8b9"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea71143037f27cc95fd5b5b8245cc6d8b9">AV_CODEC_ID_PCM_U32LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00429">avcodec.h:429</a></div></div>
<div class="ttc" id="alsa_8c_html_af955102b8a6748ccc5224cb5ab887af3"><div class="ttname"><a href="alsa_8c.html#af955102b8a6748ccc5224cb5ab887af3">ff_alsa_close</a></div><div class="ttdeci">av_cold int ff_alsa_close(AVFormatContext *s1)</div><div class="ttdoc">Close the ALSA PCM. </div><div class="ttdef"><b>Definition:</b> <a href="alsa_8c_source.html#l00299">alsa.c:299</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea2e3b263e55bf4774f5a3a1d7b0261df4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea2e3b263e55bf4774f5a3a1d7b0261df4">AV_CODEC_ID_PCM_F32BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00439">avcodec.h:439</a></div></div>
<div class="ttc" id="structAlsaData_html_a9fbd3bceed2d7dc9bbd2f17b3f5eae9e"><div class="ttname"><a href="structAlsaData.html#a9fbd3bceed2d7dc9bbd2f17b3f5eae9e">AlsaData::timefilter</a></div><div class="ttdeci">TimeFilter * timefilter</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00056">alsa.h:56</a></div></div>
<div class="ttc" id="audio__convert_8c_html_ab92ad91055387e15b43ff5f6f60f2895"><div class="ttname"><a href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a></div><div class="ttdeci">uint8_t pi&lt;&lt; 24) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0f/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S16, int16_t,(*(const int16_t *) pi &gt;&gt; 8)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0f/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S32, int32_t,(*(const int32_t *) pi &gt;&gt; 24)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0f/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_FLT, float, av_clip_uint8(lrintf(*(const float *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_FLT, float, av_clip_int16(lrintf(*(const float *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_FLT, float, av_clipl_int32(llrintf(*(const float *) pi *(1U&lt;&lt; 31)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_DBL, double, av_clip_uint8(lrint(*(const double *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_DBL, double, av_clip_int16(lrint(*(const double *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_DBL, double, av_clipl_int32(llrint(*(const double *) pi *(1U&lt;&lt; 31)))) #define SET_CONV_FUNC_GROUP(ofmt, ifmt) static void set_generic_function(AudioConvert *ac) { } void ff_audio_convert_free(AudioConvert **ac) { if(! *ac) return;ff_dither_free(&amp;(*ac) -&gt;dc);av_freep(ac);} AudioConvert *ff_audio_convert_alloc(AVAudioResampleContext *avr, enum AVSampleFormat out_fmt, enum AVSampleFormat in_fmt, int channels, int sample_rate, int apply_map) { AudioConvert *ac;int in_planar, out_planar;ac=av_mallocz(sizeof(*ac));if(!ac) return NULL;ac-&gt;avr=avr;ac-&gt;out_fmt=out_fmt;ac-&gt;in_fmt=in_fmt;ac-&gt;channels=channels;ac-&gt;apply_map=apply_map;if(avr-&gt;dither_method !=AV_RESAMPLE_DITHER_NONE &amp;&amp;av_get_packed_sample_fmt(out_fmt)==AV_SAMPLE_FMT_S16 &amp;&amp;av_get_bytes_per_sample(in_fmt) &gt; 2) { ac-&gt;dc=ff_dither_alloc(avr, out_fmt, in_fmt, channels, sample_rate, apply_map);if(!ac-&gt;dc) { av_free(ac);return NULL;} return ac;} in_planar=ff_sample_fmt_is_planar(in_fmt, channels);out_planar=ff_sample_fmt_is_planar(out_fmt, channels);if(in_planar==out_planar) { ac-&gt;func_type=CONV_FUNC_TYPE_FLAT;ac-&gt;planes=in_planar ? ac-&gt;channels :1;} else if(in_planar) ac-&gt;func_type=CONV_FUNC_TYPE_INTERLEAVE;else ac-&gt;func_type=CONV_FUNC_TYPE_DEINTERLEAVE;set_generic_function(ac);if(ARCH_AARCH64) ff_audio_convert_init_aarch64(ac);if(ARCH_ARM) ff_audio_convert_init_arm(ac);if(ARCH_X86) ff_audio_convert_init_x86(ac);return ac;} int ff_audio_convert(AudioConvert *ac, AudioData *out, AudioData *in) { int use_generic=1;int len=in-&gt;nb_samples;int p;if(ac-&gt;dc) { av_log(ac-&gt;avr, AV_LOG_TRACE, &quot;%d samples - audio_convert: %s to %s (dithered)\&quot;, len, av_get_sample_fmt_name(ac-&gt;in_fmt), av_get_sample_fmt_name(ac-&gt;out_fmt));return ff_convert_dither(ac-&gt; in</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_a6bd2bb5fcc7628a640958994a22f997c"><div class="ttname"><a href="tests_2movenc_8c.html#a6bd2bb5fcc7628a640958994a22f997c">format</a></div><div class="ttdeci">static const char * format</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00047">movenc.c:47</a></div></div>
<div class="ttc" id="alsa_8c_html_a394dbed0d38cef2c68b2a0bbef47d4a2"><div class="ttname"><a href="alsa_8c.html#a394dbed0d38cef2c68b2a0bbef47d4a2">ff_alsa_get_device_list</a></div><div class="ttdeci">int ff_alsa_get_device_list(AVDeviceInfoList *device_list, snd_pcm_stream_t stream_type)</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8c_source.html#l00348">alsa.c:348</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_gab057e9fd36b7e929d000d663badbafc6"><div class="ttname"><a href="group__channel__mask__c.html#gab057e9fd36b7e929d000d663badbafc6">AV_CH_LAYOUT_5POINT0_BACK</a></div><div class="ttdeci">#define AV_CH_LAYOUT_5POINT0_BACK</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00097">channel_layout.h:97</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea55f60c53c2cc765877092c125ee172be"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea55f60c53c2cc765877092c125ee172be">AV_CODEC_ID_PCM_S24LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00431">avcodec.h:431</a></div></div>
<div class="ttc" id="regdef_8h_html_a09dff3d9a89874939fa7cc9d056b114c"><div class="ttname"><a href="regdef_8h.html#a09dff3d9a89874939fa7cc9d056b114c">s1</a></div><div class="ttdeci">#define s1</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00038">regdef.h:38</a></div></div>
<div class="ttc" id="structAVDeviceInfoList_html_a88278f6896ae0b13d526c89014dac77b"><div class="ttname"><a href="structAVDeviceInfoList.html#a88278f6896ae0b13d526c89014dac77b">AVDeviceInfoList::default_device</a></div><div class="ttdeci">int default_device</div><div class="ttdoc">index of default device or -1 if no default </div><div class="ttdef"><b>Definition:</b> <a href="avdevice_8h_source.html#l00464">avdevice.h:464</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea7a06659945e1b8973c6f4712d4910ba1"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a06659945e1b8973c6f4712d4910ba1">AV_CODEC_ID_PCM_F64LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00442">avcodec.h:442</a></div></div>
<div class="ttc" id="structAVDeviceInfoList_html"><div class="ttname"><a href="structAVDeviceInfoList.html">AVDeviceInfoList</a></div><div class="ttdoc">List of devices. </div><div class="ttdef"><b>Definition:</b> <a href="avdevice_8h_source.html#l00461">avdevice.h:461</a></div></div>
<div class="ttc" id="alsa_8c_html_a71a054d8ef82f98c2f544e04294edf04"><div class="ttname"><a href="alsa_8c.html#a71a054d8ef82f98c2f544e04294edf04">PICK_REORDER</a></div><div class="ttdeci">#define PICK_REORDER(layout)</div></div>
<div class="ttc" id="structAlsaData_html_afdfd2b00f47bbda530915386baf51a6e"><div class="ttname"><a href="structAlsaData.html#afdfd2b00f47bbda530915386baf51a6e">AlsaData::period_size</a></div><div class="ttdeci">int period_size</div><div class="ttdoc">preferred size for reads and writes, in frames </div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00052">alsa.h:52</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0178ff664c08bd74594545ba0c5efacb"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0178ff664c08bd74594545ba0c5efacb">AV_CODEC_ID_PCM_F32LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00440">avcodec.h:440</a></div></div>
<div class="ttc" id="alsa_8c_html_a17ae066a7ace55c546eb86c697099229"><div class="ttname"><a href="alsa_8c.html#a17ae066a7ace55c546eb86c697099229">FORMAT_I32</a></div><div class="ttdeci">#define FORMAT_I32</div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf9d8f80b2f0c516669ea9d6f18c69ebd"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf9d8f80b2f0c516669ea9d6f18c69ebd">AV_CODEC_ID_PCM_U32BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00430">avcodec.h:430</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea29c8a6ec93ad1a77e50f2b48efa80204"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea29c8a6ec93ad1a77e50f2b48efa80204">AV_CODEC_ID_PCM_S16LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00419">avcodec.h:419</a></div></div>
<div class="ttc" id="alsa_8c_html_ab4f42736e8394304f7cf955caf867bb0"><div class="ttname"><a href="alsa_8c.html#ab4f42736e8394304f7cf955caf867bb0">FORMAT_I8</a></div><div class="ttdeci">#define FORMAT_I8</div></div>
<div class="ttc" id="tableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="tests_2des_8c_html_ae9a986282b2908caa6e018751ead8ade"><div class="ttname"><a href="tests_2des_8c.html#ae9a986282b2908caa6e018751ead8ade">tmp</a></div><div class="ttdeci">static uint8_t tmp[8]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2des_8c_source.html#l00038">des.c:38</a></div></div>
<div class="ttc" id="structAVFormatContext_html_ac4c0777e54085af2f3f1b27130e2b21b"><div class="ttname"><a href="structAVFormatContext.html#ac4c0777e54085af2f3f1b27130e2b21b">AVFormatContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdoc">Format private data. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01366">avformat.h:1366</a></div></div>
<div class="ttc" id="structAlsaData_html_ad757f16c741a512bf70e8553bea37a4e"><div class="ttname"><a href="structAlsaData.html#ad757f16c741a512bf70e8553bea37a4e">AlsaData::h</a></div><div class="ttdeci">snd_pcm_t * h</div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00050">alsa.h:50</a></div></div>
<div class="ttc" id="channel__layout_8c_html_a5fb8d8660239f03323dae7e7c1699f29"><div class="ttname"><a href="channel__layout_8c.html#a5fb8d8660239f03323dae7e7c1699f29">layout</a></div><div class="ttdeci">uint64_t layout</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00077">channel_layout.c:77</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_a1277960b5f2b37137fe9b0b5a1ea0beb"><div class="ttname"><a href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00054">movenc.c:54</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="structAlsaData_html_adf498cc1f69b0f12c006fc9ba3df6960"><div class="ttname"><a href="structAlsaData.html#adf498cc1f69b0f12c006fc9ba3df6960">AlsaData::frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdoc">bytes per sample * channels </div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00051">alsa.h:51</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea6384417ba463d7aeb03015797cff3349"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6384417ba463d7aeb03015797cff3349">AV_CODEC_ID_PCM_S32LE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00427">avcodec.h:427</a></div></div>
<div class="ttc" id="structAVStream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="structAVStream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01241">avformat.h:1241</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_a0bbd41ab30b4164703f00cb76142ffe8"><div class="ttname"><a href="tableprint__vlc_8h.html#a0bbd41ab30b4164703f00cb76142ffe8">av_malloc_array</a></div><div class="ttdeci">#define av_malloc_array(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00032">tableprint_vlc.h:32</a></div></div>
<div class="ttc" id="structAVDeviceInfoList_html_a8253ca399209d2cfd83667b78accbe28"><div class="ttname"><a href="structAVDeviceInfoList.html#a8253ca399209d2cfd83667b78accbe28">AVDeviceInfoList::nb_devices</a></div><div class="ttdeci">int nb_devices</div><div class="ttdoc">number of autodetected devices </div><div class="ttdef"><b>Definition:</b> <a href="avdevice_8h_source.html#l00463">avdevice.h:463</a></div></div>
<div class="ttc" id="group__lavu__error_html_ga9c520e483ba8648495620ffdb4c491f2"><div class="ttname"><a href="group__lavu__error.html#ga9c520e483ba8648495620ffdb4c491f2">AVERROR_EXTERNAL</a></div><div class="ttdeci">#define AVERROR_EXTERNAL</div><div class="ttdoc">Generic error in an external library. </div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00057">error.h:57</a></div></div>
<div class="ttc" id="structAlsaData_html_a04a20e6b1797e296d042ab005d532edf"><div class="ttname"><a href="structAlsaData.html#a04a20e6b1797e296d042ab005d532edf">AlsaData::reorder_buf_size</a></div><div class="ttdeci">int reorder_buf_size</div><div class="ttdoc">in frames </div><div class="ttdef"><b>Definition:</b> <a href="alsa_8h_source.html#l00059">alsa.h:59</a></div></div>
<div class="ttc" id="ebur128_8h_html_a1a6b6fb557d8d37d59700faf4e4c9167"><div class="ttname"><a href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a></div><div class="ttdeci">mode</div><div class="ttdoc">Use these values in ebur128_init (or&amp;#39;ed). </div><div class="ttdef"><b>Definition:</b> <a href="ebur128_8h_source.html#l00083">ebur128.h:83</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1">AV_CODEC_ID_PCM_S32BE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00428">avcodec.h:428</a></div></div>
<div class="ttc" id="alsa_8c_html_ae8517a07cdfa41c38afeb0eb2a124ec8"><div class="ttname"><a href="alsa_8c.html#ae8517a07cdfa41c38afeb0eb2a124ec8">ff_alsa_open</a></div><div class="ttdeci">av_cold int ff_alsa_open(AVFormatContext *ctx, snd_pcm_stream_t mode, unsigned int *sample_rate, int channels, enum AVCodecID *codec_id)</div><div class="ttdoc">Open an ALSA PCM. </div><div class="ttdef"><b>Definition:</b> <a href="alsa_8c_source.html#l00167">alsa.c:167</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:47:34 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
