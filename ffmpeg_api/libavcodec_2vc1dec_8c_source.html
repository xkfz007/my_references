<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: libavcodec/vc1dec.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3b1f69f89eda39a44baf4887988d54a7.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">vc1dec.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="libavcodec_2vc1dec_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * VC-1 and WMV3 decoder</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2011 Mashiat Sarker Shakkhar</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2006-2007 Konstantin Shishkov</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Partly based on vc9.c (c) 2005 Anonymous, Alex Beregszaszi, Michael Niedermayer</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * @file</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * VC-1 and WMV3 decoder</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="blockdsp_8h.html">blockdsp.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="get__bits_8h.html">get_bits.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavcodec_2internal_8h.html">internal.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpeg__er_8h.html">mpeg_er.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegvideo_8h.html">mpegvideo.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="msmpeg4_8h.html">msmpeg4.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="msmpeg4data_8h.html">msmpeg4data.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="profiles_8h.html">profiles.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vc1_8h.html">vc1.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vc1data_8h.html">vc1data.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vdpau__compat_8h.html">vdpau_compat.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#if CONFIG_WMV3IMAGE_DECODER || CONFIG_VC1IMAGE_DECODER</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>SpriteData {<span class="comment"></span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">     * Transform coefficients for both sprites in 16.16 fixed point format,</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">     * in the order they appear in the bitstream:</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">     *  x scale</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">     *  rotation 1 (unused)</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">     *  x offset</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">     *  rotation 2 (unused)</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">     *  y scale</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">     *  y offset</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">     *  alpha</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">int</span> coefs[2][7];</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">int</span> effect_type, effect_flag;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">int</span> effect_pcount1, effect_pcount2;   <span class="comment">///&lt; amount of effect parameters stored in effect_params</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> effect_params1[15], effect_params2[10]; <span class="comment">///&lt; effect parameters in 16.16 fixed point format</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span>} SpriteData;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> get_fp_val(<a class="code" href="structGetBitContext.html">GetBitContext</a>* gb)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 30) - (1 &lt;&lt; 29)) &lt;&lt; 1;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> vc1_sprite_parse_transform(<a class="code" href="structGetBitContext.html">GetBitContext</a>* gb, <span class="keywordtype">int</span> <a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a>[7])</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    c[1] = c[3] = 0;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2)) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        c[0] = 1 &lt;&lt; 16;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        c[2] = get_fp_val(gb);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        c[4] = 1 &lt;&lt; 16;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        c[0] = c[4] = get_fp_val(gb);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        c[2] = get_fp_val(gb);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        c[0] = get_fp_val(gb);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        c[2] = get_fp_val(gb);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        c[4] = get_fp_val(gb);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        c[0] = get_fp_val(gb);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        c[1] = get_fp_val(gb);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        c[2] = get_fp_val(gb);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        c[3] = get_fp_val(gb);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        c[4] = get_fp_val(gb);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    c[5] = get_fp_val(gb);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        c[6] = get_fp_val(gb);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        c[6] = 1 &lt;&lt; 16;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vc1_parse_sprites(<a class="code" href="structVC1Context.html">VC1Context</a> *v, <a class="code" href="structGetBitContext.html">GetBitContext</a>* gb, SpriteData* sd)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx = v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">int</span> sprite, i;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">for</span> (sprite = 0; sprite &lt;= v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a>; sprite++) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        vc1_sprite_parse_transform(gb, sd-&gt;coefs[sprite]);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">if</span> (sd-&gt;coefs[sprite][1] || sd-&gt;coefs[sprite][3])</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <a class="code" href="libavutil_2internal_8h.html#a6f548a661473b6189346b3cb9e135ac1">avpriv_request_sample</a>(avctx, <span class="stringliteral">&quot;Non-zero rotation coefficients&quot;</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, sprite ? <span class="stringliteral">&quot;S2:&quot;</span> : <span class="stringliteral">&quot;S1:&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; 7; i++)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot; %d.%.3d&quot;</span>,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                   sd-&gt;coefs[sprite][i] / (1&lt;&lt;16),</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                   (abs(sd-&gt;coefs[sprite][i]) &amp; 0xFFFF) * 1000 / (1 &lt;&lt; 16));</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 2);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (sd-&gt;effect_type = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 30)) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">switch</span> (sd-&gt;effect_pcount1 = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4)) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">case</span> 7:</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            vc1_sprite_parse_transform(gb, sd-&gt;effect_params1);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">case</span> 14:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            vc1_sprite_parse_transform(gb, sd-&gt;effect_params1);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            vc1_sprite_parse_transform(gb, sd-&gt;effect_params1 + 7);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; sd-&gt;effect_pcount1; i++)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                sd-&gt;effect_params1[i] = get_fp_val(gb);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (sd-&gt;effect_type != 13 || sd-&gt;effect_params1[0] != sd-&gt;coefs[0][6]) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="comment">// effect 13 is simple alpha blending and matches the opacity above</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Effect: %d; params: &quot;</span>, sd-&gt;effect_type);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; sd-&gt;effect_pcount1; i++)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot; %d.%.2d&quot;</span>,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                       sd-&gt;effect_params1[i] / (1 &lt;&lt; 16),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                       (abs(sd-&gt;effect_params1[i]) &amp; 0xFFFF) * 1000 / (1 &lt;&lt; 16));</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        sd-&gt;effect_pcount2 = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (sd-&gt;effect_pcount2 &gt; 10) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many effect parameters\n&quot;</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sd-&gt;effect_pcount2) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            i = -1;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Effect params 2: &quot;</span>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">while</span> (++i &lt; sd-&gt;effect_pcount2) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                sd-&gt;effect_params2[i] = get_fp_val(gb);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot; %d.%.2d&quot;</span>,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                       sd-&gt;effect_params2[i] / (1 &lt;&lt; 16),</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                       (abs(sd-&gt;effect_params2[i]) &amp; 0xFFFF) * 1000 / (1 &lt;&lt; 16));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (sd-&gt;effect_flag = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Effect flag set\n&quot;</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) &gt;= gb-&gt;<a class="code" href="structGetBitContext.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a> +</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;       (avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a> ? 64 : 0)) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Buffer overrun\n&quot;</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) &lt; gb-&gt;<a class="code" href="structGetBitContext.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a> - 8)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Buffer not fully read\n&quot;</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> vc1_draw_sprites(<a class="code" href="structVC1Context.html">VC1Context</a> *v, SpriteData* sd)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">int</span> i, <a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>, row, sprite;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">int</span> sr_cache[2][2] = { { -1, -1 }, { -1, -1 } };</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* src_h[2][2];</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">int</span> xoff[2], xadv[2], yoff[2], yadv[2], <a class="code" href="vf__geq_8c.html#a62da772255bc551e680d5f4ed47cfeba">alpha</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">int</span> ysub[2];</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="structMpegEncContext.html">MpegEncContext</a> *<a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a> = &amp;v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt;= v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a>; i++) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        xoff[i] = av_clip(sd-&gt;coefs[i][2], 0, v-&gt;<a class="code" href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">sprite_width</a>-1 &lt;&lt; 16);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        xadv[i] = sd-&gt;coefs[i][0];</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> (xadv[i] != 1&lt;&lt;16 || (v-&gt;<a class="code" href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">sprite_width</a> &lt;&lt; 16) - (v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a> &lt;&lt; 16) - xoff[i])</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            xadv[i] = av_clip(xadv[i], 0, ((v-&gt;<a class="code" href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">sprite_width</a>&lt;&lt;16) - xoff[i] - 1) / v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        yoff[i] = av_clip(sd-&gt;coefs[i][5], 0, v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a>-1 &lt;&lt; 16);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        yadv[i] = av_clip(sd-&gt;coefs[i][4], 0, ((v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a> &lt;&lt; 16) - yoff[i]) / v-&gt;<a class="code" href="structVC1Context.html#ad198475345a13e44b8de40f975526ce4">output_height</a>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    alpha = av_clip_uint16(sd-&gt;coefs[1][6]);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">for</span> (plane = 0; plane &lt; (<a class="code" href="build_2config_8h.html#a9a535d5c874618a1b06ef3808069e834">CONFIG_GRAY</a> &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga752fa4b8beeb25c9e8f0014a4aa622b4">AV_CODEC_FLAG_GRAY</a> ? 1 : 3); plane++) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a>&gt;&gt;!!<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">for</span> (row = 0; row &lt; v-&gt;<a class="code" href="structVC1Context.html#ad198475345a13e44b8de40f975526ce4">output_height</a>&gt;&gt;!!<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>; row++) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst = v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a>-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>] +</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                           v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>] * row;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">for</span> (sprite = 0; sprite &lt;= v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a>; sprite++) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *iplane = s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>];</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordtype">int</span>      iline  = s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>];</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordtype">int</span>      ycoord = yoff[sprite] + yadv[sprite] * row;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordtype">int</span>      yline  = ycoord &gt;&gt; 16;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keywordtype">int</span>      next_line;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                ysub[sprite] = ycoord &amp; 0xFFFF;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">if</span> (sprite) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    iplane = s-&gt;<a class="code" href="structMpegEncContext.html#a6630b58086fdfc2ac4af762a937bb21a">last_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>];</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    iline  = s-&gt;<a class="code" href="structMpegEncContext.html#a6630b58086fdfc2ac4af762a937bb21a">last_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>];</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                next_line = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(yline + 1, (v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a> &gt;&gt; !!plane) - 1) * iline;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">if</span> (!(xoff[sprite] &amp; 0xFFFF) &amp;&amp; xadv[sprite] == 1 &lt;&lt; 16) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        src_h[sprite][0] = iplane + (xoff[sprite] &gt;&gt; 16) +  yline      * iline;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">if</span> (ysub[sprite])</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        src_h[sprite][1] = iplane + (xoff[sprite] &gt;&gt; 16) + next_line;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    <span class="keywordflow">if</span> (sr_cache[sprite][0] != yline) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                        <span class="keywordflow">if</span> (sr_cache[sprite][1] == yline) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                            <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*, v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[sprite][0], v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[sprite][1]);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                            <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<span class="keywordtype">int</span>,        sr_cache[sprite][0],   sr_cache[sprite][1]);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                            v-&gt;<a class="code" href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">vc1dsp</a>.<a class="code" href="structVC1DSPContext.html#aefca0bb801193e5f431d68bf7faaa987">sprite_h</a>(v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[sprite][0], iplane + yline * iline, xoff[sprite], xadv[sprite], width);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                            sr_cache[sprite][0] = yline;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <span class="keywordflow">if</span> (ysub[sprite] &amp;&amp; sr_cache[sprite][1] != yline + 1) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        v-&gt;<a class="code" href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">vc1dsp</a>.<a class="code" href="structVC1DSPContext.html#aefca0bb801193e5f431d68bf7faaa987">sprite_h</a>(v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[sprite][1],</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                           iplane + next_line, xoff[sprite],</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                           xadv[sprite], width);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        sr_cache[sprite][1] = yline + 1;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    src_h[sprite][0] = v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[sprite][0];</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    src_h[sprite][1] = v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[sprite][1];</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a>) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="keywordflow">if</span> (ysub[0]) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    v-&gt;<a class="code" href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">vc1dsp</a>.<a class="code" href="structVC1DSPContext.html#a13668d35539e5df8bde79aeb976d3eef">sprite_v_single</a>(dst, src_h[0][0], src_h[0][1], ysub[0], width);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    memcpy(dst, src_h[0][0], width);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="keywordflow">if</span> (ysub[0] &amp;&amp; ysub[1]) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    v-&gt;<a class="code" href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">vc1dsp</a>.<a class="code" href="structVC1DSPContext.html#a485895ca3cb43a98394c8e0fd1ccd4fc">sprite_v_double_twoscale</a>(dst, src_h[0][0], src_h[0][1], ysub[0],</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                                       src_h[1][0], src_h[1][1], ysub[1], alpha, width);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ysub[0]) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    v-&gt;<a class="code" href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">vc1dsp</a>.<a class="code" href="structVC1DSPContext.html#a402865695fa67b14e127f3bb6cf95548">sprite_v_double_onescale</a>(dst, src_h[0][0], src_h[0][1], ysub[0],</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                                       src_h[1][0], alpha, width);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ysub[1]) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    v-&gt;<a class="code" href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">vc1dsp</a>.<a class="code" href="structVC1DSPContext.html#a402865695fa67b14e127f3bb6cf95548">sprite_v_double_onescale</a>(dst, src_h[1][0], src_h[1][1], ysub[1],</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                                       src_h[0][0], (1&lt;&lt;16)-1-alpha, width);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    v-&gt;<a class="code" href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">vc1dsp</a>.<a class="code" href="structVC1DSPContext.html#a4a04ed85880ffa6f1d20f4f61021ab62">sprite_v_double_noscale</a>(dst, src_h[0][0], src_h[1][0], alpha, width);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span> (!plane) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt;= v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a>; i++) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                xoff[i] &gt;&gt;= 1;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                yoff[i] &gt;&gt;= 1;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vc1_decode_sprites(<a class="code" href="structVC1Context.html">VC1Context</a> *v, <a class="code" href="structGetBitContext.html">GetBitContext</a>* gb)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="structMpegEncContext.html">MpegEncContext</a> *s     = &amp;v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx = s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    SpriteData sd;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    memset(&amp;sd, 0, <span class="keyword">sizeof</span>(sd));</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    ret = vc1_parse_sprites(v, gb, &amp;sd);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a> || !s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0]) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Got no sprites\n&quot;</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga4ebaa288c7684a26a591c501208910e4">AVERROR_UNKNOWN</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a> &amp;&amp; (!s-&gt;<a class="code" href="structMpegEncContext.html#ae75cc018ab8b66bcad481c5d26bbdba0">last_picture_ptr</a> || !s-&gt;<a class="code" href="structMpegEncContext.html#a6630b58086fdfc2ac4af762a937bb21a">last_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0])) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Need two sprites, only got one\n&quot;</span>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a> = 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a>(v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="libavcodec_2internal_8h.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a>(avctx, v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a>, 0)) &lt; 0)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    vc1_draw_sprites(v, &amp;sd);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> vc1_sprite_flush(<a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="structVC1Context.html">VC1Context</a> *v     = avctx-&gt;<a class="code" href="structAVCodecContext.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="structMpegEncContext.html">MpegEncContext</a> *s = &amp;v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="structAVFrame.html">AVFrame</a> *f = s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>, i;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">/* Windows Media Image codecs have a convergence interval of two keyframes.</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">       Since we can&#39;t enforce it, clear to black the missing sprite. This is</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">       wrong but it looks better than doing nothing. */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (f &amp;&amp; f-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0])</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">for</span> (plane = 0; plane &lt; (<a class="code" href="build_2config_8h.html#a9a535d5c874618a1b06ef3808069e834">CONFIG_GRAY</a> &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga752fa4b8beeb25c9e8f0014a4aa622b4">AV_CODEC_FLAG_GRAY</a> ? 1 : 3); plane++)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a>&gt;&gt;!!<a class="code" href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a>; i++)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                memset(f-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[plane] + i * f-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[plane],</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                       plane ? 128 : 0, f-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[plane]);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="libavcodec_2vc1dec_8c.html#a411c947536741ea7108a05ba606f8d9a">  324</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libavcodec_2vc1dec_8c.html#a411c947536741ea7108a05ba606f8d9a">ff_vc1_decode_init_alloc_tables</a>(<a class="code" href="structVC1Context.html">VC1Context</a> *v)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="structMpegEncContext.html">MpegEncContext</a> *s = &amp;v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">int</span> i, ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> mb_height = <a class="code" href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a>(s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a>, 2);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">/* Allocate mb bitplanes */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a96df7392895e0aa19f6f7f14d3905896">mv_type_mb_plane</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a> (s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * mb_height);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a1e23e7227e8e40e831c165791cdb6aa2">direct_mb_plane</a>  = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a> (s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * mb_height);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ad57df111cf11964c474a6f3b331ab5d7">forward_mb_plane</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a> (s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * mb_height);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a8f9ef0dd6f4f2dc73f5c945d021d3317">fieldtx_plane</a>    = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * mb_height);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#aa069ef5fdfee007d2c8014b1c0fd0985">acpred_plane</a>     = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a> (s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * mb_height);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a1bb8eeb2a0869ee36d9121cbb1507608">over_flags_plane</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a> (s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * mb_height);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a96df7392895e0aa19f6f7f14d3905896">mv_type_mb_plane</a> || !v-&gt;<a class="code" href="structVC1Context.html#a1e23e7227e8e40e831c165791cdb6aa2">direct_mb_plane</a> || !v-&gt;<a class="code" href="structVC1Context.html#ad57df111cf11964c474a6f3b331ab5d7">forward_mb_plane</a> ||</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        !v-&gt;<a class="code" href="structVC1Context.html#a8f9ef0dd6f4f2dc73f5c945d021d3317">fieldtx_plane</a> || !v-&gt;<a class="code" href="structVC1Context.html#aa069ef5fdfee007d2c8014b1c0fd0985">acpred_plane</a> || !v-&gt;<a class="code" href="structVC1Context.html#a1bb8eeb2a0869ee36d9121cbb1507608">over_flags_plane</a>)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#aa5f8fa9ce89a70118d4a84e5ab29bea6">n_allocated_blks</a> = s-&gt;<a class="code" href="structMpegEncContext.html#a9a354b9d9a44db04eaa3e9036e884a82">mb_width</a> + 2;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a7d532a4cdab1a943238f3342de7d85df">block</a>            = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<span class="keyword">sizeof</span>(*v-&gt;<a class="code" href="structVC1Context.html#a7d532a4cdab1a943238f3342de7d85df">block</a>) * v-&gt;<a class="code" href="structVC1Context.html#aa5f8fa9ce89a70118d4a84e5ab29bea6">n_allocated_blks</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a7bacb010cacd9ab5c0d413aa599ab0b9">cbp_base</a>         = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<span class="keyword">sizeof</span>(v-&gt;<a class="code" href="structVC1Context.html#a7bacb010cacd9ab5c0d413aa599ab0b9">cbp_base</a>[0]) * 2 * s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a7d532a4cdab1a943238f3342de7d85df">block</a> || !v-&gt;<a class="code" href="structVC1Context.html#a7bacb010cacd9ab5c0d413aa599ab0b9">cbp_base</a>)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ab49522406411d12a7abbd033d7aabea8">cbp</a>              = v-&gt;<a class="code" href="structVC1Context.html#a7bacb010cacd9ab5c0d413aa599ab0b9">cbp_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#abd89edec42d2ee116fb5ccf8ad7367bd">ttblk_base</a>       = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<span class="keyword">sizeof</span>(v-&gt;<a class="code" href="structVC1Context.html#abd89edec42d2ee116fb5ccf8ad7367bd">ttblk_base</a>[0]) * 2 * s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#abd89edec42d2ee116fb5ccf8ad7367bd">ttblk_base</a>)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a6c00cb6d470563f9123c0aac03c82c96">ttblk</a>            = v-&gt;<a class="code" href="structVC1Context.html#abd89edec42d2ee116fb5ccf8ad7367bd">ttblk_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a5f53097c4cb92dcc674bc973aed650b3">is_intra_base</a>    = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(<span class="keyword">sizeof</span>(v-&gt;<a class="code" href="structVC1Context.html#a5f53097c4cb92dcc674bc973aed650b3">is_intra_base</a>[0]) * 2 * s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a5f53097c4cb92dcc674bc973aed650b3">is_intra_base</a>)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a462918e26cae13c33826aed65c413bc6">is_intra</a>         = v-&gt;<a class="code" href="structVC1Context.html#a5f53097c4cb92dcc674bc973aed650b3">is_intra_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a029ff38ac81300800c1b4a12d9ccc358">luma_mv_base</a>     = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(<span class="keyword">sizeof</span>(v-&gt;<a class="code" href="structVC1Context.html#a029ff38ac81300800c1b4a12d9ccc358">luma_mv_base</a>[0]) * 2 * s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a029ff38ac81300800c1b4a12d9ccc358">luma_mv_base</a>)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ad636fdf9fe1f75aa5b13340ecd3f7c4c">luma_mv</a>          = v-&gt;<a class="code" href="structVC1Context.html#a029ff38ac81300800c1b4a12d9ccc358">luma_mv_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">/* allocate block type info in that way so it could be used with s-&gt;block_index[] */</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a69eb932a2e9240f9a024692c504daa91">mb_type_base</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (mb_height * 2 + 1) + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * (mb_height + 1) * 2);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a69eb932a2e9240f9a024692c504daa91">mb_type_base</a>)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a2a4e3e83da36a5e6390395a629b82436">mb_type</a>[0]   = v-&gt;<a class="code" href="structVC1Context.html#a69eb932a2e9240f9a024692c504daa91">mb_type_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> + 1;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a2a4e3e83da36a5e6390395a629b82436">mb_type</a>[1]   = v-&gt;<a class="code" href="structVC1Context.html#a69eb932a2e9240f9a024692c504daa91">mb_type_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (mb_height * 2 + 1) + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> + 1;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a2a4e3e83da36a5e6390395a629b82436">mb_type</a>[2]   = v-&gt;<a class="code" href="structVC1Context.html#a2a4e3e83da36a5e6390395a629b82436">mb_type</a>[1] + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * (mb_height + 1);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">/* allocate memory to store block level MV info */</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ad1c86418a3d12b849b7d4fe9581098de">blk_mv_type_base</a> = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(     s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (mb_height * 2 + 1) + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * (mb_height + 1) * 2);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#ad1c86418a3d12b849b7d4fe9581098de">blk_mv_type_base</a>)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#aae84ee7b27b60788e38e5a565acd17b2">blk_mv_type</a>      = v-&gt;<a class="code" href="structVC1Context.html#ad1c86418a3d12b849b7d4fe9581098de">blk_mv_type_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> + 1;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#af765794c451c19b68edb32ef63ab6d37">mv_f_base</a>        = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(2 * (s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (mb_height * 2 + 1) + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * (mb_height + 1) * 2));</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#af765794c451c19b68edb32ef63ab6d37">mv_f_base</a>)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a9f1b8a4ccc62129580071d7eca18580e">mv_f</a>[0]          = v-&gt;<a class="code" href="structVC1Context.html#af765794c451c19b68edb32ef63ab6d37">mv_f_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> + 1;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a9f1b8a4ccc62129580071d7eca18580e">mv_f</a>[1]          = v-&gt;<a class="code" href="structVC1Context.html#a9f1b8a4ccc62129580071d7eca18580e">mv_f</a>[0] + (s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (mb_height * 2 + 1) + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * (mb_height + 1) * 2);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a91db7549ab28009b966e9998c411b1cf">mv_f_next_base</a>   = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(2 * (s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (mb_height * 2 + 1) + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * (mb_height + 1) * 2));</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a91db7549ab28009b966e9998c411b1cf">mv_f_next_base</a>)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ae056d3fdd9ca1750b8aba34b8a5fa528">mv_f_next</a>[0]     = v-&gt;<a class="code" href="structVC1Context.html#a91db7549ab28009b966e9998c411b1cf">mv_f_next_base</a> + s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> + 1;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ae056d3fdd9ca1750b8aba34b8a5fa528">mv_f_next</a>[1]     = v-&gt;<a class="code" href="structVC1Context.html#ae056d3fdd9ca1750b8aba34b8a5fa528">mv_f_next</a>[0] + (s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (mb_height * 2 + 1) + s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * (mb_height + 1) * 2);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a> || s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; 4; i++)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordflow">if</span> (!(v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[i &gt;&gt; 1][i &amp; 1] = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a>)))</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    ret = <a class="code" href="intrax8_8c.html#a05198162bde3e58c5c1bbb3cac4bb04a">ff_intrax8_common_init</a>(s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, &amp;v-&gt;<a class="code" href="structVC1Context.html#aac809115c7721dc7056e1d5ed620729b">x8</a>, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#ad60c0272534be1f8d5dabf3e6acc9326">idsp</a>,</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                 s-&gt;<a class="code" href="structMpegEncContext.html#a16cee16c189e26b1f3aec69c1cfebbfd">block</a>, s-&gt;<a class="code" href="structMpegEncContext.html#a8aaac674230196a0bb8373d49e35ed09">block_last_index</a>,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                 s-&gt;<a class="code" href="structMpegEncContext.html#a9a354b9d9a44db04eaa3e9036e884a82">mb_width</a>, s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<a class="code" href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>:</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>(s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="libavcodec_2vc1dec_8c.html#affaff8d9fcab7160a210a7bd7c3853d7">  403</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="libavcodec_2vc1dec_8c.html#affaff8d9fcab7160a210a7bd7c3853d7">ff_vc1_init_transposed_scantables</a>(<a class="code" href="structVC1Context.html">VC1Context</a> *v)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 64; i++) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor">#define transpose(x) (((x) &gt;&gt; 3) | (((x) &amp; 7) &lt;&lt; 3))</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a58cbfe747ea3a0172c59a00fb057d003">zz_8x8</a>[0][i] = <a class="code" href="libavcodec_2vc1dec_8c.html#a6451ef549c3018af820bed4ef6d9f11f">transpose</a>(<a class="code" href="msmpeg4data_8c.html#aa1d2ddd4fe16260d540f12b08ffd1592">ff_wmv1_scantable</a>[0][i]);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a58cbfe747ea3a0172c59a00fb057d003">zz_8x8</a>[1][i] = <a class="code" href="libavcodec_2vc1dec_8c.html#a6451ef549c3018af820bed4ef6d9f11f">transpose</a>(<a class="code" href="msmpeg4data_8c.html#aa1d2ddd4fe16260d540f12b08ffd1592">ff_wmv1_scantable</a>[1][i]);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a58cbfe747ea3a0172c59a00fb057d003">zz_8x8</a>[2][i] = <a class="code" href="libavcodec_2vc1dec_8c.html#a6451ef549c3018af820bed4ef6d9f11f">transpose</a>(<a class="code" href="msmpeg4data_8c.html#aa1d2ddd4fe16260d540f12b08ffd1592">ff_wmv1_scantable</a>[2][i]);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a58cbfe747ea3a0172c59a00fb057d003">zz_8x8</a>[3][i] = <a class="code" href="libavcodec_2vc1dec_8c.html#a6451ef549c3018af820bed4ef6d9f11f">transpose</a>(<a class="code" href="msmpeg4data_8c.html#aa1d2ddd4fe16260d540f12b08ffd1592">ff_wmv1_scantable</a>[3][i]);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#af655e06f18d9341f3ef92da47f9e94d9">zzi_8x8</a>[i]   = <a class="code" href="libavcodec_2vc1dec_8c.html#a6451ef549c3018af820bed4ef6d9f11f">transpose</a>(<a class="code" href="vc1data_8c.html#aaff4d0178fb5445481cba67f1610618a">ff_vc1_adv_interlaced_8x8_zz</a>[i]);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a174c1792202a00c000f75bc8336f390e">left_blk_sh</a> = 0;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a15abb18df560ae4bed72ee50e7019509">top_blk_sh</a>  = 3;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">/** Initialize a VC1/WMV3 decoder</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"> * @todo TODO: Handle VC-1 IDUs (Transport level?)</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"> * @todo TODO: Decipher remaining bits in extra_data</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">  422</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a>(<a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx)</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="structVC1Context.html">VC1Context</a> *v = avctx-&gt;<a class="code" href="structAVCodecContext.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="structMpegEncContext.html">MpegEncContext</a> *s = &amp;v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="structGetBitContext.html">GetBitContext</a> gb;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">/* save the container output size for WMImage */</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a>  = avctx-&gt;<a class="code" href="structAVCodecContext.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ad198475345a13e44b8de40f975526ce4">output_height</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> || !avctx-&gt;<a class="code" href="structAVCodecContext.html#abe964316aaaa61967b012efdcced79c4">extradata</a>)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a> = avctx;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="vc1_8c.html#a0dab42e61911a4a06188c9c34cbe4ee0">ff_vc1_init_common</a>(v)) &lt; 0)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadb3fab61116754cc08f3168dd26ff776">AV_CODEC_ID_WMV3</a> || avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a>) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="avisynth__c_8h.html#aaa746f43957975c7273cc08bf006f747">count</a> = 0;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">// looks like WMV3 has a sequence header stored in the extradata</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="comment">// advanced sequence header may be before the first frame</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">// the last byte of the extradata is a version number, 1 for the</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// samples we can decode</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, avctx-&gt;<a class="code" href="structAVCodecContext.html#abe964316aaaa61967b012efdcced79c4">extradata</a>, avctx-&gt;<a class="code" href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>*8);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="vc1_8c.html#a4e1a6ca7dd977a6cec53057917bed61a">ff_vc1_decode_sequence_header</a>(avctx, v, &amp;gb)) &lt; 0)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        count = avctx-&gt;<a class="code" href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>*8 - <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;gb);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span> (count &gt; 0) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Extra data: %i bits left, value: %X\n&quot;</span>,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                   count, <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(&amp;gb, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(count, 32)));</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &lt; 0) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Read %i bits in overflow\n&quot;</span>, -count);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// VC1/WVC1/WVP2</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#abe964316aaaa61967b012efdcced79c4">extradata</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#abe964316aaaa61967b012efdcced79c4">extradata</a> + avctx-&gt;<a class="code" href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *next;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, buf2_size;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf2 = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordtype">int</span> seq_initialized = 0, ep_initialized = 0;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> &lt; 16) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Extradata size too small: %i\n&quot;</span>, avctx-&gt;<a class="code" href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        buf2  = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(avctx-&gt;<a class="code" href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">if</span> (!buf2)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        start = <a class="code" href="vc1__common_8h.html#a6b7ac44dcc0e6b549c4b4cdef9ff3de7">find_next_marker</a>(start, end); <span class="comment">// in WVC1 extradata first byte is its size, but can be 0 in mkv</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        next  = <a class="code" href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">for</span> (; next &lt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>; start = next) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            next = <a class="code" href="vc1__common_8h.html#a6b7ac44dcc0e6b549c4b4cdef9ff3de7">find_next_marker</a>(start + 4, end);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            size = next - start - 4;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">if</span> (size &lt;= 0)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            buf2_size = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(start + 4, size, buf2);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;gb, buf2, buf2_size * 8);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(start)) {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa53cb446daf46c96081c99855723a13ee">VC1_CODE_SEQHDR</a>:</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keywordflow">if</span> ((ret = <a class="code" href="vc1_8c.html#a4e1a6ca7dd977a6cec53057917bed61a">ff_vc1_decode_sequence_header</a>(avctx, v, &amp;gb)) &lt; 0) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf2);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                seq_initialized = 1;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fabfd774af7fb6f64c44fa77d8e8926ef5">VC1_CODE_ENTRYPOINT</a>:</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="keywordflow">if</span> ((ret = <a class="code" href="vc1_8c.html#a771ba75e97ff8fe61a88bfe3a6ae5f53">ff_vc1_decode_entry_point</a>(avctx, v, &amp;gb)) &lt; 0) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf2);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                ep_initialized = 1;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf2);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (!seq_initialized || !ep_initialized) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Incomplete extradata\n&quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a7d233c938c6c4f4cae56097e6f60edda">res_sprite</a> = (avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    avctx-&gt;<a class="code" href="structAVCodecContext.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> = v-&gt;<a class="code" href="structVC1Context.html#a0eee915c4488d3ab25efac6497c76e69">profile</a>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a0eee915c4488d3ab25efac6497c76e69">profile</a> == <a class="code" href="vc1__common_8h.html#a85b10143618f300ff4f5bc6d45c72c01a07a011742f6064234761aa4e03f7986b">PROFILE_ADVANCED</a>)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a6927dc652ae6241f1dfdbad4e12d3a40">level</a> = v-&gt;<a class="code" href="structVC1Context.html#aafb3c13f1646fc2cd27b9b3986d94cb4">level</a>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="build_2config_8h.html#a9a535d5c874618a1b06ef3808069e834">CONFIG_GRAY</a> || !(avctx-&gt;<a class="code" href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga752fa4b8beeb25c9e8f0014a4aa622b4">AV_CODEC_FLAG_GRAY</a>))</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="libavcodec_2internal_8h.html#a8a7eadb05d8ea6f849a146035377ad1f">ff_get_format</a>(avctx, avctx-&gt;<a class="code" href="structAVCodecContext.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="structAVCodec.html#ac2b97bd3c19686025e1b7d577329c250">pix_fmts</a>);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a> == <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a>)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            avctx-&gt;<a class="code" href="structAVCodecContext.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a> = <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// ensure static VLC tables are initialized</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="msmpeg4_8h.html#aa60fb36ea386017c5ba5353d05822256">ff_msmpeg4_decode_init</a>(avctx)) &lt; 0)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="libavcodec_2vc1dec_8c.html#a411c947536741ea7108a05ba606f8d9a">ff_vc1_decode_init_alloc_tables</a>(v)) &lt; 0)</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">// Hack to ensure the above functions will be called</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// again once we know all necessary settings.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// That this is necessary might indicate a bug.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>(avctx);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="blockdsp_8c.html#a923c6716c33a9c53546b0254916e406f">ff_blockdsp_init</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a795543732980e948b5864f75b5d1f319">bdsp</a>, avctx);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="h264chroma_8c.html#a4183ca41207e383f4a607c6786737af1">ff_h264chroma_init</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a67dc643c9de8d1dfaeccf400e79e2e76">h264chroma</a>, 8);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="qpeldsp_8c.html#a8292f4fd153f5c16af42012954c2cb1e">ff_qpeldsp_init</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a9916b7b1bb65d6b10d8352caecaac8fe">qdsp</a>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// Must happen after calling ff_vc1_decode_end</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">// to avoid de-allocating the sprite_output_frame</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a> = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a>)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    avctx-&gt;<a class="code" href="structAVCodecContext.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a> = !!avctx-&gt;<a class="code" href="structAVCodecContext.html#a3e5334a611a3e2a6a653805bb9e2d4d4">max_b_frames</a>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a9a59e0c6b4d3614bd40a5d0760aa4c0f">color_prim</a> == 1 || v-&gt;<a class="code" href="structVC1Context.html#a9a59e0c6b4d3614bd40a5d0760aa4c0f">color_prim</a> == 5 || v-&gt;<a class="code" href="structVC1Context.html#a9a59e0c6b4d3614bd40a5d0760aa4c0f">color_prim</a> == 6)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a3a41b3e5bde23b877799f6e72dac8ef3">color_primaries</a> = v-&gt;<a class="code" href="structVC1Context.html#a9a59e0c6b4d3614bd40a5d0760aa4c0f">color_prim</a>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a0d954b8c8a26a27edf3fb74938d75c0b">transfer_char</a> == 1 || v-&gt;<a class="code" href="structVC1Context.html#a0d954b8c8a26a27edf3fb74938d75c0b">transfer_char</a> == 7)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#ab649e8c599f5a0e2a30448e67a36deb6">color_trc</a> = v-&gt;<a class="code" href="structVC1Context.html#a0d954b8c8a26a27edf3fb74938d75c0b">transfer_char</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#ae184cba9e9d95624e889cdc126801a61">matrix_coef</a> == 1 || v-&gt;<a class="code" href="structVC1Context.html#ae184cba9e9d95624e889cdc126801a61">matrix_coef</a> == 6 || v-&gt;<a class="code" href="structVC1Context.html#ae184cba9e9d95624e889cdc126801a61">matrix_coef</a> == 7)</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a8cd8caa7d40319324ce3d879a2edbd9f">colorspace</a> = v-&gt;<a class="code" href="structVC1Context.html#ae184cba9e9d95624e889cdc126801a61">matrix_coef</a>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    s-&gt;<a class="code" href="structMpegEncContext.html#a9a354b9d9a44db04eaa3e9036e884a82">mb_width</a>  = (avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>  + 15) &gt;&gt; 4;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a> = (avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a> + 15) &gt;&gt; 4;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a0eee915c4488d3ab25efac6497c76e69">profile</a> == <a class="code" href="vc1__common_8h.html#a85b10143618f300ff4f5bc6d45c72c01a07a011742f6064234761aa4e03f7986b">PROFILE_ADVANCED</a> || v-&gt;<a class="code" href="structVC1Context.html#a744f7d75057f353c13546bd5ad92c2aa">res_fasttx</a>) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="libavcodec_2vc1dec_8c.html#affaff8d9fcab7160a210a7bd7c3853d7">ff_vc1_init_transposed_scantables</a>(v);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        memcpy(v-&gt;<a class="code" href="structVC1Context.html#a58cbfe747ea3a0172c59a00fb057d003">zz_8x8</a>, <a class="code" href="msmpeg4data_8c.html#aa1d2ddd4fe16260d540f12b08ffd1592">ff_wmv1_scantable</a>, 4*64);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a174c1792202a00c000f75bc8336f390e">left_blk_sh</a> = 3;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a15abb18df560ae4bed72ee50e7019509">top_blk_sh</a>  = 0;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a> || avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">sprite_width</a>  = avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>  = avctx-&gt;<a class="code" href="structAVCodecContext.html#a0d8f46461754e8abea0847dcbc41b956">width</a>  = v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> = v-&gt;<a class="code" href="structVC1Context.html#ad198475345a13e44b8de40f975526ce4">output_height</a>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="comment">// prevent 16.16 overflows</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">sprite_width</a>  &gt; 1 &lt;&lt; 14 ||</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a> &gt; 1 &lt;&lt; 14 ||</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a>  &gt; 1 &lt;&lt; 14 ||</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            v-&gt;<a class="code" href="structVC1Context.html#ad198475345a13e44b8de40f975526ce4">output_height</a> &gt; 1 &lt;&lt; 14) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span> ((v-&gt;<a class="code" href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">sprite_width</a>&amp;1) || (v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a>&amp;1)) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="libavutil_2internal_8h.html#a6f548a661473b6189346b3cb9e135ac1">avpriv_request_sample</a>(avctx, <span class="stringliteral">&quot;odd sprites support&quot;</span>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">/** Close a VC1/WMV3 decoder</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"> * @warning Initial try at using MpegEncContext stuff</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">  587</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>(<a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="structVC1Context.html">VC1Context</a> *v = avctx-&gt;<a class="code" href="structAVCodecContext.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a>);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 4; i++)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">sr_rows</a>[i &gt;&gt; 1][i &amp; 1]);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#affc05c1511fa47ed47c4c688df395af7">hrd_rate</a>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a8a786ea269f72bc79d8f22c8c738427d">hrd_buffer</a>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="mpegvideo_8c.html#a18e8f54ca7350073bde9adee069dc3ba">ff_mpv_common_end</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a96df7392895e0aa19f6f7f14d3905896">mv_type_mb_plane</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a1e23e7227e8e40e831c165791cdb6aa2">direct_mb_plane</a>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#ad57df111cf11964c474a6f3b331ab5d7">forward_mb_plane</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a8f9ef0dd6f4f2dc73f5c945d021d3317">fieldtx_plane</a>);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#aa069ef5fdfee007d2c8014b1c0fd0985">acpred_plane</a>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a1bb8eeb2a0869ee36d9121cbb1507608">over_flags_plane</a>);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a69eb932a2e9240f9a024692c504daa91">mb_type_base</a>);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#ad1c86418a3d12b849b7d4fe9581098de">blk_mv_type_base</a>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#af765794c451c19b68edb32ef63ab6d37">mv_f_base</a>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a91db7549ab28009b966e9998c411b1cf">mv_f_next_base</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a7d532a4cdab1a943238f3342de7d85df">block</a>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a7bacb010cacd9ab5c0d413aa599ab0b9">cbp_base</a>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#abd89edec42d2ee116fb5ccf8ad7367bd">ttblk_base</a>);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a5f53097c4cb92dcc674bc973aed650b3">is_intra_base</a>); <span class="comment">// FIXME use v-&gt;mb_type[]</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#a029ff38ac81300800c1b4a12d9ccc358">luma_mv_base</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="intrax8_8c.html#a3a795ee6fa6a33ae2401576ec273fc56">ff_intrax8_common_end</a>(&amp;v-&gt;<a class="code" href="structVC1Context.html#aac809115c7721dc7056e1d5ed620729b">x8</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">/** Decode a VC1/WMV3 frame</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> * @todo TODO: Handle VC-1 IDUs (Transport level?)</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">  622</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a>(<a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>,</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                            <span class="keywordtype">int</span> *got_frame, <a class="code" href="structAVPacket.html">AVPacket</a> *avpkt)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;{</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avisynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a> = avpkt-&gt;<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordtype">int</span> buf_size = avpkt-&gt;<a class="code" href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, n_slices = 0, i, ret;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="structVC1Context.html">VC1Context</a> *v = avctx-&gt;<a class="code" href="structAVCodecContext.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="structMpegEncContext.html">MpegEncContext</a> *s = &amp;v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="structAVFrame.html">AVFrame</a> *pict = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf2 = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf_start = <a class="code" href="avisynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>, *buf_start_second_field = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordtype">int</span> mb_height, n_slices1=-1;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keyword">struct </span>{</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avisynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <a class="code" href="structGetBitContext.html">GetBitContext</a> gb;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordtype">int</span> mby_start;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *rawbuf;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordtype">int</span> raw_size;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    } *slices = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="tests_2des_8c.html#ae9a986282b2908caa6e018751ead8ade">tmp</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a589d2f9e86f91ed2e0bb45b8b21f1990">second_field</a> = 0;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span>(s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#gaa90f89265adba401ebe80380517fe613">AV_CODEC_FLAG_LOW_DELAY</a>)</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        s-&gt;<a class="code" href="structMpegEncContext.html#a9ca3149998ce21787440439c172c4c20">low_delay</a> = 1;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">/* no supplementary picture */</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span> (buf_size == 0 || (buf_size == 4 &amp;&amp; <a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(buf) == <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa55f9d40487b81890857a1603ec93b109">VC1_CODE_ENDOFSEQ</a>)) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">/* special case for last picture */</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#a9ca3149998ce21787440439c172c4c20">low_delay</a> == 0 &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#a38e971cbd31891db4acb42702b8802e8">next_picture_ptr</a>) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a>(pict, s-&gt;<a class="code" href="structMpegEncContext.html#a38e971cbd31891db4acb42702b8802e8">next_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>)) &lt; 0)</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a38e971cbd31891db4acb42702b8802e8">next_picture_ptr</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            *got_frame = 1;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> buf_size;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#if FF_API_CAP_VDPAU</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a>&amp;<a class="code" href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a>) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a0eee915c4488d3ab25efac6497c76e69">profile</a> &lt; <a class="code" href="vc1__common_8h.html#a85b10143618f300ff4f5bc6d45c72c01a07a011742f6064234761aa4e03f7986b">PROFILE_ADVANCED</a>)</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            avctx-&gt;<a class="code" href="structAVCodecContext.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5afc9da2b8383b02ae0133c8b4898afa73">AV_PIX_FMT_VDPAU_WMV3</a>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            avctx-&gt;<a class="code" href="structAVCodecContext.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ac6118d635192614e68271f38b5ac1618">AV_PIX_FMT_VDPAU_VC1</a>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">//for advanced profile we may need to parse and unescape data</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7765c5c02c05ea1a96ef1ca35dad068f">AV_CODEC_ID_VC1</a> || avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordtype">int</span> buf_size2 = 0;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        buf2 = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(buf_size + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span> (!buf2)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__parser_8c.html#aa7021d22d1a340830e034f42634546e9">IS_MARKER</a>(<a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(buf))) { <span class="comment">/* frame starts with marker and needs to be parsed */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a>, *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>, *next;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            next = <a class="code" href="avisynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">for</span> (start = buf, end = buf + buf_size; next &lt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>; start = next) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                next = <a class="code" href="vc1__common_8h.html#a6b7ac44dcc0e6b549c4b4cdef9ff3de7">find_next_marker</a>(start + 4, end);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                size = next - start - 4;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">if</span> (size &lt;= 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(start)) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa87d74da2777784675f211d8d014fdb4f">VC1_CODE_FRAME</a>:</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="libavcodec_2version_8h.html#a1355287109a7ef6248603670c9541383">FF_API_CAP_VDPAU</a></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        || s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a>&amp;<a class="code" href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;#endif</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        )</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        buf_start = <a class="code" href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    buf_size2 = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(start + 4, size, buf2);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa605e15f5b85ddd1d9a1755a40418969d">VC1_CODE_FIELD</a>: {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                    <span class="keywordtype">int</span> buf_size3;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="libavcodec_2version_8h.html#a1355287109a7ef6248603670c9541383">FF_API_CAP_VDPAU</a></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                        || s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a>&amp;<a class="code" href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;#endif</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        )</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                        buf_start_second_field = <a class="code" href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    tmp = <a class="code" href="group__lavu__mem__funcs.html#gaadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(slices, <span class="keyword">sizeof</span>(*slices), (n_slices+1));</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <span class="keywordflow">if</span> (!tmp) {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                        ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                    slices = <a class="code" href="tests_2des_8c.html#ae9a986282b2908caa6e018751ead8ade">tmp</a>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    slices[n_slices].buf = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(buf_size + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                    <span class="keywordflow">if</span> (!slices[n_slices].buf) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                        ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    buf_size3 = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(start + 4, size,</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                                                    slices[n_slices].buf);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;slices[n_slices].gb, slices[n_slices].buf,</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                                  buf_size3 &lt;&lt; 3);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    <span class="comment">/* assuming that the field marker is at the exact middle,</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">                       hope it&#39;s correct */</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    slices[n_slices].mby_start = s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a> + 1 &gt;&gt; 1;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    slices[n_slices].rawbuf = <a class="code" href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                    slices[n_slices].raw_size = size + 4;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    n_slices1 = n_slices - 1; <span class="comment">// index of the last slice of the first field</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    n_slices++;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fabfd774af7fb6f64c44fa77d8e8926ef5">VC1_CODE_ENTRYPOINT</a>: <span class="comment">/* it should be before frame data */</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                    buf_size2 = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(start + 4, size, buf2);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>, buf2, buf_size2 * 8);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    <a class="code" href="vc1_8c.html#a771ba75e97ff8fe61a88bfe3a6ae5f53">ff_vc1_decode_entry_point</a>(avctx, v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fabdb7f24f2ca88357476ca0b2a65e93f3">VC1_CODE_SLICE</a>: {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                    <span class="keywordtype">int</span> buf_size3;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                    tmp = <a class="code" href="group__lavu__mem__funcs.html#gaadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(slices, <span class="keyword">sizeof</span>(*slices), (n_slices+1));</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                    <span class="keywordflow">if</span> (!tmp) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                        ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                    slices = <a class="code" href="tests_2des_8c.html#ae9a986282b2908caa6e018751ead8ade">tmp</a>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    slices[n_slices].buf = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(buf_size + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    <span class="keywordflow">if</span> (!slices[n_slices].buf) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    buf_size3 = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(start + 4, size,</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                                    slices[n_slices].buf);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;slices[n_slices].gb, slices[n_slices].buf,</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                                  buf_size3 &lt;&lt; 3);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    slices[n_slices].mby_start = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;slices[n_slices].gb, 9);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                    slices[n_slices].rawbuf = <a class="code" href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    slices[n_slices].raw_size = size + 4;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    n_slices++;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#aba937592a6ae75144cb9fadf8aadcda9">interlace</a> &amp;&amp; ((buf[0] &amp; 0xC0) == 0xC0)) { <span class="comment">/* WVC1 interlaced stores both fields divided by marker */</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *divider;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordtype">int</span> buf_size3;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            divider = <a class="code" href="vc1__common_8h.html#a6b7ac44dcc0e6b549c4b4cdef9ff3de7">find_next_marker</a>(buf, buf + buf_size);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="keywordflow">if</span> ((divider == (buf + buf_size)) || <a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(divider) != <a class="code" href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa605e15f5b85ddd1d9a1755a40418969d">VC1_CODE_FIELD</a>) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Error in WVC1 interlaced frame\n&quot;</span>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            } <span class="keywordflow">else</span> { <span class="comment">// found field marker, unescape second field</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="libavcodec_2version_8h.html#a1355287109a7ef6248603670c9541383">FF_API_CAP_VDPAU</a></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                    || s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a>&amp;<a class="code" href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;#endif</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    )</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    buf_start_second_field = divider;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                tmp = <a class="code" href="group__lavu__mem__funcs.html#gaadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(slices, <span class="keyword">sizeof</span>(*slices), (n_slices+1));</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="keywordflow">if</span> (!tmp) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                }</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                slices = <a class="code" href="tests_2des_8c.html#ae9a986282b2908caa6e018751ead8ade">tmp</a>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                slices[n_slices].buf = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(buf_size + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                <span class="keywordflow">if</span> (!slices[n_slices].buf) {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                buf_size3 = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(divider + 4, buf + buf_size - divider - 4, slices[n_slices].buf);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;slices[n_slices].gb, slices[n_slices].buf,</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                              buf_size3 &lt;&lt; 3);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                slices[n_slices].mby_start = s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a> + 1 &gt;&gt; 1;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                slices[n_slices].rawbuf = divider;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                slices[n_slices].raw_size = buf + buf_size - divider;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                n_slices1 = n_slices - 1;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                n_slices++;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            buf_size2 = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(buf, divider - buf, buf2);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            buf_size2 = <a class="code" href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a>(buf, buf_size, buf2);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>, buf2, buf_size2*8);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>, buf, buf_size*8);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a7d233c938c6c4f4cae56097e6f60edda">res_sprite</a>) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a490d7e4d882bc4da99ae0d420f9e6d80">new_sprite</a>  = !<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">two_sprites</a> =  <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="comment">/* res_sprite means a Windows Media Image stream, AV_CODEC_ID_*IMAGE means</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">           we&#39;re using the sprite compositor. These are intentionally kept separate</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">           so you can get the raw sprites by using the wmv3 decoder for WMVP or</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">           the vc1 one for WVP2 */</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a> || avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a490d7e4d882bc4da99ae0d420f9e6d80">new_sprite</a>) {</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                <span class="comment">// switch AVCodecContext parameters to those of the sprites</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                avctx-&gt;<a class="code" href="structAVCodecContext.html#a0d8f46461754e8abea0847dcbc41b956">width</a>  = avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>  = v-&gt;<a class="code" href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">sprite_width</a>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                avctx-&gt;<a class="code" href="structAVCodecContext.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a> = v-&gt;<a class="code" href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">sprite_height</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="keywordflow">goto</span> image;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#abdb47a79e130330260d32fd7f89e94a2">context_initialized</a> &amp;&amp;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        (s-&gt;<a class="code" href="structMpegEncContext.html#a0751ddc2d5fbc675ac1fde834cef0c50">width</a>  != avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a> ||</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         s-&gt;<a class="code" href="structMpegEncContext.html#ade2031c0b3b0434e0f410de74755ca74">height</a> != avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a>)) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>(avctx);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structMpegEncContext.html#abdb47a79e130330260d32fd7f89e94a2">context_initialized</a>) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="msmpeg4_8h.html#aa60fb36ea386017c5ba5353d05822256">ff_msmpeg4_decode_init</a>(avctx)) &lt; 0)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="libavcodec_2vc1dec_8c.html#a411c947536741ea7108a05ba606f8d9a">ff_vc1_decode_init_alloc_tables</a>(v)) &lt; 0) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <a class="code" href="mpegvideo_8c.html#a18e8f54ca7350073bde9adee069dc3ba">ff_mpv_common_end</a>(s);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        s-&gt;<a class="code" href="structMpegEncContext.html#a9ca3149998ce21787440439c172c4c20">low_delay</a> = !avctx-&gt;<a class="code" href="structAVCodecContext.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a> || v-&gt;<a class="code" href="structVC1Context.html#a7d233c938c6c4f4cae56097e6f60edda">res_sprite</a>;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a0eee915c4488d3ab25efac6497c76e69">profile</a> == <a class="code" href="vc1__common_8h.html#a85b10143618f300ff4f5bc6d45c72c01a07a011742f6064234761aa4e03f7986b">PROFILE_ADVANCED</a>) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="keywordflow">if</span>(avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>&lt;=1 || avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a>&lt;=1) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#afdec4688658ffdd623c44be191266603">h_edge_pos</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#abcdb016c685f0fac1e820ded9380dce8">v_edge_pos</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a>;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    }</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// do parse frame header</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a202e72faaa1fd65b6f8d0bb3cd6022c4">pic_header_flag</a> = 0;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a21dced84f24f1891782b4450bd4d9015">first_pic_header_flag</a> = 1;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a0eee915c4488d3ab25efac6497c76e69">profile</a> &lt; <a class="code" href="vc1__common_8h.html#a85b10143618f300ff4f5bc6d45c72c01a07a011742f6064234761aa4e03f7986b">PROFILE_ADVANCED</a>) {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="vc1_8c.html#a6bcdacdfebbdad886c8a4eac401e1e29">ff_vc1_parse_frame_header</a>(v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>)) &lt; 0) {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="vc1_8c.html#a3afbc6e754df1532c8cb0f5bd26acd17">ff_vc1_parse_frame_header_adv</a>(v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>)) &lt; 0) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a21dced84f24f1891782b4450bd4d9015">first_pic_header_flag</a> = 0;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#a1c52e4da25b608b2b9a80af21bb86d58">debug</a> &amp; <a class="code" href="avcodec_8h.html#a5d34f0bd0c235b8b9ee96e658df557af">FF_DEBUG_PICT_INFO</a>)</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;pict_type: %c\n&quot;</span>, <a class="code" href="group__lavu__picture.html#gacbf2ea8b2b89924c890ef8ec10a3d922">av_get_picture_type_char</a>(s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a>));</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">if</span> ((avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a> || avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Sprite decoder: expected I-frame\n&quot;</span>);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> ((s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a> &gt;&gt; v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a>) == 0) {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;image too short\n&quot;</span>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// for skipping the frame</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#a3649a81e8414a193d685a6eee06ce902">key_frame</a> = s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">/* skip B-frames if we don&#39;t have reference frames */</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structMpegEncContext.html#ae75cc018ab8b66bcad481c5d26bbdba0">last_picture_ptr</a> &amp;&amp; (s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a> || s-&gt;<a class="code" href="structMpegEncContext.html#a8fdff73361f54a0bdc664edb24cde2a4">droppable</a>)) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Skipping B frame without reference frames\n&quot;</span>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> ((avctx-&gt;<a class="code" href="structAVCodecContext.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a> &gt;= <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8">AVDISCARD_NONREF</a> &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) ||</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        (avctx-&gt;<a class="code" href="structAVCodecContext.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a> &gt;= <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1">AVDISCARD_NONKEY</a> &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) ||</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;         avctx-&gt;<a class="code" href="structAVCodecContext.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a> &gt;= <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#a9b380a33f5407f81845d84faa74eed12">next_p_frame_damaged</a>) {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>)</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a9b380a33f5407f81845d84faa74eed12">next_p_frame_damaged</a> = 0;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="mpegvideo_8c.html#a09cdf71b4e226f14deef538e321f3af6">ff_mpv_frame_start</a>(s, avctx)) &lt; 0) {</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#aff1c3389b4b0efd9082578395b86484c">field_picture</a> = v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#a7f761518da738c704676c6a5f08eeb8e">interlaced_frame</a> = (v-&gt;<a class="code" href="structVC1Context.html#ab81b27efb1b49db9931ce1a7cad27c58">fcm</a> != <a class="code" href="vc1_8h.html#aa3bc69bf1628114391836859fcb3036faa26e5d6a224712b2542b07280bdab8e9">PROGRESSIVE</a>);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#a6f3ee0596312c90a2ef2ad160c991188">top_field_first</a>  = v-&gt;<a class="code" href="structVC1Context.html#a346a6d45f20dd56bb45588ce30e38399">tff</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="comment">// process pulldown flags</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    s-&gt;<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aef11fd783ad17b6841af82efa07c859e">repeat_pict</a> = 0;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="comment">// Pulldown flags are only valid when &#39;broadcast&#39; has been set.</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// So ticks_per_frame will be 2</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#ab07620c7553bcf766e2f4f880e2d7173">rff</a>) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="comment">// repeat field</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        s-&gt;<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aef11fd783ad17b6841af82efa07c859e">repeat_pict</a> = 1;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#aee4648fdf013c5564b9c4fc2aa6dff8f">rptfrm</a>) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="comment">// repeat frames</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        s-&gt;<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aef11fd783ad17b6841af82efa07c859e">repeat_pict</a> = v-&gt;<a class="code" href="structVC1Context.html#aee4648fdf013c5564b9c4fc2aa6dff8f">rptfrm</a> * 2;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    s-&gt;<a class="code" href="structMpegEncContext.html#ac55093a5d2d8a1e947e725b512d59488">me</a>.<a class="code" href="structMotionEstContext.html#a23c7ff24a9e704e4d03d0d42337b5252">qpel_put</a> = s-&gt;<a class="code" href="structMpegEncContext.html#a9916b7b1bb65d6b10d8352caecaac8fe">qdsp</a>.<a class="code" href="structQpelDSPContext.html#aeba691f466408644b96e566924b45562">put_qpel_pixels_tab</a>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    s-&gt;<a class="code" href="structMpegEncContext.html#ac55093a5d2d8a1e947e725b512d59488">me</a>.<a class="code" href="structMotionEstContext.html#af870ae4a6002bf5307a2f063afaca32a">qpel_avg</a> = s-&gt;<a class="code" href="structMpegEncContext.html#a9916b7b1bb65d6b10d8352caecaac8fe">qdsp</a>.<a class="code" href="structQpelDSPContext.html#ac60f308052a09b6bca8c07e2dcc1f24c">avg_qpel_pixels_tab</a>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="preprocessor">#if FF_API_CAP_VDPAU</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="build_2config_8h.html#a88aabac946fc53c4093ddbee3ba59c0d">CONFIG_VC1_VDPAU_DECODER</a>)</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        &amp;&amp;s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a>&amp;<a class="code" href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a>) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a> &amp;&amp; buf_start_second_field) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <a class="code" href="vdpau__compat_8h.html#a48f373439d15570d83ebb4e2b31fea1e">ff_vdpau_vc1_decode_picture</a>(s, buf_start, buf_start_second_field - buf_start);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <a class="code" href="vdpau__compat_8h.html#a48f373439d15570d83ebb4e2b31fea1e">ff_vdpau_vc1_decode_picture</a>(s, buf_start_second_field, (buf + buf_size) - buf_start_second_field);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <a class="code" href="vdpau__compat_8h.html#a48f373439d15570d83ebb4e2b31fea1e">ff_vdpau_vc1_decode_picture</a>(s, buf_start, (buf + buf_size) - buf_start);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>) {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        s-&gt;<a class="code" href="structMpegEncContext.html#a9c8289ba4b1c014296216bffe67ed11d">mb_y</a> = 0;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a> &amp;&amp; buf_start_second_field) {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="comment">// decode first field</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a7632e6aa85051e67a795f9cba6eaf9d1">picture_structure</a> = <a class="code" href="mpegutils_8h.html#ad823c61c62f9f3563c62ab33feec902d">PICT_BOTTOM_FIELD</a> - v-&gt;<a class="code" href="structVC1Context.html#a346a6d45f20dd56bb45588ce30e38399">tff</a>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#a40b92f781dbaaecc9c82f636b790629b">start_frame</a>(avctx, buf_start, buf_start_second_field - buf_start)) &lt; 0)</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ab1effeed94fc20e372a60fec7c4d741b">decode_slice</a>(avctx, buf_start, buf_start_second_field - buf_start)) &lt; 0)</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ae7f4bdfa848f4c38bb6d9d059c11a297">end_frame</a>(avctx)) &lt; 0)</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="comment">// decode second field</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a> = slices[n_slices1 + 1].gb;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a7632e6aa85051e67a795f9cba6eaf9d1">picture_structure</a> = <a class="code" href="mpegutils_8h.html#ad0569e9def39e7912f9147d935bd2c64">PICT_TOP_FIELD</a> + v-&gt;<a class="code" href="structVC1Context.html#a346a6d45f20dd56bb45588ce30e38399">tff</a>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            v-&gt;<a class="code" href="structVC1Context.html#a589d2f9e86f91ed2e0bb45b8b21f1990">second_field</a> = 1;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            v-&gt;<a class="code" href="structVC1Context.html#a202e72faaa1fd65b6f8d0bb3cd6022c4">pic_header_flag</a> = 0;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vc1_8c.html#a3afbc6e754df1532c8cb0f5bd26acd17">ff_vc1_parse_frame_header_adv</a>(v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>) &lt; 0) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;parsing header for second field failed&quot;</span>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a>;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#a40b92f781dbaaecc9c82f636b790629b">start_frame</a>(avctx, buf_start_second_field, (buf + buf_size) - buf_start_second_field)) &lt; 0)</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ab1effeed94fc20e372a60fec7c4d741b">decode_slice</a>(avctx, buf_start_second_field, (buf + buf_size) - buf_start_second_field)) &lt; 0)</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ae7f4bdfa848f4c38bb6d9d059c11a297">end_frame</a>(avctx)) &lt; 0)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a7632e6aa85051e67a795f9cba6eaf9d1">picture_structure</a> = <a class="code" href="mpegutils_8h.html#afe9c6afe4f63cea62651c83a65644ba3">PICT_FRAME</a>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#a40b92f781dbaaecc9c82f636b790629b">start_frame</a>(avctx, buf_start, (buf + buf_size) - buf_start)) &lt; 0)</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="keywordflow">if</span> (n_slices == 0) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <span class="comment">// no slices, decode the frame as-is</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ab1effeed94fc20e372a60fec7c4d741b">decode_slice</a>(avctx, buf_start, (buf + buf_size) - buf_start)) &lt; 0)</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                <span class="comment">// decode the frame part as the first slice</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ab1effeed94fc20e372a60fec7c4d741b">decode_slice</a>(avctx, buf_start, slices[0].rawbuf - buf_start)) &lt; 0)</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                    <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                <span class="comment">// and process the slices as additional slices afterwards</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                <span class="keywordflow">for</span> (i = 0 ; i &lt; n_slices; i++) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                    s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a> = slices[i].gb;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                    s-&gt;<a class="code" href="structMpegEncContext.html#a9c8289ba4b1c014296216bffe67ed11d">mb_y</a> = slices[i].mby_start;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                    v-&gt;<a class="code" href="structVC1Context.html#a202e72faaa1fd65b6f8d0bb3cd6022c4">pic_header_flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a202e72faaa1fd65b6f8d0bb3cd6022c4">pic_header_flag</a>) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="vc1_8c.html#a3afbc6e754df1532c8cb0f5bd26acd17">ff_vc1_parse_frame_header_adv</a>(v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>) &lt; 0) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Slice header damaged\n&quot;</span>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                            ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#af9978d9bd6ac80a494ef1b78fe1d004f">err_recognition</a> &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                        }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                    }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                    <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ab1effeed94fc20e372a60fec7c4d741b">decode_slice</a>(avctx, slices[i].rawbuf, slices[i].raw_size)) &lt; 0)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                        <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="keywordflow">if</span> ((ret = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">hwaccel</a>-&gt;<a class="code" href="structAVHWAccel.html#ae7f4bdfa848f4c38bb6d9d059c11a297">end_frame</a>(avctx)) &lt; 0)</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordtype">int</span> header_ret = 0;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <a class="code" href="mpeg__er_8c.html#ab11c628ad67b935b032436f852af5771">ff_mpeg_er_frame_start</a>(s);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#aed71a30cebc08c7361bbb28fcfc75341">bits</a> = buf_size * 8;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        v-&gt;<a class="code" href="structVC1Context.html#a5b0007d148c2d001a48dc84cb3450bee">end_mb_x</a> = s-&gt;<a class="code" href="structMpegEncContext.html#a9a354b9d9a44db04eaa3e9036e884a82">mb_width</a>;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a>) {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0] &lt;&lt;= 1;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[1] &lt;&lt;= 1;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[2] &lt;&lt;= 1;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a3f9f7f0d266e4d506bc4dd50f1d43df0">linesize</a>                      &lt;&lt;= 1;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a8deeca1b489e9f0f434a2333149e5882">uvlinesize</a>                    &lt;&lt;= 1;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        mb_height = s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a> &gt;&gt; v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a>;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a> (mb_height &gt; 0);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt;= n_slices; i++) {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="keywordflow">if</span> (i &gt; 0 &amp;&amp;  slices[i - 1].mby_start &gt;= mb_height) {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a> &lt;= 0) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Slice %d starts beyond &quot;</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                           <span class="stringliteral">&quot;picture boundary (%d &gt;= %d)\n&quot;</span>, i,</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                           slices[i - 1].mby_start, mb_height);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                v-&gt;<a class="code" href="structVC1Context.html#a589d2f9e86f91ed2e0bb45b8b21f1990">second_field</a> = 1;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>((s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a> &amp; 1) == 0);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                v-&gt;<a class="code" href="structVC1Context.html#acd9ad6a125d8c9dd9d806b2ccc780faf">blocks_off</a>   = s-&gt;<a class="code" href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">b8_stride</a> * (s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a>&amp;~1);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                v-&gt;<a class="code" href="structVC1Context.html#ae66af022bb47065679f5aed5538713db">mb_off</a>       = s-&gt;<a class="code" href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">mb_stride</a> * s-&gt;<a class="code" href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">mb_height</a> &gt;&gt; 1;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                v-&gt;<a class="code" href="structVC1Context.html#a589d2f9e86f91ed2e0bb45b8b21f1990">second_field</a> = 0;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                v-&gt;<a class="code" href="structVC1Context.html#acd9ad6a125d8c9dd9d806b2ccc780faf">blocks_off</a>   = 0;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                v-&gt;<a class="code" href="structVC1Context.html#ae66af022bb47065679f5aed5538713db">mb_off</a>       = 0;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            }</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">if</span> (i) {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                v-&gt;<a class="code" href="structVC1Context.html#a202e72faaa1fd65b6f8d0bb3cd6022c4">pic_header_flag</a> = 0;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a> &amp;&amp; i == n_slices1 + 2) {</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    <span class="keywordflow">if</span> ((header_ret = <a class="code" href="vc1_8c.html#a3afbc6e754df1532c8cb0f5bd26acd17">ff_vc1_parse_frame_header_adv</a>(v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>)) &lt; 0) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Field header damaged\n&quot;</span>);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                        ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#af9978d9bd6ac80a494ef1b78fe1d004f">err_recognition</a> &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                    }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>)) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                    v-&gt;<a class="code" href="structVC1Context.html#a202e72faaa1fd65b6f8d0bb3cd6022c4">pic_header_flag</a> = 1;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                    <span class="keywordflow">if</span> ((header_ret = <a class="code" href="vc1_8c.html#a3afbc6e754df1532c8cb0f5bd26acd17">ff_vc1_parse_frame_header_adv</a>(v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>)) &lt; 0) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Slice header damaged\n&quot;</span>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                        ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#af9978d9bd6ac80a494ef1b78fe1d004f">err_recognition</a> &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                    }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordflow">if</span> (header_ret &lt; 0)</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a490a849e07a566c27507bcb7750cffb2">start_mb_y</a> = (i == 0) ? 0 : <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, slices[i-1].mby_start % mb_height);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a> || v-&gt;<a class="code" href="structVC1Context.html#a589d2f9e86f91ed2e0bb45b8b21f1990">second_field</a>)</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                s-&gt;<a class="code" href="structMpegEncContext.html#ad3166a40ed50e44c2bfe89f63af7c474">end_mb_y</a> = (i == n_slices     ) ? mb_height : <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(mb_height, slices[i].mby_start % mb_height);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                <span class="keywordflow">if</span> (i &gt;= n_slices) {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;first field slice count too large\n&quot;</span>);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                s-&gt;<a class="code" href="structMpegEncContext.html#ad3166a40ed50e44c2bfe89f63af7c474">end_mb_y</a> = (i &lt;= n_slices1 + 1) ? mb_height : <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(mb_height, slices[i].mby_start % mb_height);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#ad3166a40ed50e44c2bfe89f63af7c474">end_mb_y</a> &lt;= s-&gt;<a class="code" href="structMpegEncContext.html#a490a849e07a566c27507bcb7750cffb2">start_mb_y</a>) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;end mb y %d %d invalid\n&quot;</span>, s-&gt;<a class="code" href="structMpegEncContext.html#ad3166a40ed50e44c2bfe89f63af7c474">end_mb_y</a>, s-&gt;<a class="code" href="structMpegEncContext.html#a490a849e07a566c27507bcb7750cffb2">start_mb_y</a>);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a2fbf6eb60285d141683c779488f6eaad">p_frame_skipped</a> &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a> &amp;&amp; !v-&gt;<a class="code" href="structVC1Context.html#a9ae29b52a2d69c1b9513a7ef0b0e0932">cbpcy_vlc</a>) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;missing cbpcy_vlc\n&quot;</span>);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <a class="code" href="vc1_8h.html#a9181cac9cac55cbaf3a6eb13ba0a1cce">ff_vc1_decode_blocks</a>(v);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="keywordflow">if</span> (i != n_slices)</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a> = slices[i].gb;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        }</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a>) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            v-&gt;<a class="code" href="structVC1Context.html#a589d2f9e86f91ed2e0bb45b8b21f1990">second_field</a> = 0;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0] &gt;&gt;= 1;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[1] &gt;&gt;= 1;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">current_picture</a>.<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[2] &gt;&gt;= 1;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a3f9f7f0d266e4d506bc4dd50f1d43df0">linesize</a>                      &gt;&gt;= 1;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            s-&gt;<a class="code" href="structMpegEncContext.html#a8deeca1b489e9f0f434a2333149e5882">uvlinesize</a>                    &gt;&gt;= 1;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea71f9f194b0cbe86778cb6df41b867cf3">AV_PICTURE_TYPE_BI</a> &amp;&amp; v-&gt;<a class="code" href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">s</a>.<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *, v-&gt;<a class="code" href="structVC1Context.html#ae056d3fdd9ca1750b8aba34b8a5fa528">mv_f_next</a>[0], v-&gt;<a class="code" href="structVC1Context.html#a9f1b8a4ccc62129580071d7eca18580e">mv_f</a>[0]);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *, v-&gt;<a class="code" href="structVC1Context.html#ae056d3fdd9ca1750b8aba34b8a5fa528">mv_f_next</a>[1], v-&gt;<a class="code" href="structVC1Context.html#a9f1b8a4ccc62129580071d7eca18580e">mv_f</a>[1]);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(s-&gt;<a class="code" href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">avctx</a>, <span class="stringliteral">&quot;Consumed %i/%i bits\n&quot;</span>,</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>), s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>.<a class="code" href="structGetBitContext.html#adacaccb7e1e29f7d0e669659f17a9bfd">size_in_bits</a>);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">//  if (get_bits_count(&amp;s-&gt;gb) &gt; buf_size * 8)</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">//      return -1;</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">if</span>(s-&gt;<a class="code" href="structMpegEncContext.html#a7235be624525d80f295342c0f7a97cf6">er</a>.<a class="code" href="structERContext.html#a8607db4a68758e6bd12bdc7b1a5518e5">error_occurred</a> &amp;&amp; s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            ret = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">field_mode</a>)</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <a class="code" href="error__resilience_8c.html#a38248dbb9d274f4c6509ee063a177edf">ff_er_frame_end</a>(&amp;s-&gt;<a class="code" href="structMpegEncContext.html#a7235be624525d80f295342c0f7a97cf6">er</a>);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="mpegvideo_8c.html#a2913f488b513c0d833e2df1ede334bee">ff_mpv_frame_end</a>(s);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a> || avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>) {</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;image:</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a0d8f46461754e8abea0847dcbc41b956">width</a>  = avctx-&gt;<a class="code" href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>  = v-&gt;<a class="code" href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">output_width</a>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> = avctx-&gt;<a class="code" href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a> = v-&gt;<a class="code" href="structVC1Context.html#ad198475345a13e44b8de40f975526ce4">output_height</a>;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a> &gt;= <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8">AVDISCARD_NONREF</a>)</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="preprocessor">#if CONFIG_WMV3IMAGE_DECODER || CONFIG_VC1IMAGE_DECODER</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">if</span> ((ret = vc1_decode_sprites(v, &amp;s-&gt;<a class="code" href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">gb</a>)) &lt; 0)</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a>(pict, v-&gt;<a class="code" href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">sprite_output_frame</a>)) &lt; 0)</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        *got_frame = 1;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a> || s-&gt;<a class="code" href="structMpegEncContext.html#a9ca3149998ce21787440439c172c4c20">low_delay</a>) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a>(pict, s-&gt;<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>)) &lt; 0)</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <a class="code" href="mpegvideo_8c.html#a7eed5412c88ad2d3ca68c8d39a580bf3">ff_print_debug_info</a>(s, s-&gt;<a class="code" href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">current_picture_ptr</a>, pict);</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            *got_frame = 1;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structMpegEncContext.html#ae75cc018ab8b66bcad481c5d26bbdba0">last_picture_ptr</a>) {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a>(pict, s-&gt;<a class="code" href="structMpegEncContext.html#ae75cc018ab8b66bcad481c5d26bbdba0">last_picture_ptr</a>-&gt;<a class="code" href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">f</a>)) &lt; 0)</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                <span class="keywordflow">goto</span> err;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            <a class="code" href="mpegvideo_8c.html#a7eed5412c88ad2d3ca68c8d39a580bf3">ff_print_debug_info</a>(s, s-&gt;<a class="code" href="structMpegEncContext.html#ae75cc018ab8b66bcad481c5d26bbdba0">last_picture_ptr</a>, pict);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            *got_frame = 1;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf2);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_slices; i++)</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(slices[i].buf);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(slices);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span> buf_size;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;err:</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(buf2);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_slices; i++)</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(slices[i].buf);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(slices);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;}</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="libavcodec_2vc1dec_8c.html#a458a9015830098b45aead0096621482d"> 1147</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="libavcodec_2vc1dec_8c.html#a458a9015830098b45aead0096621482d">vc1_hwaccel_pixfmt_list_420</a>[] = {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="preprocessor">#if CONFIG_VC1_DXVA2_HWACCEL</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a35e418d6581792c6daa3c0aaba601cb1">AV_PIX_FMT_DXVA2_VLD</a>,</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="preprocessor">#if CONFIG_VC1_D3D11VA_HWACCEL</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a9e5137ae10c8b3e1051dc3159c4799a7">AV_PIX_FMT_D3D11VA_VLD</a>,</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="preprocessor">#if CONFIG_VC1_VAAPI_HWACCEL</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a>,</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="preprocessor">#if CONFIG_VC1_VDPAU_HWACCEL</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5affe7961ec99ad3559ab175e557bf908e">AV_PIX_FMT_VDPAU</a>,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>,</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;};</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"><a class="line" href="libavcodec_2vc1dec_8c.html#a02fb0589d963ebe32b4173e31e9b4895"> 1164</a></span>&#160;<a class="code" href="structAVCodec.html">AVCodec</a> <a class="code" href="libavcodec_2vc1dec_8c.html#a02fb0589d963ebe32b4173e31e9b4895">ff_vc1_decoder</a> = {</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    .<a class="code" href="structAVCodec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;vc1&quot;</span>,</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;SMPTE VC-1&quot;</span>),</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7765c5c02c05ea1a96ef1ca35dad068f">AV_CODEC_ID_VC1</a>,</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structVC1Context.html">VC1Context</a>),</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a>,</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    .close          = <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>,</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a>         = <a class="code" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a>,</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>          = <a class="code" href="mpegvideo_8c.html#a6b2170ea66fd50185869b62ea76329f8">ff_mpeg_flush</a>,</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a> | <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a>,</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = vc1_hwaccel_pixfmt_list_420,</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    .<a class="code" href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a>       = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#a26b1d7ae3ab05ac75c02e09e9eb4c78c">ff_vc1_profiles</a>)</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;};</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="preprocessor">#if CONFIG_WMV3_DECODER</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<a class="code" href="structAVCodec.html">AVCodec</a> ff_wmv3_decoder = {</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    .<a class="code" href="structAVCodec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;wmv3&quot;</span>,</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Windows Media Video 9&quot;</span>),</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadb3fab61116754cc08f3168dd26ff776">AV_CODEC_ID_WMV3</a>,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structVC1Context.html">VC1Context</a>),</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a>,</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    .close          = <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>,</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a>         = <a class="code" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a>,</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>          = <a class="code" href="mpegvideo_8c.html#a6b2170ea66fd50185869b62ea76329f8">ff_mpeg_flush</a>,</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a> | <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a>,</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = vc1_hwaccel_pixfmt_list_420,</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    .<a class="code" href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a>       = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#a26b1d7ae3ab05ac75c02e09e9eb4c78c">ff_vc1_profiles</a>)</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;};</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="preprocessor">#if CONFIG_WMV3_VDPAU_DECODER &amp;&amp; FF_API_VDPAU</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<a class="code" href="structAVCodec.html">AVCodec</a> ff_wmv3_vdpau_decoder = {</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    .<a class="code" href="structAVCodec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;wmv3_vdpau&quot;</span>,</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Windows Media Video 9 VDPAU&quot;</span>),</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadb3fab61116754cc08f3168dd26ff776">AV_CODEC_ID_WMV3</a>,</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structVC1Context.html">VC1Context</a>),</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a>,</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    .close          = <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>,</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a>         = <a class="code" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a>,</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a> | <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a> | <a class="code" href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a>,</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]){ <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5afc9da2b8383b02ae0133c8b4898afa73">AV_PIX_FMT_VDPAU_WMV3</a>, AV_PIX_FMT_NONE },</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    .profiles       = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#a26b1d7ae3ab05ac75c02e09e9eb4c78c">ff_vc1_profiles</a>)</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;};</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="preprocessor">#if CONFIG_VC1_VDPAU_DECODER &amp;&amp; FF_API_VDPAU</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<a class="code" href="structAVCodec.html">AVCodec</a> ff_vc1_vdpau_decoder = {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    .<a class="code" href="structAVCodec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;vc1_vdpau&quot;</span>,</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;SMPTE VC-1 VDPAU&quot;</span>),</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7765c5c02c05ea1a96ef1ca35dad068f">AV_CODEC_ID_VC1</a>,</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structVC1Context.html">VC1Context</a>),</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a>,</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    .close          = <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>,</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a>         = <a class="code" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a>,</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a> | <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a> | <a class="code" href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a>,</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]){ <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ac6118d635192614e68271f38b5ac1618">AV_PIX_FMT_VDPAU_VC1</a>, AV_PIX_FMT_NONE },</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    .profiles       = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#a26b1d7ae3ab05ac75c02e09e9eb4c78c">ff_vc1_profiles</a>)</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;};</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="preprocessor">#if CONFIG_WMV3IMAGE_DECODER</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<a class="code" href="structAVCodec.html">AVCodec</a> ff_wmv3image_decoder = {</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    .<a class="code" href="structAVCodec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;wmv3image&quot;</span>,</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Windows Media Video 9 Image&quot;</span>),</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a>,</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structVC1Context.html">VC1Context</a>),</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a>,</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    .close          = <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>,</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a>         = <a class="code" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a>,</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>          = vc1_sprite_flush,</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]) {</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>,</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        AV_PIX_FMT_NONE</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    },</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;};</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="preprocessor">#if CONFIG_VC1IMAGE_DECODER</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<a class="code" href="structAVCodec.html">AVCodec</a> ff_vc1image_decoder = {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    .<a class="code" href="structAVCodec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;vc1image&quot;</span>,</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Windows Media Video 9 Image v2&quot;</span>),</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a>,</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structVC1Context.html">VC1Context</a>),</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a>,</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    .close          = <a class="code" href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a>,</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a>         = <a class="code" href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a>,</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>          = vc1_sprite_flush,</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>,</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        AV_PIX_FMT_NONE</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    },</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;};</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structVC1Context_html_a9a59e0c6b4d3614bd40a5d0760aa4c0f"><div class="ttname"><a href="structVC1Context.html#a9a59e0c6b4d3614bd40a5d0760aa4c0f">VC1Context::color_prim</a></div><div class="ttdeci">int color_prim</div><div class="ttdoc">8 bits, chroma coordinates of the color primaries </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00206">vc1.h:206</a></div></div>
<div class="ttc" id="vc1_8h_html_aa3bc69bf1628114391836859fcb3036faa26e5d6a224712b2542b07280bdab8e9"><div class="ttname"><a href="vc1_8h.html#aa3bc69bf1628114391836859fcb3036faa26e5d6a224712b2542b07280bdab8e9">PROGRESSIVE</a></div><div class="ttdoc">in the bitstream is reported as 00b </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00149">vc1.h:149</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a331df3ad3da3df2efdb58c21eedfe6a0"><div class="ttname"><a href="avisynth__c_8h.html#a331df3ad3da3df2efdb58c21eedfe6a0">plane</a></div><div class="ttdeci">int plane</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00422">avisynth_c.h:422</a></div></div>
<div class="ttc" id="structMpegEncContext_html_ad60c0272534be1f8d5dabf3e6acc9326"><div class="ttname"><a href="structMpegEncContext.html#ad60c0272534be1f8d5dabf3e6acc9326">MpegEncContext::idsp</a></div><div class="ttdeci">IDCTDSPContext idsp</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00227">mpegvideo.h:227</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a6e606effa68724cae2ef5cc05f7fd9cb"><div class="ttname"><a href="structAVCodecContext.html#a6e606effa68724cae2ef5cc05f7fd9cb">AVCodecContext::codec</a></div><div class="ttdeci">const struct AVCodec * codec</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01695">avcodec.h:1695</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1">AVDISCARD_NONKEY</a></div><div class="ttdoc">discard all frames except keyframes </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00790">avcodec.h:790</a></div></div>
<div class="ttc" id="group__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea71f9f194b0cbe86778cb6df41b867cf3"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea71f9f194b0cbe86778cb6df41b867cf3">AV_PICTURE_TYPE_BI</a></div><div class="ttdoc">BI type. </div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00280">avutil.h:280</a></div></div>
<div class="ttc" id="structQpelDSPContext_html_ac60f308052a09b6bca8c07e2dcc1f24c"><div class="ttname"><a href="structQpelDSPContext.html#ac60f308052a09b6bca8c07e2dcc1f24c">QpelDSPContext::avg_qpel_pixels_tab</a></div><div class="ttdeci">qpel_mc_func avg_qpel_pixels_tab[2][16]</div><div class="ttdef"><b>Definition:</b> <a href="qpeldsp_8h_source.html#l00074">qpeldsp.h:74</a></div></div>
<div class="ttc" id="structVC1Context_html_a2fbf6eb60285d141683c779488f6eaad"><div class="ttname"><a href="structVC1Context.html#a2fbf6eb60285d141683c779488f6eaad">VC1Context::p_frame_skipped</a></div><div class="ttdeci">int p_frame_skipped</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00380">vc1.h:380</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_ab87f55bd0280d90925050a4188c14ab5"><div class="ttname"><a href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a></div><div class="ttdeci">const char * s</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00768">avisynth_c.h:768</a></div></div>
<div class="ttc" id="group__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input. </div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="structVC1Context_html"><div class="ttname"><a href="structVC1Context.html">VC1Context</a></div><div class="ttdoc">The VC1 Context. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00173">vc1.h:173</a></div></div>
<div class="ttc" id="twinvq__data_8h_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="structAVFrame_html"><div class="ttname"><a href="structAVFrame.html">AVFrame</a></div><div class="ttdoc">This structure describes decoded (raw) audio or video data. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00190">frame.h:190</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00061">pixfmt.h:61</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a490a849e07a566c27507bcb7750cffb2"><div class="ttname"><a href="structMpegEncContext.html#a490a849e07a566c27507bcb7750cffb2">MpegEncContext::start_mb_y</a></div><div class="ttdeci">int start_mb_y</div><div class="ttdoc">start mb_y of this thread (so current thread should process start_mb_y &lt;= row &lt; end_mb_y) ...</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00150">mpegvideo.h:150</a></div></div>
<div class="ttc" id="structVC1DSPContext_html_a402865695fa67b14e127f3bb6cf95548"><div class="ttname"><a href="structVC1DSPContext.html#a402865695fa67b14e127f3bb6cf95548">VC1DSPContext::sprite_v_double_onescale</a></div><div class="ttdeci">void(* sprite_v_double_onescale)(uint8_t *dst, const uint8_t *src1a, const uint8_t *src1b, int offset1, const uint8_t *src2a, int alpha, int width)</div><div class="ttdef"><b>Definition:</b> <a href="vc1dsp_8h_source.html#l00070">vc1dsp.h:70</a></div></div>
<div class="ttc" id="aacdec__template_8c_html_affa0ccbe2ef7fd24bb8c61e28d1a6631"><div class="ttname"><a href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a></div><div class="ttdeci">static void flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="aacdec__template_8c_source.html#l00496">aacdec_template.c:496</a></div></div>
<div class="ttc" id="structVC1Context_html_af765794c451c19b68edb32ef63ab6d37"><div class="ttname"><a href="structVC1Context.html#af765794c451c19b68edb32ef63ab6d37">VC1Context::mv_f_base</a></div><div class="ttdeci">uint8_t * mv_f_base</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00350">vc1.h:350</a></div></div>
<div class="ttc" id="blockdsp_8h_html"><div class="ttname"><a href="blockdsp_8h.html">blockdsp.h</a></div></div>
<div class="ttc" id="structAVCodecContext_html_ae3c157e97ff15d46e898a538c6bc7f09"><div class="ttname"><a href="structAVCodecContext.html#ae3c157e97ff15d46e898a538c6bc7f09">AVCodecContext::coded_width</a></div><div class="ttdeci">int coded_width</div><div class="ttdoc">Bitstream width / height, may be different from width/height e.g. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01888">avcodec.h:1888</a></div></div>
<div class="ttc" id="get__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdoc">Read 1-25 bits. </div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00247">get_bits.h:247</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdoc">Something somehow does not look correct. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00182">log.h:182</a></div></div>
<div class="ttc" id="build_2config_8h_html_a88aabac946fc53c4093ddbee3ba59c0d"><div class="ttname"><a href="build_2config_8h.html#a88aabac946fc53c4093ddbee3ba59c0d">CONFIG_VC1_VDPAU_DECODER</a></div><div class="ttdeci">#define CONFIG_VC1_VDPAU_DECODER</div><div class="ttdef"><b>Definition:</b> <a href="build_2config_8h_source.html#l00867">config.h:867</a></div></div>
<div class="ttc" id="msmpeg4_8h_html_aa60fb36ea386017c5ba5353d05822256"><div class="ttname"><a href="msmpeg4_8h.html#aa60fb36ea386017c5ba5353d05822256">ff_msmpeg4_decode_init</a></div><div class="ttdeci">int ff_msmpeg4_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="msmpeg4dec_8c_source.html#l00287">msmpeg4dec.c:287</a></div></div>
<div class="ttc" id="structMpegEncContext_html_ad3166a40ed50e44c2bfe89f63af7c474"><div class="ttname"><a href="structMpegEncContext.html#ad3166a40ed50e44c2bfe89f63af7c474">MpegEncContext::end_mb_y</a></div><div class="ttdeci">int end_mb_y</div><div class="ttdoc">end mb_y of this thread (so current thread should process start_mb_y &lt;= row &lt; end_mb_y) ...</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00151">mpegvideo.h:151</a></div></div>
<div class="ttc" id="avrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a3e5334a611a3e2a6a653805bb9e2d4d4"><div class="ttname"><a href="structAVCodecContext.html#a3e5334a611a3e2a6a653805bb9e2d4d4">AVCodecContext::max_b_frames</a></div><div class="ttdeci">int max_b_frames</div><div class="ttdoc">maximum number of B-frames between non-B-frames Note: The output will be delayed by max_b_frames+1 re...</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01972">avcodec.h:1972</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_a1536f3811c5103d62a77a423ef03f383"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#a1536f3811c5103d62a77a423ef03f383">ff_vc1_decode_end</a></div><div class="ttdeci">av_cold int ff_vc1_decode_end(AVCodecContext *avctx)</div><div class="ttdoc">Close a VC1/WMV3 decoder. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vc1dec_8c_source.html#l00587">vc1dec.c:587</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea7765c5c02c05ea1a96ef1ca35dad068f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7765c5c02c05ea1a96ef1ca35dad068f">AV_CODEC_ID_VC1</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00267">avcodec.h:267</a></div></div>
<div class="ttc" id="structMpegEncContext_html_abcdb016c685f0fac1e820ded9380dce8"><div class="ttname"><a href="structMpegEncContext.html#abcdb016c685f0fac1e820ded9380dce8">MpegEncContext::v_edge_pos</a></div><div class="ttdeci">int v_edge_pos</div><div class="ttdoc">horizontal / vertical position of the right/bottom edge (pixel replication) </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00129">mpegvideo.h:129</a></div></div>
<div class="ttc" id="error__resilience_8c_html_a38248dbb9d274f4c6509ee063a177edf"><div class="ttname"><a href="error__resilience_8c.html#a38248dbb9d274f4c6509ee063a177edf">ff_er_frame_end</a></div><div class="ttdeci">void ff_er_frame_end(ERContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="error__resilience_8c_source.html#l00853">error_resilience.c:853</a></div></div>
<div class="ttc" id="ff__glob_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="ff__glob_8c_source.html#l00222">ff_glob.c:222</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a255bf7100a4ba6dcb6ee5d87740a4f35"><div class="ttname"><a href="structAVCodecContext.html#a255bf7100a4ba6dcb6ee5d87740a4f35">AVCodecContext::color_range</a></div><div class="ttdeci">enum AVColorRange color_range</div><div class="ttdoc">MPEG vs JPEG YUV range. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02423">avcodec.h:2423</a></div></div>
<div class="ttc" id="structAVFrame_html_aef11fd783ad17b6841af82efa07c859e"><div class="ttname"><a href="structAVFrame.html#aef11fd783ad17b6841af82efa07c859e">AVFrame::repeat_pict</a></div><div class="ttdeci">int repeat_pict</div><div class="ttdoc">When decoding, this signals how much the picture must be delayed. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00323">frame.h:323</a></div></div>
<div class="ttc" id="structAVPacket_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01612">avcodec.h:1612</a></div></div>
<div class="ttc" id="structVC1Context_html_a0d954b8c8a26a27edf3fb74938d75c0b"><div class="ttname"><a href="structVC1Context.html#a0d954b8c8a26a27edf3fb74938d75c0b">VC1Context::transfer_char</a></div><div class="ttdeci">int transfer_char</div><div class="ttdoc">8 bits, Opto-electronic transfer characteristics </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00207">vc1.h:207</a></div></div>
<div class="ttc" id="structVC1DSPContext_html_a13668d35539e5df8bde79aeb976d3eef"><div class="ttname"><a href="structVC1DSPContext.html#a13668d35539e5df8bde79aeb976d3eef">VC1DSPContext::sprite_v_single</a></div><div class="ttdeci">void(* sprite_v_single)(uint8_t *dst, const uint8_t *src1a, const uint8_t *src1b, int offset, int width)</div><div class="ttdef"><b>Definition:</b> <a href="vc1dsp_8h_source.html#l00068">vc1dsp.h:68</a></div></div>
<div class="ttc" id="structPicture_html_aff1c3389b4b0efd9082578395b86484c"><div class="ttname"><a href="structPicture.html#aff1c3389b4b0efd9082578395b86484c">Picture::field_picture</a></div><div class="ttdeci">int field_picture</div><div class="ttdoc">whether or not the picture was encoded in separate fields </div><div class="ttdef"><b>Definition:</b> <a href="mpegpicture_8h_source.html#l00079">mpegpicture.h:79</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="structAVCodecContext.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdoc">Pixel format, see AV_PIX_FMT_xxx. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01914">avcodec.h:1914</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_a458a9015830098b45aead0096621482d"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#a458a9015830098b45aead0096621482d">vc1_hwaccel_pixfmt_list_420</a></div><div class="ttdeci">static enum AVPixelFormat vc1_hwaccel_pixfmt_list_420[]</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vc1dec_8c_source.html#l01147">vc1dec.c:1147</a></div></div>
<div class="ttc" id="structVC1Context_html_a58cbfe747ea3a0172c59a00fb057d003"><div class="ttname"><a href="structVC1Context.html#a58cbfe747ea3a0172c59a00fb057d003">VC1Context::zz_8x8</a></div><div class="ttdeci">uint8_t zz_8x8[4][64]</div><div class="ttdoc">Zigzag table for TT_8x8, permuted for IDCT. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00239">vc1.h:239</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5e1b7f778aed1ba72262d708d602d74b">AV_CODEC_ID_VC1IMAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00349">avcodec.h:349</a></div></div>
<div class="ttc" id="h264chroma_8c_html_a4183ca41207e383f4a607c6786737af1"><div class="ttname"><a href="h264chroma_8c.html#a4183ca41207e383f4a607c6786737af1">ff_h264chroma_init</a></div><div class="ttdeci">av_cold void ff_h264chroma_init(H264ChromaContext *c, int bit_depth)</div><div class="ttdef"><b>Definition:</b> <a href="h264chroma_8c_source.html#l00041">h264chroma.c:41</a></div></div>
<div class="ttc" id="mpegvideo_8h_html"><div class="ttname"><a href="mpegvideo_8h.html">mpegvideo.h</a></div><div class="ttdoc">mpegvideo header. </div></div>
<div class="ttc" id="structVC1Context_html_aac809115c7721dc7056e1d5ed620729b"><div class="ttname"><a href="structVC1Context.html#aac809115c7721dc7056e1d5ed620729b">VC1Context::x8</a></div><div class="ttdeci">IntraX8Context x8</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00175">vc1.h:175</a></div></div>
<div class="ttc" id="structVC1Context_html_a69eb932a2e9240f9a024692c504daa91"><div class="ttname"><a href="structVC1Context.html#a69eb932a2e9240f9a024692c504daa91">VC1Context::mb_type_base</a></div><div class="ttdeci">uint8_t * mb_type_base</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00264">vc1.h:264</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a></div><div class="ttdoc">discard all </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00791">avcodec.h:791</a></div></div>
<div class="ttc" id="structVC1Context_html_a9f1b8a4ccc62129580071d7eca18580e"><div class="ttname"><a href="structVC1Context.html#a9f1b8a4ccc62129580071d7eca18580e">VC1Context::mv_f</a></div><div class="ttdeci">uint8_t * mv_f[2]</div><div class="ttdoc">0: MV obtained from same field, 1: opposite field </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00350">vc1.h:350</a></div></div>
<div class="ttc" id="structVC1Context_html_a8f04a3f1bf6d39232115cd02e77b8baa"><div class="ttname"><a href="structVC1Context.html#a8f04a3f1bf6d39232115cd02e77b8baa">VC1Context::sprite_height</a></div><div class="ttdeci">int sprite_height</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00376">vc1.h:376</a></div></div>
<div class="ttc" id="structVC1Context_html_a5b0007d148c2d001a48dc84cb3450bee"><div class="ttname"><a href="structVC1Context.html#a5b0007d148c2d001a48dc84cb3450bee">VC1Context::end_mb_x</a></div><div class="ttdeci">int end_mb_x</div><div class="ttdoc">Horizontal macroblock limit (used only by mss2) </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00393">vc1.h:393</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="structAVCodecContext.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdoc">profile </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03192">avcodec.h:3192</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a9916b7b1bb65d6b10d8352caecaac8fe"><div class="ttname"><a href="structMpegEncContext.html#a9916b7b1bb65d6b10d8352caecaac8fe">MpegEncContext::qdsp</a></div><div class="ttdeci">QpelDSPContext qdsp</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00232">mpegvideo.h:232</a></div></div>
<div class="ttc" id="structAVCodec_html"><div class="ttname"><a href="structAVCodec.html">AVCodec</a></div><div class="ttdoc">AVCodec. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03619">avcodec.h:3619</a></div></div>
<div class="ttc" id="intrax8_8c_html_a05198162bde3e58c5c1bbb3cac4bb04a"><div class="ttname"><a href="intrax8_8c.html#a05198162bde3e58c5c1bbb3cac4bb04a">ff_intrax8_common_init</a></div><div class="ttdeci">av_cold int ff_intrax8_common_init(AVCodecContext *avctx, IntraX8Context *w, IDCTDSPContext *idsp, int16_t(*block)[64], int block_last_index[12], int mb_width, int mb_height)</div><div class="ttdoc">Initialize IntraX8 frame decoder. </div><div class="ttdef"><b>Definition:</b> <a href="intrax8_8c_source.html#l00728">intrax8.c:728</a></div></div>
<div class="ttc" id="structVC1Context_html_ab07620c7553bcf766e2f4f880e2d7173"><div class="ttname"><a href="structVC1Context.html#ab07620c7553bcf766e2f4f880e2d7173">VC1Context::rff</a></div><div class="ttdeci">uint8_t rff</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00311">vc1.h:311</a></div></div>
<div class="ttc" id="structAVCodecContext_html_af869b808363998c80adf7df6a944a5a6"><div class="ttname"><a href="structAVCodecContext.html#af869b808363998c80adf7df6a944a5a6">AVCodecContext::skip_frame</a></div><div class="ttdeci">enum AVDiscard skip_frame</div><div class="ttdoc">Skip decoding for selected frames. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03312">avcodec.h:3312</a></div></div>
<div class="ttc" id="structVC1Context_html_aed71a30cebc08c7361bbb28fcfc75341"><div class="ttname"><a href="structVC1Context.html#aed71a30cebc08c7361bbb28fcfc75341">VC1Context::bits</a></div><div class="ttdeci">int bits</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00179">vc1.h:179</a></div></div>
<div class="ttc" id="structMpegEncContext_html_afdec4688658ffdd623c44be191266603"><div class="ttname"><a href="structMpegEncContext.html#afdec4688658ffdd623c44be191266603">MpegEncContext::h_edge_pos</a></div><div class="ttdeci">int h_edge_pos</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00129">mpegvideo.h:129</a></div></div>
<div class="ttc" id="structAVCodecContext_html_ab1030454a58273fd5ab88679b1eed7cc"><div class="ttname"><a href="structAVCodecContext.html#ab1030454a58273fd5ab88679b1eed7cc">AVCodecContext::hwaccel</a></div><div class="ttdeci">struct AVHWAccel * hwaccel</div><div class="ttdoc">Hardware accelerator in use. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03007">avcodec.h:3007</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga3f55f5bcfbb12e06c7cb1195028855e6"><div class="ttname"><a href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a></div><div class="ttdeci">#define AV_CODEC_CAP_DELAY</div><div class="ttdoc">Encoder or decoder requires flushing with NULL input at the end in order to give the complete and cor...</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00988">avcodec.h:988</a></div></div>
<div class="ttc" id="avassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdoc">assert() equivalent, that is always enabled. </div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="structVC1Context_html_aa069ef5fdfee007d2c8014b1c0fd0985"><div class="ttname"><a href="structVC1Context.html#aa069ef5fdfee007d2c8014b1c0fd0985">VC1Context::acpred_plane</a></div><div class="ttdeci">uint8_t * acpred_plane</div><div class="ttdoc">AC prediction flags bitplane. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00321">vc1.h:321</a></div></div>
<div class="ttc" id="vc1data_8h_html"><div class="ttname"><a href="vc1data_8h.html">vc1data.h</a></div><div class="ttdoc">VC-1 tables. </div></div>
<div class="ttc" id="libavutil_2internal_8h_html_a6f548a661473b6189346b3cb9e135ac1"><div class="ttname"><a href="libavutil_2internal_8h.html#a6f548a661473b6189346b3cb9e135ac1">avpriv_request_sample</a></div><div class="ttdeci">void void avpriv_request_sample(void *avc, const char *msg,...) av_printf_format(2</div><div class="ttdoc">Log a generic warning message about a missing feature. </div></div>
<div class="ttc" id="structVC1Context_html_ae184cba9e9d95624e889cdc126801a61"><div class="ttname"><a href="structVC1Context.html#ae184cba9e9d95624e889cdc126801a61">VC1Context::matrix_coef</a></div><div class="ttdeci">int matrix_coef</div><div class="ttdoc">8 bits, Color primaries-&gt;YCbCr transform matrix </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00208">vc1.h:208</a></div></div>
<div class="ttc" id="audio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="attributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00082">attributes.h:82</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="group__lavu__frame_html_gac700017c5270c79c1e1befdeeb008b2f"><div class="ttname"><a href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a></div><div class="ttdeci">AVFrame * av_frame_alloc(void)</div><div class="ttdoc">Allocate an AVFrame and set its fields to default values. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00145">frame.c:145</a></div></div>
<div class="ttc" id="structVC1Context_html_a21dced84f24f1891782b4450bd4d9015"><div class="ttname"><a href="structVC1Context.html#a21dced84f24f1891782b4450bd4d9015">VC1Context::first_pic_header_flag</a></div><div class="ttdeci">int first_pic_header_flag</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00368">vc1.h:368</a></div></div>
<div class="ttc" id="structVC1Context_html_affc05c1511fa47ed47c4c688df395af7"><div class="ttname"><a href="structVC1Context.html#affc05c1511fa47ed47c4c688df395af7">VC1Context::hrd_rate</a></div><div class="ttdeci">uint16_t * hrd_rate</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00326">vc1.h:326</a></div></div>
<div class="ttc" id="vc1_8c_html_a0dab42e61911a4a06188c9c34cbe4ee0"><div class="ttname"><a href="vc1_8c.html#a0dab42e61911a4a06188c9c34cbe4ee0">ff_vc1_init_common</a></div><div class="ttdeci">av_cold int ff_vc1_init_common(VC1Context *v)</div><div class="ttdoc">Init VC-1 specific tables and VC1Context members. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8c_source.html#l01575">vc1.c:1575</a></div></div>
<div class="ttc" id="avcodec_8h_html_a5d34f0bd0c235b8b9ee96e658df557af"><div class="ttname"><a href="avcodec_8h.html#a5d34f0bd0c235b8b9ee96e658df557af">FF_DEBUG_PICT_INFO</a></div><div class="ttdeci">#define FF_DEBUG_PICT_INFO</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02928">avcodec.h:2928</a></div></div>
<div class="ttc" id="avr32_2intreadwrite_8h_html_a236265133da1ecd6375e5e7c405020a0"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a></div><div class="ttdeci">#define AV_RB32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00130">intreadwrite.h:130</a></div></div>
<div class="ttc" id="avrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00090">avrndec.c:90</a></div></div>
<div class="ttc" id="structVC1Context_html_aba937592a6ae75144cb9fadf8aadcda9"><div class="ttname"><a href="structVC1Context.html#aba937592a6ae75144cb9fadf8aadcda9">VC1Context::interlace</a></div><div class="ttdeci">int interlace</div><div class="ttdoc">Progressive/interlaced (RPTFTM syntax element) </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00201">vc1.h:201</a></div></div>
<div class="ttc" id="structVC1Context_html_a589d2f9e86f91ed2e0bb45b8b21f1990"><div class="ttname"><a href="structVC1Context.html#a589d2f9e86f91ed2e0bb45b8b21f1990">VC1Context::second_field</a></div><div class="ttdeci">int second_field</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00354">vc1.h:354</a></div></div>
<div class="ttc" id="structVC1Context_html_aa5f8fa9ce89a70118d4a84e5ab29bea6"><div class="ttname"><a href="structVC1Context.html#aa5f8fa9ce89a70118d4a84e5ab29bea6">VC1Context::n_allocated_blks</a></div><div class="ttdeci">int n_allocated_blks</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00385">vc1.h:385</a></div></div>
<div class="ttc" id="structMotionEstContext_html_a23c7ff24a9e704e4d03d0d42337b5252"><div class="ttname"><a href="structMotionEstContext.html#a23c7ff24a9e704e4d03d0d42337b5252">MotionEstContext::qpel_put</a></div><div class="ttdeci">qpel_mc_func(* qpel_put)[16]</div><div class="ttdef"><b>Definition:</b> <a href="motion__est_8h_source.html#l00091">motion_est.h:91</a></div></div>
<div class="ttc" id="group__lavc__core_html_gaa90f89265adba401ebe80380517fe613"><div class="ttname"><a href="group__lavc__core.html#gaa90f89265adba401ebe80380517fe613">AV_CODEC_FLAG_LOW_DELAY</a></div><div class="ttdeci">#define AV_CODEC_FLAG_LOW_DELAY</div><div class="ttdoc">Force low delay. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00882">avcodec.h:882</a></div></div>
<div class="ttc" id="group__lavu__frame_html_ga88b0ecbc4eb3453eef3fbefa3bddeb7c"><div class="ttname"><a href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a></div><div class="ttdeci">int av_frame_ref(AVFrame *dst, const AVFrame *src)</div><div class="ttdoc">Set up a new reference to the data described by the source frame. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00385">frame.c:385</a></div></div>
<div class="ttc" id="structAVCodecContext_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="structAVCodecContext.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdoc">some codecs need / can use extradata like Huffman tables. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01801">avcodec.h:1801</a></div></div>
<div class="ttc" id="structMpegEncContext_html_adbd5b2cead0d3a02b31ddced5e847aab"><div class="ttname"><a href="structMpegEncContext.html#adbd5b2cead0d3a02b31ddced5e847aab">MpegEncContext::current_picture</a></div><div class="ttdeci">Picture current_picture</div><div class="ttdoc">copy of the current picture structure. </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00177">mpegvideo.h:177</a></div></div>
<div class="ttc" id="vc1_8h_html"><div class="ttname"><a href="vc1_8h.html">vc1.h</a></div></div>
<div class="ttc" id="structVC1Context_html_ad636fdf9fe1f75aa5b13340ecd3f7c4c"><div class="ttname"><a href="structVC1Context.html#ad636fdf9fe1f75aa5b13340ecd3f7c4c">VC1Context::luma_mv</a></div><div class="ttdeci">int16_t((* luma_mv)[2]</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00388">vc1.h:388</a></div></div>
<div class="ttc" id="libavcodec_2version_8h_html_a1355287109a7ef6248603670c9541383"><div class="ttname"><a href="libavcodec_2version_8h.html#a1355287109a7ef6248603670c9541383">FF_API_CAP_VDPAU</a></div><div class="ttdeci">#define FF_API_CAP_VDPAU</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2version_8h_source.html#l00073">version.h:73</a></div></div>
<div class="ttc" id="structVC1Context_html_a0eee915c4488d3ab25efac6497c76e69"><div class="ttname"><a href="structVC1Context.html#a0eee915c4488d3ab25efac6497c76e69">VC1Context::profile</a></div><div class="ttdeci">int profile</div><div class="ttdoc">Sequence header data for all Profiles TODO: choose between ints, uint8_ts and monobit flags...</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00218">vc1.h:218</a></div></div>
<div class="ttc" id="mxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00089">mxf.c:89</a></div></div>
<div class="ttc" id="vc1__common_8h_html_ad0840f7f0dd14462a477b7a1b2f95a1fabdb7f24f2ca88357476ca0b2a65e93f3"><div class="ttname"><a href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fabdb7f24f2ca88357476ca0b2a65e93f3">VC1_CODE_SLICE</a></div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00036">vc1_common.h:36</a></div></div>
<div class="ttc" id="mpegutils_8h_html_ad823c61c62f9f3563c62ab33feec902d"><div class="ttname"><a href="mpegutils_8h.html#ad823c61c62f9f3563c62ab33feec902d">PICT_BOTTOM_FIELD</a></div><div class="ttdeci">#define PICT_BOTTOM_FIELD</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00038">mpegutils.h:38</a></div></div>
<div class="ttc" id="msmpeg4data_8h_html"><div class="ttname"><a href="msmpeg4data_8h.html">msmpeg4data.h</a></div><div class="ttdoc">MSMPEG4 data tables. </div></div>
<div class="ttc" id="structAVPacket_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01611">avcodec.h:1611</a></div></div>
<div class="ttc" id="get__bits_8h_html_aac3f793480c01f793f2acc9eba031ff5"><div class="ttname"><a href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a></div><div class="ttdeci">static int get_bits_count(const GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00199">get_bits.h:199</a></div></div>
<div class="ttc" id="group__lavu__picture_html_gacbf2ea8b2b89924c890ef8ec10a3d922"><div class="ttname"><a href="group__lavu__picture.html#gacbf2ea8b2b89924c890ef8ec10a3d922">av_get_picture_type_char</a></div><div class="ttdeci">char av_get_picture_type_char(enum AVPictureType pict_type)</div><div class="ttdoc">Return a single letter to describe the given picture type pict_type. </div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2utils_8c_source.html#l00091">utils.c:91</a></div></div>
<div class="ttc" id="group__lavc__core_html_gaff12f286c59b73665a48768204cf866d"><div class="ttname"><a href="group__lavc__core.html#gaff12f286c59b73665a48768204cf866d">AV_CODEC_CAP_HWACCEL_VDPAU</a></div><div class="ttdeci">#define AV_CODEC_CAP_HWACCEL_VDPAU</div><div class="ttdoc">Codec can export data for HW decoding (VDPAU). </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00999">avcodec.h:999</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_a8e3eb32799f4637fcdd75bb9099142ff"><div class="ttname"><a href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a></div><div class="ttdeci">#define ff_dlog(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00029">tableprint_vlc.h:29</a></div></div>
<div class="ttc" id="get__bits_8h_html"><div class="ttname"><a href="get__bits_8h.html">get_bits.h</a></div><div class="ttdoc">bitstream reader API header. </div></div>
<div class="ttc" id="structVC1Context_html_ad57df111cf11964c474a6f3b331ab5d7"><div class="ttname"><a href="structVC1Context.html#ad57df111cf11964c474a6f3b331ab5d7">VC1Context::forward_mb_plane</a></div><div class="ttdeci">uint8_t * forward_mb_plane</div><div class="ttdoc">bitplane for &quot;forward&quot; MBs </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00288">vc1.h:288</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5afc9da2b8383b02ae0133c8b4898afa73"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5afc9da2b8383b02ae0133c8b4898afa73">AV_PIX_FMT_VDPAU_WMV3</a></div><div class="ttdoc">WMV3 HW decoding with VDPAU, data[0] contains a vdpau_render_state struct which contains the bitstrea...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00107">pixfmt.h:107</a></div></div>
<div class="ttc" id="structAVFrame_html_a7f761518da738c704676c6a5f08eeb8e"><div class="ttname"><a href="structAVFrame.html#a7f761518da738c704676c6a5f08eeb8e">AVFrame::interlaced_frame</a></div><div class="ttdeci">int interlaced_frame</div><div class="ttdoc">The content of the picture is interlaced. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00328">frame.h:328</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a1416cde04aa66786f9ad1cad47e04a21"><div class="ttname"><a href="structMpegEncContext.html#a1416cde04aa66786f9ad1cad47e04a21">MpegEncContext::mb_height</a></div><div class="ttdeci">int mb_height</div><div class="ttdoc">number of MBs horizontally &amp; vertically </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00126">mpegvideo.h:126</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_a1a38a22a9131f935ff4acafb3886f271"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#a1a38a22a9131f935ff4acafb3886f271">vc1_decode_init</a></div><div class="ttdeci">static av_cold int vc1_decode_init(AVCodecContext *avctx)</div><div class="ttdoc">Initialize a VC1/WMV3 decoder. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vc1dec_8c_source.html#l00422">vc1dec.c:422</a></div></div>
<div class="ttc" id="vc1_8c_html_a4e1a6ca7dd977a6cec53057917bed61a"><div class="ttname"><a href="vc1_8c.html#a4e1a6ca7dd977a6cec53057917bed61a">ff_vc1_decode_sequence_header</a></div><div class="ttdeci">int ff_vc1_decode_sequence_header(AVCodecContext *avctx, VC1Context *v, GetBitContext *gb)</div><div class="ttdoc">Decode Simple/Main Profiles sequence header. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8c_source.html#l00276">vc1.c:276</a></div></div>
<div class="ttc" id="structVC1Context_html_a1bb8eeb2a0869ee36d9121cbb1507608"><div class="ttname"><a href="structVC1Context.html#a1bb8eeb2a0869ee36d9121cbb1507608">VC1Context::over_flags_plane</a></div><div class="ttdeci">uint8_t * over_flags_plane</div><div class="ttdoc">Overflags bitplane. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00323">vc1.h:323</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga752fa4b8beeb25c9e8f0014a4aa622b4"><div class="ttname"><a href="group__lavc__core.html#ga752fa4b8beeb25c9e8f0014a4aa622b4">AV_CODEC_FLAG_GRAY</a></div><div class="ttdeci">#define AV_CODEC_FLAG_GRAY</div><div class="ttdoc">Only decode/encode grayscale. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00865">avcodec.h:865</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_gaadc230ece36ef112710b262a6601a16b"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaadc230ece36ef112710b262a6601a16b">av_realloc_array</a></div><div class="ttdeci">void * av_realloc_array(void *ptr, size_t nmemb, size_t size)</div><div class="ttdoc">Allocate, reallocate, or free an array. </div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00208">mem.c:208</a></div></div>
<div class="ttc" id="macros_8h_html_acae4ba605b3a7d535b7ac058ffe96892"><div class="ttname"><a href="macros_8h.html#acae4ba605b3a7d535b7ac058ffe96892">FFALIGN</a></div><div class="ttdeci">#define FFALIGN(x, a)</div><div class="ttdef"><b>Definition:</b> <a href="macros_8h_source.html#l00048">macros.h:48</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="vc1__common_8h_html_ad0840f7f0dd14462a477b7a1b2f95a1fa55f9d40487b81890857a1603ec93b109"><div class="ttname"><a href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa55f9d40487b81890857a1603ec93b109">VC1_CODE_ENDOFSEQ</a></div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00035">vc1_common.h:35</a></div></div>
<div class="ttc" id="structVC1Context_html_a7d532a4cdab1a943238f3342de7d85df"><div class="ttname"><a href="structVC1Context.html#a7d532a4cdab1a943238f3342de7d85df">VC1Context::block</a></div><div class="ttdeci">int16_t(* block)[6][64]</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00384">vc1.h:384</a></div></div>
<div class="ttc" id="vf__geq_8c_html_a62da772255bc551e680d5f4ed47cfeba"><div class="ttname"><a href="vf__geq_8c.html#a62da772255bc551e680d5f4ed47cfeba">alpha</a></div><div class="ttdeci">static double alpha(void *priv, double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="vf__geq_8c_source.html#l00099">vf_geq.c:99</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdoc">Something went wrong and cannot losslessly be recovered. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00176">log.h:176</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a686a77363668795c15c87b532cc455fa"><div class="ttname"><a href="structAVCodecContext.html#a686a77363668795c15c87b532cc455fa">AVCodecContext::has_b_frames</a></div><div class="ttdeci">int has_b_frames</div><div class="ttdoc">Size of the frame reordering buffer in the decoder. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02008">avcodec.h:2008</a></div></div>
<div class="ttc" id="group__lavu__error_html_gae4bb6f165973d09584e0ec0f335f69ca"><div class="ttname"><a href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a></div><div class="ttdeci">#define AVERROR(e)</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00043">error.h:43</a></div></div>
<div class="ttc" id="group__lavu__frame_html_ga979d73f3228814aee56aeca0636e37cc"><div class="ttname"><a href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a></div><div class="ttdeci">void av_frame_free(AVFrame **frame)</div><div class="ttdoc">Free the frame and any dynamically allocated objects in it, e.g. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00158">frame.c:158</a></div></div>
<div class="ttc" id="libavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdoc">Return NULL if CONFIG_SMALL is true, otherwise the argument without modification. ...</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00176">internal.h:176</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a7235be624525d80f295342c0f7a97cf6"><div class="ttname"><a href="structMpegEncContext.html#a7235be624525d80f295342c0f7a97cf6">MpegEncContext::er</a></div><div class="ttdeci">ERContext er</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00550">mpegvideo.h:550</a></div></div>
<div class="ttc" id="structAVCodec_html_af51f7ff3dac8b730f46b9713e49a2518"><div class="ttname"><a href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">AVCodec::capabilities</a></div><div class="ttdeci">int capabilities</div><div class="ttdoc">Codec capabilities. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03638">avcodec.h:3638</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a></div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00130">pixfmt.h:130</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdoc">Stuff which is only useful for libav* developers. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00197">log.h:197</a></div></div>
<div class="ttc" id="dca__parser_8c_html_aa7021d22d1a340830e034f42634546e9"><div class="ttname"><a href="dca__parser_8c.html#aa7021d22d1a340830e034f42634546e9">IS_MARKER</a></div><div class="ttdeci">#define IS_MARKER(state)</div><div class="ttdef"><b>Definition:</b> <a href="dca__parser_8c_source.html#l00049">dca_parser.c:49</a></div></div>
<div class="ttc" id="structVC1Context_html_a91db7549ab28009b966e9998c411b1cf"><div class="ttname"><a href="structVC1Context.html#a91db7549ab28009b966e9998c411b1cf">VC1Context::mv_f_next_base</a></div><div class="ttdeci">uint8_t * mv_f_next_base</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00351">vc1.h:351</a></div></div>
<div class="ttc" id="structAVCodecContext_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdoc">AV_CODEC_FLAG_*. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01781">avcodec.h:1781</a></div></div>
<div class="ttc" id="avassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div><div class="ttdoc">simple assert() macros that are a bit more flexible than ISO C assert(). </div></div>
<div class="ttc" id="vc1_8h_html_a9181cac9cac55cbaf3a6eb13ba0a1cce"><div class="ttname"><a href="vc1_8h.html#a9181cac9cac55cbaf3a6eb13ba0a1cce">ff_vc1_decode_blocks</a></div><div class="ttdeci">void ff_vc1_decode_blocks(VC1Context *v)</div><div class="ttdef"><b>Definition:</b> <a href="vc1__block_8c_source.html#l02929">vc1_block.c:2929</a></div></div>
<div class="ttc" id="mpegutils_8h_html_ad0569e9def39e7912f9147d935bd2c64"><div class="ttname"><a href="mpegutils_8h.html#ad0569e9def39e7912f9147d935bd2c64">PICT_TOP_FIELD</a></div><div class="ttdeci">#define PICT_TOP_FIELD</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00037">mpegutils.h:37</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_ga6a42cc41278e2f5a5b658d2202d1650d"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdoc">Allocate a memory block with alignment suitable for all memory accesses (including vectors if availab...</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00252">mem.c:252</a></div></div>
<div class="ttc" id="structAVCodec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="structAVCodec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of the codec implementation. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03626">avcodec.h:3626</a></div></div>
<div class="ttc" id="vc1__common_8h_html_ad0840f7f0dd14462a477b7a1b2f95a1fa605e15f5b85ddd1d9a1755a40418969d"><div class="ttname"><a href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa605e15f5b85ddd1d9a1755a40418969d">VC1_CODE_FIELD</a></div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00037">vc1_common.h:37</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a9ca3149998ce21787440439c172c4c20"><div class="ttname"><a href="structMpegEncContext.html#a9ca3149998ce21787440439c172c4c20">MpegEncContext::low_delay</a></div><div class="ttdeci">int low_delay</div><div class="ttdoc">no reordering needed / has no B-frames </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00404">mpegvideo.h:404</a></div></div>
<div class="ttc" id="structQpelDSPContext_html_aeba691f466408644b96e566924b45562"><div class="ttname"><a href="structQpelDSPContext.html#aeba691f466408644b96e566924b45562">QpelDSPContext::put_qpel_pixels_tab</a></div><div class="ttdeci">qpel_mc_func put_qpel_pixels_tab[2][16]</div><div class="ttdef"><b>Definition:</b> <a href="qpeldsp_8h_source.html#l00073">qpeldsp.h:73</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a961bb78d8d039cd179575bb94483633a"><div class="ttname"><a href="structMpegEncContext.html#a961bb78d8d039cd179575bb94483633a">MpegEncContext::gb</a></div><div class="ttdeci">GetBitContext gb</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00445">mpegvideo.h:445</a></div></div>
<div class="ttc" id="mpegvideo_8c_html_a18e8f54ca7350073bde9adee069dc3ba"><div class="ttname"><a href="mpegvideo_8c.html#a18e8f54ca7350073bde9adee069dc3ba">ff_mpv_common_end</a></div><div class="ttdeci">void ff_mpv_common_end(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l01115">mpegvideo.c:1115</a></div></div>
<div class="ttc" id="common_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="decoder__targeted_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="decoder__targeted_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="decoder__targeted_8c_source.html#l00053">decoder_targeted.c:53</a></div></div>
<div class="ttc" id="structVC1Context_html_aae84ee7b27b60788e38e5a565acd17b2"><div class="ttname"><a href="structVC1Context.html#aae84ee7b27b60788e38e5a565acd17b2">VC1Context::blk_mv_type</a></div><div class="ttdeci">uint8_t * blk_mv_type</div><div class="ttdoc">0: frame MV, 1: field MV (interlaced frame) </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00349">vc1.h:349</a></div></div>
<div class="ttc" id="mpegvideo_8c_html_a6b2170ea66fd50185869b62ea76329f8"><div class="ttname"><a href="mpegvideo_8c.html#a6b2170ea66fd50185869b62ea76329f8">ff_mpeg_flush</a></div><div class="ttdeci">void ff_mpeg_flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l02773">mpegvideo.c:2773</a></div></div>
<div class="ttc" id="vc1_8c_html_a3afbc6e754df1532c8cb0f5bd26acd17"><div class="ttname"><a href="vc1_8c.html#a3afbc6e754df1532c8cb0f5bd26acd17">ff_vc1_parse_frame_header_adv</a></div><div class="ttdeci">int ff_vc1_parse_frame_header_adv(VC1Context *v, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8c_source.html#l00844">vc1.c:844</a></div></div>
<div class="ttc" id="vc1data_8c_html_aaff4d0178fb5445481cba67f1610618a"><div class="ttname"><a href="vc1data_8c.html#aaff4d0178fb5445481cba67f1610618a">ff_vc1_adv_interlaced_8x8_zz</a></div><div class="ttdeci">const uint8_t ff_vc1_adv_interlaced_8x8_zz[64]</div><div class="ttdef"><b>Definition:</b> <a href="vc1data_8c_source.html#l01047">vc1data.c:1047</a></div></div>
<div class="ttc" id="msmpeg4data_8c_html_aa1d2ddd4fe16260d540f12b08ffd1592"><div class="ttname"><a href="msmpeg4data_8c.html#aa1d2ddd4fe16260d540f12b08ffd1592">ff_wmv1_scantable</a></div><div class="ttdeci">const uint8_t ff_wmv1_scantable[WMV1_SCANTABLE_COUNT][64]</div><div class="ttdef"><b>Definition:</b> <a href="msmpeg4data_8c_source.html#l01809">msmpeg4data.c:1809</a></div></div>
<div class="ttc" id="structAVCodec_html_ac2b97bd3c19686025e1b7d577329c250"><div class="ttname"><a href="structAVCodec.html#ac2b97bd3c19686025e1b7d577329c250">AVCodec::pix_fmts</a></div><div class="ttdeci">enum AVPixelFormat * pix_fmts</div><div class="ttdoc">array of supported pixel formats, or NULL if unknown, array is terminated by -1 </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03640">avcodec.h:3640</a></div></div>
<div class="ttc" id="group__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdoc">Intra. </div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="structAVFrame_html_af9920fc3fbfa347b8943ae461b50d18b"><div class="ttname"><a href="structAVFrame.html#af9920fc3fbfa347b8943ae461b50d18b">AVFrame::pict_type</a></div><div class="ttdeci">enum AVPictureType pict_type</div><div class="ttdoc">Picture type of the frame. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00264">frame.h:264</a></div></div>
<div class="ttc" id="profiles_8h_html"><div class="ttname"><a href="profiles_8h.html">profiles.h</a></div></div>
<div class="ttc" id="structAVCodecContext_html_af9978d9bd6ac80a494ef1b78fe1d004f"><div class="ttname"><a href="structAVCodecContext.html#af9978d9bd6ac80a494ef1b78fe1d004f">AVCodecContext::err_recognition</a></div><div class="ttdeci">int err_recognition</div><div class="ttdoc">Error recognition; may misdetect some more or less valid parts as errors. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02975">avcodec.h:2975</a></div></div>
<div class="ttc" id="common_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a9c8289ba4b1c014296216bffe67ed11d"><div class="ttname"><a href="structMpegEncContext.html#a9c8289ba4b1c014296216bffe67ed11d">MpegEncContext::mb_y</a></div><div class="ttdeci">int mb_y</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00288">mpegvideo.h:288</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a9b380a33f5407f81845d84faa74eed12"><div class="ttname"><a href="structMpegEncContext.html#a9b380a33f5407f81845d84faa74eed12">MpegEncContext::next_p_frame_damaged</a></div><div class="ttdeci">int next_p_frame_damaged</div><div class="ttdoc">set if the next p frame is damaged, to avoid showing trashed B-frames </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00360">mpegvideo.h:360</a></div></div>
<div class="ttc" id="structVC1Context_html_ad1c86418a3d12b849b7d4fe9581098de"><div class="ttname"><a href="structVC1Context.html#ad1c86418a3d12b849b7d4fe9581098de">VC1Context::blk_mv_type_base</a></div><div class="ttdeci">uint8_t * blk_mv_type_base</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00349">vc1.h:349</a></div></div>
<div class="ttc" id="tests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="structVC1Context_html_a7767a471c9d08f4f2529b69d84ac160e"><div class="ttname"><a href="structVC1Context.html#a7767a471c9d08f4f2529b69d84ac160e">VC1Context::field_mode</a></div><div class="ttdeci">int field_mode</div><div class="ttdoc">1 for interlaced field pictures </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00352">vc1.h:352</a></div></div>
<div class="ttc" id="intrax8_8c_html_a3a795ee6fa6a33ae2401576ec273fc56"><div class="ttname"><a href="intrax8_8c.html#a3a795ee6fa6a33ae2401576ec273fc56">ff_intrax8_common_end</a></div><div class="ttdeci">av_cold void ff_intrax8_common_end(IntraX8Context *w)</div><div class="ttdoc">Destroy IntraX8 frame structure. </div><div class="ttdef"><b>Definition:</b> <a href="intrax8_8c_source.html#l00768">intrax8.c:768</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="structAVCodecContext.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">picture width / height. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01873">avcodec.h:1873</a></div></div>
<div class="ttc" id="structMpegEncContext_html_ac62218626a651e663d5dfe3d3ca24abe"><div class="ttname"><a href="structMpegEncContext.html#ac62218626a651e663d5dfe3d3ca24abe">MpegEncContext::current_picture_ptr</a></div><div class="ttdeci">Picture * current_picture_ptr</div><div class="ttdoc">pointer to the current picture </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00181">mpegvideo.h:181</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a0751ddc2d5fbc675ac1fde834cef0c50"><div class="ttname"><a href="structMpegEncContext.html#a0751ddc2d5fbc675ac1fde834cef0c50">MpegEncContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00097">mpegvideo.h:97</a></div></div>
<div class="ttc" id="structVC1Context_html_ae66af022bb47065679f5aed5538713db"><div class="ttname"><a href="structVC1Context.html#ae66af022bb47065679f5aed5538713db">VC1Context::mb_off</a></div><div class="ttdeci">int mb_off</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00364">vc1.h:364</a></div></div>
<div class="ttc" id="mpeg__er_8c_html_ab11c628ad67b935b032436f852af5771"><div class="ttname"><a href="mpeg__er_8c.html#ab11c628ad67b935b032436f852af5771">ff_mpeg_er_frame_start</a></div><div class="ttdeci">void ff_mpeg_er_frame_start(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpeg__er_8c_source.html#l00046">mpeg_er.c:46</a></div></div>
<div class="ttc" id="structGetBitContext_html_adacaccb7e1e29f7d0e669659f17a9bfd"><div class="ttname"><a href="structGetBitContext.html#adacaccb7e1e29f7d0e669659f17a9bfd">GetBitContext::size_in_bits</a></div><div class="ttdeci">int size_in_bits</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00058">get_bits.h:58</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a3a41b3e5bde23b877799f6e72dac8ef3"><div class="ttname"><a href="structAVCodecContext.html#a3a41b3e5bde23b877799f6e72dac8ef3">AVCodecContext::color_primaries</a></div><div class="ttdeci">enum AVColorPrimaries color_primaries</div><div class="ttdoc">Chromaticity coordinates of the source primaries. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02402">avcodec.h:2402</a></div></div>
<div class="ttc" id="msmpeg4_8h_html"><div class="ttname"><a href="msmpeg4_8h.html">msmpeg4.h</a></div></div>
<div class="ttc" id="vc1_8c_html_a6bcdacdfebbdad886c8a4eac401e1e29"><div class="ttname"><a href="vc1_8c.html#a6bcdacdfebbdad886c8a4eac401e1e29">ff_vc1_parse_frame_header</a></div><div class="ttdeci">int ff_vc1_parse_frame_header(VC1Context *v, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8c_source.html#l00627">vc1.c:627</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a9a354b9d9a44db04eaa3e9036e884a82"><div class="ttname"><a href="structMpegEncContext.html#a9a354b9d9a44db04eaa3e9036e884a82">MpegEncContext::mb_width</a></div><div class="ttdeci">int mb_width</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00126">mpegvideo.h:126</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a8fdff73361f54a0bdc664edb24cde2a4"><div class="ttname"><a href="structMpegEncContext.html#a8fdff73361f54a0bdc664edb24cde2a4">MpegEncContext::droppable</a></div><div class="ttdeci">int droppable</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00213">mpegvideo.h:213</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a6927dc652ae6241f1dfdbad4e12d3a40"><div class="ttname"><a href="structAVCodecContext.html#a6927dc652ae6241f1dfdbad4e12d3a40">AVCodecContext::level</a></div><div class="ttdeci">int level</div><div class="ttdoc">level </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03290">avcodec.h:3290</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a8aaac674230196a0bb8373d49e35ed09"><div class="ttname"><a href="structMpegEncContext.html#a8aaac674230196a0bb8373d49e35ed09">MpegEncContext::block_last_index</a></div><div class="ttdeci">int block_last_index[12]</div><div class="ttdoc">last non zero coefficient in block </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00083">mpegvideo.h:83</a></div></div>
<div class="ttc" id="structMpegEncContext_html_ac55093a5d2d8a1e947e725b512d59488"><div class="ttname"><a href="structMpegEncContext.html#ac55093a5d2d8a1e947e725b512d59488">MpegEncContext::me</a></div><div class="ttdeci">MotionEstContext me</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00282">mpegvideo.h:282</a></div></div>
<div class="ttc" id="avcodec_8h_html_a6101c3b2a02c61ea41f3c97e88b64d39"><div class="ttname"><a href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a></div><div class="ttdeci">#define AV_EF_EXPLODE</div><div class="ttdoc">abort decoding on minor error detection </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02986">avcodec.h:2986</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="structAVCodecContext.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01873">avcodec.h:1873</a></div></div>
<div class="ttc" id="structVC1Context_html_ab49522406411d12a7abbd033d7aabea8"><div class="ttname"><a href="structVC1Context.html#ab49522406411d12a7abbd033d7aabea8">VC1Context::cbp</a></div><div class="ttdeci">uint32_t * cbp</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00386">vc1.h:386</a></div></div>
<div class="ttc" id="structVC1Context_html_a174c1792202a00c000f75bc8336f390e"><div class="ttname"><a href="structVC1Context.html#a174c1792202a00c000f75bc8336f390e">VC1Context::left_blk_sh</a></div><div class="ttdeci">int left_blk_sh</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00240">vc1.h:240</a></div></div>
<div class="ttc" id="structVC1Context_html_a029ff38ac81300800c1b4a12d9ccc358"><div class="ttname"><a href="structVC1Context.html#a029ff38ac81300800c1b4a12d9ccc358">VC1Context::luma_mv_base</a></div><div class="ttdeci">int16_t(* luma_mv_base)[2]</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00388">vc1.h:388</a></div></div>
<div class="ttc" id="structVC1Context_html_a8f9ef0dd6f4f2dc73f5c945d021d3317"><div class="ttname"><a href="structVC1Context.html#a8f9ef0dd6f4f2dc73f5c945d021d3317">VC1Context::fieldtx_plane</a></div><div class="ttdeci">uint8_t * fieldtx_plane</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00346">vc1.h:346</a></div></div>
<div class="ttc" id="structVC1Context_html_abd89edec42d2ee116fb5ccf8ad7367bd"><div class="ttname"><a href="structVC1Context.html#abd89edec42d2ee116fb5ccf8ad7367bd">VC1Context::ttblk_base</a></div><div class="ttdeci">int * ttblk_base</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00259">vc1.h:259</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7de7e6cabd99e6215c1a4fdfca196198">AV_CODEC_ID_WMV3IMAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00348">avcodec.h:348</a></div></div>
<div class="ttc" id="structVC1Context_html_a9ae29b52a2d69c1b9513a7ef0b0e0932"><div class="ttname"><a href="structVC1Context.html#a9ae29b52a2d69c1b9513a7ef0b0e0932">VC1Context::cbpcy_vlc</a></div><div class="ttdeci">VLC * cbpcy_vlc</div><div class="ttdoc">CBPCY VLC table. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00284">vc1.h:284</a></div></div>
<div class="ttc" id="structVC1Context_html_a023db7951184caf3e6c5dc30fe6dd8cc"><div class="ttname"><a href="structVC1Context.html#a023db7951184caf3e6c5dc30fe6dd8cc">VC1Context::sr_rows</a></div><div class="ttdeci">uint8_t * sr_rows[2][2]</div><div class="ttdoc">Sprite resizer line cache. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00377">vc1.h:377</a></div></div>
<div class="ttc" id="libavcodec_2internal_8h_html_a8a7eadb05d8ea6f849a146035377ad1f"><div class="ttname"><a href="libavcodec_2internal_8h.html#a8a7eadb05d8ea6f849a146035377ad1f">ff_get_format</a></div><div class="ttdeci">int ff_get_format(AVCodecContext *avctx, const enum AVPixelFormat *fmt)</div><div class="ttdoc">Select the (possibly hardware accelerated) pixel format. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01112">utils.c:1112</a></div></div>
<div class="ttc" id="group__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome. </div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdoc">Standard information. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00187">log.h:187</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_affaff8d9fcab7160a210a7bd7c3853d7"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#affaff8d9fcab7160a210a7bd7c3853d7">ff_vc1_init_transposed_scantables</a></div><div class="ttdeci">av_cold void ff_vc1_init_transposed_scantables(VC1Context *v)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vc1dec_8c_source.html#l00403">vc1dec.c:403</a></div></div>
<div class="ttc" id="structVC1Context_html_a7d233c938c6c4f4cae56097e6f60edda"><div class="ttname"><a href="structVC1Context.html#a7d233c938c6c4f4cae56097e6f60edda">VC1Context::res_sprite</a></div><div class="ttdeci">int res_sprite</div><div class="ttdoc">Simple/Main Profile sequence header. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00183">vc1.h:183</a></div></div>
<div class="ttc" id="structVC1Context_html_a15abb18df560ae4bed72ee50e7019509"><div class="ttname"><a href="structVC1Context.html#a15abb18df560ae4bed72ee50e7019509">VC1Context::top_blk_sh</a></div><div class="ttdeci">int top_blk_sh</div><div class="ttdoc">Either 3 or 0, positions of l/t in blk[]. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00240">vc1.h:240</a></div></div>
<div class="ttc" id="avcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div><div class="ttdoc">Libavcodec external API header. </div></div>
<div class="ttc" id="structVC1DSPContext_html_a4a04ed85880ffa6f1d20f4f61021ab62"><div class="ttname"><a href="structVC1DSPContext.html#a4a04ed85880ffa6f1d20f4f61021ab62">VC1DSPContext::sprite_v_double_noscale</a></div><div class="ttdeci">void(* sprite_v_double_noscale)(uint8_t *dst, const uint8_t *src1a, const uint8_t *src2a, int alpha, int width)</div><div class="ttdef"><b>Definition:</b> <a href="vc1dsp_8h_source.html#l00069">vc1dsp.h:69</a></div></div>
<div class="ttc" id="vc1__common_8h_html_a05c2be005dc9ec1643c47abc9a2d288d"><div class="ttname"><a href="vc1__common_8h.html#a05c2be005dc9ec1643c47abc9a2d288d">vc1_unescape_buffer</a></div><div class="ttdeci">static av_always_inline int vc1_unescape_buffer(const uint8_t *src, int size, uint8_t *dst)</div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00070">vc1_common.h:70</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a3f9f7f0d266e4d506bc4dd50f1d43df0"><div class="ttname"><a href="structMpegEncContext.html#a3f9f7f0d266e4d506bc4dd50f1d43df0">MpegEncContext::linesize</a></div><div class="ttdeci">ptrdiff_t linesize</div><div class="ttdoc">line size, in bytes, may be different from width </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00131">mpegvideo.h:131</a></div></div>
<div class="ttc" id="structAVHWAccel_html_ae7f4bdfa848f4c38bb6d9d059c11a297"><div class="ttname"><a href="structAVHWAccel.html#ae7f4bdfa848f4c38bb6d9d059c11a297">AVHWAccel::end_frame</a></div><div class="ttdeci">int(* end_frame)(AVCodecContext *avctx)</div><div class="ttdoc">Called at the end of each frame or field picture. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03827">avcodec.h:3827</a></div></div>
<div class="ttc" id="structAVCodecContext_html_adc5f65d6099fd8339c1580c091777223"><div class="ttname"><a href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">AVCodecContext::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01703">avcodec.h:1703</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a795543732980e948b5864f75b5d1f319"><div class="ttname"><a href="structMpegEncContext.html#a795543732980e948b5864f75b5d1f319">MpegEncContext::bdsp</a></div><div class="ttdeci">BlockDSPContext bdsp</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00223">mpegvideo.h:223</a></div></div>
<div class="ttc" id="blockdsp_8c_html_a923c6716c33a9c53546b0254916e406f"><div class="ttname"><a href="blockdsp_8c.html#a923c6716c33a9c53546b0254916e406f">ff_blockdsp_init</a></div><div class="ttdeci">av_cold void ff_blockdsp_init(BlockDSPContext *c, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="blockdsp_8c_source.html#l00058">blockdsp.c:58</a></div></div>
<div class="ttc" id="structAVFrame_html_aa52bfc6605f6a3059a0c3226cc0f6567"><div class="ttname"><a href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">AVFrame::linesize</a></div><div class="ttdeci">int linesize[AV_NUM_DATA_POINTERS]</div><div class="ttdoc">For video, size in bytes of each picture line. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00221">frame.h:221</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a1c52e4da25b608b2b9a80af21bb86d58"><div class="ttname"><a href="structAVCodecContext.html#a1c52e4da25b608b2b9a80af21bb86d58">AVCodecContext::debug</a></div><div class="ttdeci">int debug</div><div class="ttdoc">debug </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02927">avcodec.h:2927</a></div></div>
<div class="ttc" id="structVC1Context_html_a7bacb010cacd9ab5c0d413aa599ab0b9"><div class="ttname"><a href="structVC1Context.html#a7bacb010cacd9ab5c0d413aa599ab0b9">VC1Context::cbp_base</a></div><div class="ttdeci">uint32_t * cbp_base</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00386">vc1.h:386</a></div></div>
<div class="ttc" id="structAVCodecContext_html"><div class="ttname"><a href="structAVCodecContext.html">AVCodecContext</a></div><div class="ttdoc">main external API structure. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01686">avcodec.h:1686</a></div></div>
<div class="ttc" id="mpeg__er_8h_html"><div class="ttname"><a href="mpeg__er_8h.html">mpeg_er.h</a></div></div>
<div class="ttc" id="structVC1Context_html_a462918e26cae13c33826aed65c413bc6"><div class="ttname"><a href="structVC1Context.html#a462918e26cae13c33826aed65c413bc6">VC1Context::is_intra</a></div><div class="ttdeci">uint8_t * is_intra</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00387">vc1.h:387</a></div></div>
<div class="ttc" id="structMpegEncContext_html_ade2031c0b3b0434e0f410de74755ca74"><div class="ttname"><a href="structMpegEncContext.html#ade2031c0b3b0434e0f410de74755ca74">MpegEncContext::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">picture size. must be a multiple of 16 </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00097">mpegvideo.h:97</a></div></div>
<div class="ttc" id="libavcodec_2internal_8h_html_a0d5adb2b84051826883605b3ab4d1bab"><div class="ttname"><a href="libavcodec_2internal_8h.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a></div><div class="ttdeci">int ff_get_buffer(AVCodecContext *avctx, AVFrame *frame, int flags)</div><div class="ttdoc">Get a buffer for a frame. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00948">utils.c:948</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a5bc5fa69bee375df074734a2c4858604"><div class="ttname"><a href="avisynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a></div><div class="ttdeci">void * buf</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00690">avisynth_c.h:690</a></div></div>
<div class="ttc" id="mpegvideo_8c_html_a7eed5412c88ad2d3ca68c8d39a580bf3"><div class="ttname"><a href="mpegvideo_8c.html#a7eed5412c88ad2d3ca68c8d39a580bf3">ff_print_debug_info</a></div><div class="ttdeci">void ff_print_debug_info(MpegEncContext *s, Picture *p, AVFrame *pict)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l01961">mpegvideo.c:1961</a></div></div>
<div class="ttc" id="structAVCodecContext_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="structAVCodecContext.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01802">avcodec.h:1802</a></div></div>
<div class="ttc" id="get__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00299">get_bits.h:299</a></div></div>
<div class="ttc" id="structVC1Context_html_aad734b9f57ca33a522c0d26dab5dd31c"><div class="ttname"><a href="structVC1Context.html#aad734b9f57ca33a522c0d26dab5dd31c">VC1Context::sprite_width</a></div><div class="ttdeci">int sprite_width</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00376">vc1.h:376</a></div></div>
<div class="ttc" id="structVC1Context_html_a5f53097c4cb92dcc674bc973aed650b3"><div class="ttname"><a href="structVC1Context.html#a5f53097c4cb92dcc674bc973aed650b3">VC1Context::is_intra_base</a></div><div class="ttdeci">uint8_t * is_intra_base</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00387">vc1.h:387</a></div></div>
<div class="ttc" id="structAVCodecContext_html_ab2ebb76836ef4cd9822b5077c17b33d0"><div class="ttname"><a href="structAVCodecContext.html#ab2ebb76836ef4cd9822b5077c17b33d0">AVCodecContext::coded_height</a></div><div class="ttdeci">int coded_height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01888">avcodec.h:1888</a></div></div>
<div class="ttc" id="get__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00292">get_bits.h:292</a></div></div>
<div class="ttc" id="libfdk-aacenc_8c_html_a3e3649a3e3978bfb8c6e13c4e91c5e6b"><div class="ttname"><a href="libfdk-aacenc_8c.html#a3e3649a3e3978bfb8c6e13c4e91c5e6b">profiles</a></div><div class="ttdeci">static const AVProfile profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="libfdk-aacenc_8c_source.html#l00378">libfdk-aacenc.c:378</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a8cd8caa7d40319324ce3d879a2edbd9f"><div class="ttname"><a href="structAVCodecContext.html#a8cd8caa7d40319324ce3d879a2edbd9f">AVCodecContext::colorspace</a></div><div class="ttdeci">enum AVColorSpace colorspace</div><div class="ttdoc">YUV colorspace type. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02416">avcodec.h:2416</a></div></div>
<div class="ttc" id="structAVCodecContext_html_ab649e8c599f5a0e2a30448e67a36deb6"><div class="ttname"><a href="structAVCodecContext.html#ab649e8c599f5a0e2a30448e67a36deb6">AVCodecContext::color_trc</a></div><div class="ttdeci">enum AVColorTransferCharacteristic color_trc</div><div class="ttdoc">Color Transfer Characteristic. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02409">avcodec.h:2409</a></div></div>
<div class="ttc" id="structPicture_html_ab73190435fab740e9c22e61aedb5c2ad"><div class="ttname"><a href="structPicture.html#ab73190435fab740e9c22e61aedb5c2ad">Picture::f</a></div><div class="ttdeci">struct AVFrame * f</div><div class="ttdef"><b>Definition:</b> <a href="mpegpicture_8h_source.html#l00046">mpegpicture.h:46</a></div></div>
<div class="ttc" id="structVC1DSPContext_html_a485895ca3cb43a98394c8e0fd1ccd4fc"><div class="ttname"><a href="structVC1DSPContext.html#a485895ca3cb43a98394c8e0fd1ccd4fc">VC1DSPContext::sprite_v_double_twoscale</a></div><div class="ttdeci">void(* sprite_v_double_twoscale)(uint8_t *dst, const uint8_t *src1a, const uint8_t *src1b, int offset1, const uint8_t *src2a, const uint8_t *src2b, int offset2, int alpha, int width)</div><div class="ttdef"><b>Definition:</b> <a href="vc1dsp_8h_source.html#l00072">vc1dsp.h:72</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5affe7961ec99ad3559ab175e557bf908e"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5affe7961ec99ad3559ab175e557bf908e">AV_PIX_FMT_VDPAU</a></div><div class="ttdoc">HW acceleration through VDPAU, Picture.data[3] contains a VdpVideoSurface. </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00209">pixfmt.h:209</a></div></div>
<div class="ttc" id="get__bits_8h_html_af65c008755f74e99d139eae8b46534b5"><div class="ttname"><a href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a></div><div class="ttdeci">static int init_get_bits(GetBitContext *s, const uint8_t *buffer, int bit_size)</div><div class="ttdoc">Initialize GetBitContext. </div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00411">get_bits.h:411</a></div></div>
<div class="ttc" id="structMpegEncContext_html_abdb47a79e130330260d32fd7f89e94a2"><div class="ttname"><a href="structMpegEncContext.html#abdb47a79e130330260d32fd7f89e94a2">MpegEncContext::context_initialized</a></div><div class="ttdeci">int context_initialized</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00121">mpegvideo.h:121</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a8deeca1b489e9f0f434a2333149e5882"><div class="ttname"><a href="structMpegEncContext.html#a8deeca1b489e9f0f434a2333149e5882">MpegEncContext::uvlinesize</a></div><div class="ttdeci">ptrdiff_t uvlinesize</div><div class="ttdoc">line size, for chroma in bytes, may be different from width </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00132">mpegvideo.h:132</a></div></div>
<div class="ttc" id="mpegvideo_8c_html_a09cdf71b4e226f14deef538e321f3af6"><div class="ttname"><a href="mpegvideo_8c.html#a09cdf71b4e226f14deef538e321f3af6">ff_mpv_frame_start</a></div><div class="ttdeci">int ff_mpv_frame_start(MpegEncContext *s, AVCodecContext *avctx)</div><div class="ttdoc">generic function called after decoding the header and before a frame is decoded. </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l01189">mpegvideo.c:1189</a></div></div>
<div class="ttc" id="get__bits_8h_html_a20dc15e40874f46af0d2b4ad34aed9a7"><div class="ttname"><a href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a></div><div class="ttdeci">static unsigned int get_bits_long(GetBitContext *s, int n)</div><div class="ttdoc">Read 0-32 bits. </div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00332">get_bits.h:332</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_a411c947536741ea7108a05ba606f8d9a"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#a411c947536741ea7108a05ba606f8d9a">ff_vc1_decode_init_alloc_tables</a></div><div class="ttdeci">av_cold int ff_vc1_decode_init_alloc_tables(VC1Context *v)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vc1dec_8c_source.html#l00324">vc1dec.c:324</a></div></div>
<div class="ttc" id="structVC1Context_html_a1e23e7227e8e40e831c165791cdb6aa2"><div class="ttname"><a href="structVC1Context.html#a1e23e7227e8e40e831c165791cdb6aa2">VC1Context::direct_mb_plane</a></div><div class="ttdeci">uint8_t * direct_mb_plane</div><div class="ttdoc">bitplane for &quot;direct&quot; MBs </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00287">vc1.h:287</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a35e418d6581792c6daa3c0aaba601cb1"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a35e418d6581792c6daa3c0aaba601cb1">AV_PIX_FMT_DXVA2_VLD</a></div><div class="ttdoc">HW decoding through DXVA2, Picture.data[3] contains a LPDIRECT3DSURFACE9 pointer. ...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00148">pixfmt.h:148</a></div></div>
<div class="ttc" id="structMpegEncContext_html_ac92d762c7001d98f241bcd5734a2e6b9"><div class="ttname"><a href="structMpegEncContext.html#ac92d762c7001d98f241bcd5734a2e6b9">MpegEncContext::pict_type</a></div><div class="ttdeci">int pict_type</div><div class="ttdoc">AV_PICTURE_TYPE_I, AV_PICTURE_TYPE_P, AV_PICTURE_TYPE_B, ... </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00209">mpegvideo.h:209</a></div></div>
<div class="ttc" id="libkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00262">libkvazaar.c:262</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_a02fb0589d963ebe32b4173e31e9b4895"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#a02fb0589d963ebe32b4173e31e9b4895">ff_vc1_decoder</a></div><div class="ttdeci">AVCodec ff_vc1_decoder</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vc1dec_8c_source.html#l01164">vc1dec.c:1164</a></div></div>
<div class="ttc" id="structVC1Context_html_a96df7392895e0aa19f6f7f14d3905896"><div class="ttname"><a href="structVC1Context.html#a96df7392895e0aa19f6f7f14d3905896">VC1Context::mv_type_mb_plane</a></div><div class="ttdeci">uint8_t * mv_type_mb_plane</div><div class="ttdoc">bitplane for mv_type == (4MV) </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00286">vc1.h:286</a></div></div>
<div class="ttc" id="structVC1Context_html_acd9ad6a125d8c9dd9d806b2ccc780faf"><div class="ttname"><a href="structVC1Context.html#acd9ad6a125d8c9dd9d806b2ccc780faf">VC1Context::blocks_off</a></div><div class="ttdeci">int blocks_off</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00364">vc1.h:364</a></div></div>
<div class="ttc" id="group__lavu__frame_html_ga0a2b687f9c1c5ed0089b01fd61227108"><div class="ttname"><a href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a></div><div class="ttdeci">void av_frame_unref(AVFrame *frame)</div><div class="ttdoc">Unreference all the buffers referenced by frame and reset the frame fields. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00495">frame.c:495</a></div></div>
<div class="ttc" id="structAVHWAccel_html_ab1effeed94fc20e372a60fec7c4d741b"><div class="ttname"><a href="structAVHWAccel.html#ab1effeed94fc20e372a60fec7c4d741b">AVHWAccel::decode_slice</a></div><div class="ttdeci">int(* decode_slice)(AVCodecContext *avctx, const uint8_t *buf, uint32_t buf_size)</div><div class="ttdoc">Callback for each slice. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03816">avcodec.h:3816</a></div></div>
<div class="ttc" id="structVC1Context_html_a346a6d45f20dd56bb45588ce30e38399"><div class="ttname"><a href="structVC1Context.html#a346a6d45f20dd56bb45588ce30e38399">VC1Context::tff</a></div><div class="ttdeci">uint8_t tff</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00311">vc1.h:311</a></div></div>
<div class="ttc" id="structAVFrame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdoc">pointer to the picture/channel planes. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00204">frame.h:204</a></div></div>
<div class="ttc" id="structMotionEstContext_html_af870ae4a6002bf5307a2f063afaca32a"><div class="ttname"><a href="structMotionEstContext.html#af870ae4a6002bf5307a2f063afaca32a">MotionEstContext::qpel_avg</a></div><div class="ttdeci">qpel_mc_func(* qpel_avg)[16]</div><div class="ttdef"><b>Definition:</b> <a href="motion__est_8h_source.html#l00092">motion_est.h:92</a></div></div>
<div class="ttc" id="structMpegEncContext_html_acb1bd10d68da00dd056172e2abd86725"><div class="ttname"><a href="structMpegEncContext.html#acb1bd10d68da00dd056172e2abd86725">MpegEncContext::b8_stride</a></div><div class="ttdeci">int b8_stride</div><div class="ttdoc">2*mb_width+1 used for some 8x8 block arrays to allow simple addressing </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00128">mpegvideo.h:128</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a></div><div class="ttdoc">the normal 219*2^(n-8) &quot;MPEG&quot; YUV ranges </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00473">pixfmt.h:473</a></div></div>
<div class="ttc" id="structVC1Context_html_a97b4e879fc3fd60755bdfe4f37d26c8d"><div class="ttname"><a href="structVC1Context.html#a97b4e879fc3fd60755bdfe4f37d26c8d">VC1Context::s</a></div><div class="ttdeci">MpegEncContext s</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00174">vc1.h:174</a></div></div>
<div class="ttc" id="structAVHWAccel_html_a40b92f781dbaaecc9c82f636b790629b"><div class="ttname"><a href="structAVHWAccel.html#a40b92f781dbaaecc9c82f636b790629b">AVHWAccel::start_frame</a></div><div class="ttdeci">int(* start_frame)(AVCodecContext *avctx, const uint8_t *buf, uint32_t buf_size)</div><div class="ttdoc">Called at the beginning of each frame or field picture. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03802">avcodec.h:3802</a></div></div>
<div class="ttc" id="structMpegEncContext_html"><div class="ttname"><a href="structMpegEncContext.html">MpegEncContext</a></div><div class="ttdoc">MpegEncContext. </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00078">mpegvideo.h:78</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a38e971cbd31891db4acb42702b8802e8"><div class="ttname"><a href="structMpegEncContext.html#a38e971cbd31891db4acb42702b8802e8">MpegEncContext::next_picture_ptr</a></div><div class="ttdeci">Picture * next_picture_ptr</div><div class="ttdoc">pointer to the next picture (for bidir pred) </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00180">mpegvideo.h:180</a></div></div>
<div class="ttc" id="structMpegEncContext_html_afcd6dc88b0d074921f6563d83d480953"><div class="ttname"><a href="structMpegEncContext.html#afcd6dc88b0d074921f6563d83d480953">MpegEncContext::avctx</a></div><div class="ttdeci">struct AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00095">mpegvideo.h:95</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5ac6118d635192614e68271f38b5ac1618"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5ac6118d635192614e68271f38b5ac1618">AV_PIX_FMT_VDPAU_VC1</a></div><div class="ttdoc">VC-1 HW decoding with VDPAU, data[0] contains a vdpau_render_state struct which contains the bitstrea...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00108">pixfmt.h:108</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_a6451ef549c3018af820bed4ef6d9f11f"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#a6451ef549c3018af820bed4ef6d9f11f">transpose</a></div><div class="ttdeci">#define transpose(x)</div></div>
<div class="ttc" id="profiles_8c_html_a26b1d7ae3ab05ac75c02e09e9eb4c78c"><div class="ttname"><a href="profiles_8c.html#a26b1d7ae3ab05ac75c02e09e9eb4c78c">ff_vc1_profiles</a></div><div class="ttdeci">const AVProfile ff_vc1_profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="profiles_8c_source.html#l00127">profiles.c:127</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8">AVDISCARD_NONREF</a></div><div class="ttdoc">discard all non reference </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00787">avcodec.h:787</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceadb3fab61116754cc08f3168dd26ff776"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceadb3fab61116754cc08f3168dd26ff776">AV_CODEC_ID_WMV3</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00268">avcodec.h:268</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples) </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00062">pixfmt.h:62</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a></div><div class="ttdoc">Y , 8bpp. </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00070">pixfmt.h:70</a></div></div>
<div class="ttc" id="structGetBitContext_html"><div class="ttname"><a href="structGetBitContext.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00055">get_bits.h:55</a></div></div>
<div class="ttc" id="libavcodec_2internal_8h_html"><div class="ttname"><a href="libavcodec_2internal_8h.html">internal.h</a></div><div class="ttdoc">common internal api header. </div></div>
<div class="ttc" id="structMpegEncContext_html_a2663d6fba7bf44ff0ec9073cdcfd45ee"><div class="ttname"><a href="structMpegEncContext.html#a2663d6fba7bf44ff0ec9073cdcfd45ee">MpegEncContext::mb_stride</a></div><div class="ttdeci">int mb_stride</div><div class="ttdoc">mb_width+1 used for some arrays to allow simple addressing of left &amp; top MBs without sig11 ...</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00127">mpegvideo.h:127</a></div></div>
<div class="ttc" id="structVC1Context_html_a2abf7911681b80a4195e4b0c3bb51f9e"><div class="ttname"><a href="structVC1Context.html#a2abf7911681b80a4195e4b0c3bb51f9e">VC1Context::output_width</a></div><div class="ttdeci">int output_width</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00376">vc1.h:376</a></div></div>
<div class="ttc" id="structVC1Context_html_ab81b27efb1b49db9931ce1a7cad27c58"><div class="ttname"><a href="structVC1Context.html#ab81b27efb1b49db9931ce1a7cad27c58">VC1Context::fcm</a></div><div class="ttdeci">enum FrameCodingMode fcm</div><div class="ttdoc">Frame decoding info for Advanced profile. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00308">vc1.h:308</a></div></div>
<div class="ttc" id="vc1__common_8h_html_ad0840f7f0dd14462a477b7a1b2f95a1fa87d74da2777784675f211d8d014fdb4f"><div class="ttname"><a href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa87d74da2777784675f211d8d014fdb4f">VC1_CODE_FRAME</a></div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00038">vc1_common.h:38</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a6630b58086fdfc2ac4af762a937bb21a"><div class="ttname"><a href="structMpegEncContext.html#a6630b58086fdfc2ac4af762a937bb21a">MpegEncContext::last_picture</a></div><div class="ttdeci">Picture last_picture</div><div class="ttdoc">copy of the previous picture structure. </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00159">mpegvideo.h:159</a></div></div>
<div class="ttc" id="structMpegEncContext_html_ae75cc018ab8b66bcad481c5d26bbdba0"><div class="ttname"><a href="structMpegEncContext.html#ae75cc018ab8b66bcad481c5d26bbdba0">MpegEncContext::last_picture_ptr</a></div><div class="ttdeci">Picture * last_picture_ptr</div><div class="ttdoc">pointer to the previous picture. </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00179">mpegvideo.h:179</a></div></div>
<div class="ttc" id="group__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a></div><div class="ttdoc">Bi-dir predicted. </div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00276">avutil.h:276</a></div></div>
<div class="ttc" id="structVC1Context_html_a744f7d75057f353c13546bd5ad92c2aa"><div class="ttname"><a href="structVC1Context.html#a744f7d75057f353c13546bd5ad92c2aa">VC1Context::res_fasttx</a></div><div class="ttdeci">int res_fasttx</div><div class="ttdoc">reserved, always 1 </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00187">vc1.h:187</a></div></div>
<div class="ttc" id="structVC1Context_html_a202e72faaa1fd65b6f8d0bb3cd6022c4"><div class="ttname"><a href="structVC1Context.html#a202e72faaa1fd65b6f8d0bb3cd6022c4">VC1Context::pic_header_flag</a></div><div class="ttdeci">int pic_header_flag</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00369">vc1.h:369</a></div></div>
<div class="ttc" id="structVC1Context_html_a6c00cb6d470563f9123c0aac03c82c96"><div class="ttname"><a href="structVC1Context.html#a6c00cb6d470563f9123c0aac03c82c96">VC1Context::ttblk</a></div><div class="ttdeci">int * ttblk</div><div class="ttdoc">Transform type at the block level. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00259">vc1.h:259</a></div></div>
<div class="ttc" id="group__lavu__error_html_ga4ebaa288c7684a26a591c501208910e4"><div class="ttname"><a href="group__lavu__error.html#ga4ebaa288c7684a26a591c501208910e4">AVERROR_UNKNOWN</a></div><div class="ttdeci">#define AVERROR_UNKNOWN</div><div class="ttdoc">Unknown error, typically from an external library. </div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00071">error.h:71</a></div></div>
<div class="ttc" id="vc1__common_8h_html_ad0840f7f0dd14462a477b7a1b2f95a1fabfd774af7fb6f64c44fa77d8e8926ef5"><div class="ttname"><a href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fabfd774af7fb6f64c44fa77d8e8926ef5">VC1_CODE_ENTRYPOINT</a></div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00039">vc1_common.h:39</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdoc">Required number of additionally allocated bytes at the end of the input bitstream for decoding...</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00738">avcodec.h:738</a></div></div>
<div class="ttc" id="structERContext_html_a8607db4a68758e6bd12bdc7b1a5518e5"><div class="ttname"><a href="structERContext.html#a8607db4a68758e6bd12bdc7b1a5518e5">ERContext::error_occurred</a></div><div class="ttdeci">int error_occurred</div><div class="ttdef"><b>Definition:</b> <a href="error__resilience_8h_source.html#l00064">error_resilience.h:64</a></div></div>
<div class="ttc" id="structAVCodecContext_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="structAVCodecContext.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01728">avcodec.h:1728</a></div></div>
<div class="ttc" id="vc1_8c_html_a771ba75e97ff8fe61a88bfe3a6ae5f53"><div class="ttname"><a href="vc1_8c.html#a771ba75e97ff8fe61a88bfe3a6ae5f53">ff_vc1_decode_entry_point</a></div><div class="ttdeci">int ff_vc1_decode_entry_point(AVCodecContext *avctx, VC1Context *v, GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8c_source.html#l00509">vc1.c:509</a></div></div>
<div class="ttc" id="mpegutils_8h_html_afe9c6afe4f63cea62651c83a65644ba3"><div class="ttname"><a href="mpegutils_8h.html#afe9c6afe4f63cea62651c83a65644ba3">PICT_FRAME</a></div><div class="ttdeci">#define PICT_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="mpegutils_8h_source.html#l00039">mpegutils.h:39</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a7632e6aa85051e67a795f9cba6eaf9d1"><div class="ttname"><a href="structMpegEncContext.html#a7632e6aa85051e67a795f9cba6eaf9d1">MpegEncContext::picture_structure</a></div><div class="ttdeci">int picture_structure</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00457">mpegvideo.h:457</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="structAVFrame_html_a6f3ee0596312c90a2ef2ad160c991188"><div class="ttname"><a href="structAVFrame.html#a6f3ee0596312c90a2ef2ad160c991188">AVFrame::top_field_first</a></div><div class="ttdeci">int top_field_first</div><div class="ttdoc">If the content is interlaced, is top field displayed first. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00333">frame.h:333</a></div></div>
<div class="ttc" id="structVC1Context_html_ad8b228281cc126c6c9d74c9764772a74"><div class="ttname"><a href="structVC1Context.html#ad8b228281cc126c6c9d74c9764772a74">VC1Context::sprite_output_frame</a></div><div class="ttdeci">AVFrame * sprite_output_frame</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00375">vc1.h:375</a></div></div>
<div class="ttc" id="mpegvideo_8c_html_a2913f488b513c0d833e2df1ede334bee"><div class="ttname"><a href="mpegvideo_8c.html#a2913f488b513c0d833e2df1ede334bee">ff_mpv_frame_end</a></div><div class="ttdeci">void ff_mpv_frame_end(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l01421">mpegvideo.c:1421</a></div></div>
<div class="ttc" id="structVC1Context_html_af655e06f18d9341f3ef92da47f9e94d9"><div class="ttname"><a href="structVC1Context.html#af655e06f18d9341f3ef92da47f9e94d9">VC1Context::zzi_8x8</a></div><div class="ttdeci">uint8_t zzi_8x8[64]</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00348">vc1.h:348</a></div></div>
<div class="ttc" id="vc1__common_8h_html_ad0840f7f0dd14462a477b7a1b2f95a1fa53cb446daf46c96081c99855723a13ee"><div class="ttname"><a href="vc1__common_8h.html#ad0840f7f0dd14462a477b7a1b2f95a1fa53cb446daf46c96081c99855723a13ee">VC1_CODE_SEQHDR</a></div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00040">vc1_common.h:40</a></div></div>
<div class="ttc" id="structMpegEncContext_html_a16cee16c189e26b1f3aec69c1cfebbfd"><div class="ttname"><a href="structMpegEncContext.html#a16cee16c189e26b1f3aec69c1cfebbfd">MpegEncContext::block</a></div><div class="ttdeci">int16_t(* block)[64]</div><div class="ttdoc">points to one of the following blocks </div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00497">mpegvideo.h:497</a></div></div>
<div class="ttc" id="tests_2des_8c_html_ae9a986282b2908caa6e018751ead8ade"><div class="ttname"><a href="tests_2des_8c.html#ae9a986282b2908caa6e018751ead8ade">tmp</a></div><div class="ttdeci">static uint8_t tmp[8]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2des_8c_source.html#l00038">des.c:38</a></div></div>
<div class="ttc" id="structVC1Context_html_aee4648fdf013c5564b9c4fc2aa6dff8f"><div class="ttname"><a href="structVC1Context.html#aee4648fdf013c5564b9c4fc2aa6dff8f">VC1Context::rptfrm</a></div><div class="ttdeci">uint8_t rptfrm</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00311">vc1.h:311</a></div></div>
<div class="ttc" id="structAVFrame_html_a3649a81e8414a193d685a6eee06ce902"><div class="ttname"><a href="structAVFrame.html#a3649a81e8414a193d685a6eee06ce902">AVFrame::key_frame</a></div><div class="ttdeci">int key_frame</div><div class="ttdoc">1 -&gt; keyframe, 0-&gt; not </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00259">frame.h:259</a></div></div>
<div class="ttc" id="decoder__targeted_8c_html_acfe27e61edea06412363421f1a013e81"><div class="ttname"><a href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a></div><div class="ttdeci">static AVCodec * c</div><div class="ttdef"><b>Definition:</b> <a href="decoder__targeted_8c_source.html#l00059">decoder_targeted.c:59</a></div></div>
<div class="ttc" id="structVC1Context_html_a67dc643c9de8d1dfaeccf400e79e2e76"><div class="ttname"><a href="structVC1Context.html#a67dc643c9de8d1dfaeccf400e79e2e76">VC1Context::h264chroma</a></div><div class="ttdeci">H264ChromaContext h264chroma</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00176">vc1.h:176</a></div></div>
<div class="ttc" id="structVC1Context_html_aafb3c13f1646fc2cd27b9b3986d94cb4"><div class="ttname"><a href="structVC1Context.html#aafb3c13f1646fc2cd27b9b3986d94cb4">VC1Context::level</a></div><div class="ttdeci">int level</div><div class="ttdoc">Advanced Profile. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00197">vc1.h:197</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_aaa746f43957975c7273cc08bf006f747"><div class="ttname"><a href="avisynth__c_8h.html#aaa746f43957975c7273cc08bf006f747">count</a></div><div class="ttdeci">void INT64 INT64 count</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00690">avisynth_c.h:690</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a8fc0b8ec0a1ff0e9ffb827a29083d895"><div class="ttname"><a href="avisynth__c_8h.html#a8fc0b8ec0a1ff0e9ffb827a29083d895">start</a></div><div class="ttdeci">void INT64 start</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00690">avisynth_c.h:690</a></div></div>
<div class="ttc" id="ffmpeg_8c_html_a22b853326688d8b01baa28b9aad668d8"><div class="ttname"><a href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a></div><div class="ttdeci">static int decode(AVCodecContext *avctx, AVFrame *frame, int *got_frame, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8c_source.html#l02061">ffmpeg.c:2061</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a9e5137ae10c8b3e1051dc3159c4799a7"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a9e5137ae10c8b3e1051dc3159c4799a7">AV_PIX_FMT_D3D11VA_VLD</a></div><div class="ttdoc">HW decoding through Direct3D11, Picture.data[3] contains a ID3D11VideoDecoderOutputView pointer...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00243">pixfmt.h:243</a></div></div>
<div class="ttc" id="structVC1Context_html_a490d7e4d882bc4da99ae0d420f9e6d80"><div class="ttname"><a href="structVC1Context.html#a490d7e4d882bc4da99ae0d420f9e6d80">VC1Context::new_sprite</a></div><div class="ttdeci">int new_sprite</div><div class="ttdoc">Frame decoding info for sprite modes. </div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00373">vc1.h:373</a></div></div>
<div class="ttc" id="structVC1Context_html_ae056d3fdd9ca1750b8aba34b8a5fa528"><div class="ttname"><a href="structVC1Context.html#ae056d3fdd9ca1750b8aba34b8a5fa528">VC1Context::mv_f_next</a></div><div class="ttdeci">uint8_t * mv_f_next[2]</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00351">vc1.h:351</a></div></div>
<div class="ttc" id="qpeldsp_8c_html_a8292f4fd153f5c16af42012954c2cb1e"><div class="ttname"><a href="qpeldsp_8c.html#a8292f4fd153f5c16af42012954c2cb1e">ff_qpeldsp_init</a></div><div class="ttdeci">av_cold void ff_qpeldsp_init(QpelDSPContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="qpeldsp_8c_source.html#l00783">qpeldsp.c:783</a></div></div>
<div class="ttc" id="common_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="structVC1Context_html_a33910128521d07fd0c8380ec15c385e2"><div class="ttname"><a href="structVC1Context.html#a33910128521d07fd0c8380ec15c385e2">VC1Context::two_sprites</a></div><div class="ttdeci">int two_sprites</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00374">vc1.h:374</a></div></div>
<div class="ttc" id="structVC1Context_html_a2a4e3e83da36a5e6390395a629b82436"><div class="ttname"><a href="structVC1Context.html#a2a4e3e83da36a5e6390395a629b82436">VC1Context::mb_type</a></div><div class="ttdeci">uint8_t * mb_type[3]</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00264">vc1.h:264</a></div></div>
<div class="ttc" id="structVC1DSPContext_html_aefca0bb801193e5f431d68bf7faaa987"><div class="ttname"><a href="structVC1DSPContext.html#aefca0bb801193e5f431d68bf7faaa987">VC1DSPContext::sprite_h</a></div><div class="ttdeci">void(* sprite_h)(uint8_t *dst, const uint8_t *src, int offset, int advance, int count)</div><div class="ttdef"><b>Definition:</b> <a href="vc1dsp_8h_source.html#l00067">vc1dsp.h:67</a></div></div>
<div class="ttc" id="structVC1Context_html_a8a786ea269f72bc79d8f22c8c738427d"><div class="ttname"><a href="structVC1Context.html#a8a786ea269f72bc79d8f22c8c738427d">VC1Context::hrd_buffer</a></div><div class="ttdeci">uint16_t * hrd_buffer</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00326">vc1.h:326</a></div></div>
<div class="ttc" id="vdpau__compat_8h_html_a48f373439d15570d83ebb4e2b31fea1e"><div class="ttname"><a href="vdpau__compat_8h.html#a48f373439d15570d83ebb4e2b31fea1e">ff_vdpau_vc1_decode_picture</a></div><div class="ttdeci">void ff_vdpau_vc1_decode_picture(MpegEncContext *s, const uint8_t *buf, int buf_size)</div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdoc">Pixel format. </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00060">pixfmt.h:60</a></div></div>
<div class="ttc" id="structAVPacket_html"><div class="ttname"><a href="structAVPacket.html">AVPacket</a></div><div class="ttdoc">This structure stores compressed data. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01588">avcodec.h:1588</a></div></div>
<div class="ttc" id="vc1__common_8h_html_a85b10143618f300ff4f5bc6d45c72c01a07a011742f6064234761aa4e03f7986b"><div class="ttname"><a href="vc1__common_8h.html#a85b10143618f300ff4f5bc6d45c72c01a07a011742f6064234761aa4e03f7986b">PROFILE_ADVANCED</a></div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00052">vc1_common.h:52</a></div></div>
<div class="ttc" id="vc1__common_8h_html_a6b7ac44dcc0e6b549c4b4cdef9ff3de7"><div class="ttname"><a href="vc1__common_8h.html#a6b7ac44dcc0e6b549c4b4cdef9ff3de7">find_next_marker</a></div><div class="ttdeci">static av_always_inline const uint8_t * find_next_marker(const uint8_t *src, const uint8_t *end)</div><div class="ttdoc">Find VC-1 marker in buffer. </div><div class="ttdef"><b>Definition:</b> <a href="vc1__common_8h_source.html#l00059">vc1_common.h:59</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdoc">Codec uses get_buffer() for allocating buffers and supports custom allocators. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00963">avcodec.h:963</a></div></div>
<div class="ttc" id="vdpau__compat_8h_html"><div class="ttname"><a href="vdpau__compat_8h.html">vdpau_compat.h</a></div></div>
<div class="ttc" id="structVC1Context_html_a41857fa5f5d6b4e5029f464d0595a3a1"><div class="ttname"><a href="structVC1Context.html#a41857fa5f5d6b4e5029f464d0595a3a1">VC1Context::vc1dsp</a></div><div class="ttdeci">VC1DSPContext vc1dsp</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00177">vc1.h:177</a></div></div>
<div class="ttc" id="libavcodec_2vc1dec_8c_html_a90fa43b89d3d7e8a7f6aefaddf8ea114"><div class="ttname"><a href="libavcodec_2vc1dec_8c.html#a90fa43b89d3d7e8a7f6aefaddf8ea114">vc1_decode_frame</a></div><div class="ttdeci">static int vc1_decode_frame(AVCodecContext *avctx, void *data, int *got_frame, AVPacket *avpkt)</div><div class="ttdoc">Decode a VC1/WMV3 frame. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vc1dec_8c_source.html#l00622">vc1dec.c:622</a></div></div>
<div class="ttc" id="structVC1Context_html_ad198475345a13e44b8de40f975526ce4"><div class="ttname"><a href="structVC1Context.html#ad198475345a13e44b8de40f975526ce4">VC1Context::output_height</a></div><div class="ttdeci">int output_height</div><div class="ttdef"><b>Definition:</b> <a href="vc1_8h_source.html#l00376">vc1.h:376</a></div></div>
<div class="ttc" id="build_2config_8h_html_a9a535d5c874618a1b06ef3808069e834"><div class="ttname"><a href="build_2config_8h.html#a9a535d5c874618a1b06ef3808069e834">CONFIG_GRAY</a></div><div class="ttdeci">#define CONFIG_GRAY</div><div class="ttdef"><b>Definition:</b> <a href="build_2config_8h_source.html#l00526">config.h:526</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aaa374becbc2b5ee0bc1886048d151ea3e">AVCOL_RANGE_UNSPECIFIED</a></div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00472">pixfmt.h:472</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:47:28 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
