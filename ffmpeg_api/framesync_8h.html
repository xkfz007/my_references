<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: libavfilter/framesync.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_07c4be17d34b4a7a38dbd1b8cb6b1e6c.html">libavfilter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">framesync.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="bufferqueue_8h_source.html">bufferqueue.h</a>&quot;</code><br />
</div>
<p><a href="framesync_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFFFrameSyncIn.html">FFFrameSyncIn</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input stream structure.  <a href="structFFFrameSyncIn.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFFFrameSync.html">FFFrameSync</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structFrame.html">Frame</a> sync structure.  <a href="structFFFrameSync.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af5ba5b2bb2fa0ffc56795a2d01c472cc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#af5ba5b2bb2fa0ffc56795a2d01c472cc">FFFrameSyncExtMode</a> { <a class="el" href="framesync_8h.html#af5ba5b2bb2fa0ffc56795a2d01c472cca0db18e499e621248d58a4b1c30c02994">EXT_STOP</a>, 
<a class="el" href="framesync_8h.html#af5ba5b2bb2fa0ffc56795a2d01c472cca773390a0268908e5f87bade42e78225e">EXT_NULL</a>, 
<a class="el" href="framesync_8h.html#af5ba5b2bb2fa0ffc56795a2d01c472ccaa06bf16baae535f8415471a87a9cc6a4">EXT_INFINITY</a>
 }<tr class="memdesc:af5ba5b2bb2fa0ffc56795a2d01c472cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API is intended as a helper for filters that have several video input and need to combine them somehow.  <a href="framesync_8h.html#af5ba5b2bb2fa0ffc56795a2d01c472cc">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:af5ba5b2bb2fa0ffc56795a2d01c472cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a04acf34dc197705a0980668717292cca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#a04acf34dc197705a0980668717292cca">ff_framesync_init</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs, <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *parent, unsigned nb_in)</td></tr>
<tr class="memdesc:a04acf34dc197705a0980668717292cca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a frame sync structure.  <a href="#a04acf34dc197705a0980668717292cca">More...</a><br /></td></tr>
<tr class="separator:a04acf34dc197705a0980668717292cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151119dc0fff3c589df07ee160021774"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#a151119dc0fff3c589df07ee160021774">ff_framesync_configure</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs)</td></tr>
<tr class="memdesc:a151119dc0fff3c589df07ee160021774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure a frame sync structure.  <a href="#a151119dc0fff3c589df07ee160021774">More...</a><br /></td></tr>
<tr class="separator:a151119dc0fff3c589df07ee160021774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4efc03b6c541f37280f2634d6476a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#a7b4efc03b6c541f37280f2634d6476a9">ff_framesync_uninit</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs)</td></tr>
<tr class="memdesc:a7b4efc03b6c541f37280f2634d6476a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all memory currently allocated.  <a href="#a7b4efc03b6c541f37280f2634d6476a9">More...</a><br /></td></tr>
<tr class="separator:a7b4efc03b6c541f37280f2634d6476a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa281c336357d2948398a9e288df229d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#aa281c336357d2948398a9e288df229d5">ff_framesync_add_frame</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs, unsigned <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>, <a class="el" href="structAVFrame.html">AVFrame</a> *<a class="el" href="extract__mvs_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>)</td></tr>
<tr class="memdesc:aa281c336357d2948398a9e288df229d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a frame to an input.  <a href="#aa281c336357d2948398a9e288df229d5">More...</a><br /></td></tr>
<tr class="separator:aa281c336357d2948398a9e288df229d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5928963487297548d8d9b37e82c85e04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#a5928963487297548d8d9b37e82c85e04">ff_framesync_next</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs)</td></tr>
<tr class="memdesc:a5928963487297548d8d9b37e82c85e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the next frame event.  <a href="#a5928963487297548d8d9b37e82c85e04">More...</a><br /></td></tr>
<tr class="separator:a5928963487297548d8d9b37e82c85e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b4b64ab9cf066e0afa31f569cc9537"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#af7b4b64ab9cf066e0afa31f569cc9537">ff_framesync_drop</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs)</td></tr>
<tr class="memdesc:af7b4b64ab9cf066e0afa31f569cc9537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop the current frame event.  <a href="#af7b4b64ab9cf066e0afa31f569cc9537">More...</a><br /></td></tr>
<tr class="separator:af7b4b64ab9cf066e0afa31f569cc9537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500f984f3d9edcfbb843ff605e6a5b3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#a500f984f3d9edcfbb843ff605e6a5b3f">ff_framesync_get_frame</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs, unsigned <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>, <a class="el" href="structAVFrame.html">AVFrame</a> **rframe, unsigned <a class="el" href="tests_2swresample_8c.html#a6b3c6295d448c61c4c03284f6ef6c4b2">get</a>)</td></tr>
<tr class="memdesc:a500f984f3d9edcfbb843ff605e6a5b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current frame in an input.  <a href="#a500f984f3d9edcfbb843ff605e6a5b3f">More...</a><br /></td></tr>
<tr class="separator:a500f984f3d9edcfbb843ff605e6a5b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae95e03d44c77e1fe15c59b161dbeddcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#ae95e03d44c77e1fe15c59b161dbeddcb">ff_framesync_process_frame</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs, unsigned all)</td></tr>
<tr class="memdesc:ae95e03d44c77e1fe15c59b161dbeddcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process one or several frame using the on_event callback.  <a href="#ae95e03d44c77e1fe15c59b161dbeddcb">More...</a><br /></td></tr>
<tr class="separator:ae95e03d44c77e1fe15c59b161dbeddcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43b84d56161cc6d181047229b657b7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#ac43b84d56161cc6d181047229b657b7e">ff_framesync_filter_frame</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs, <a class="el" href="structAVFilterLink.html">AVFilterLink</a> *inlink, <a class="el" href="structAVFrame.html">AVFrame</a> *<a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>)</td></tr>
<tr class="memdesc:ac43b84d56161cc6d181047229b657b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept a frame on a filter input.  <a href="#ac43b84d56161cc6d181047229b657b7e">More...</a><br /></td></tr>
<tr class="separator:ac43b84d56161cc6d181047229b657b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe46612473d4af775dd4c7a7f59ef42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="framesync_8h.html#aebe46612473d4af775dd4c7a7f59ef42">ff_framesync_request_frame</a> (<a class="el" href="structFFFrameSync.html">FFFrameSync</a> *fs, <a class="el" href="structAVFilterLink.html">AVFilterLink</a> *outlink)</td></tr>
<tr class="memdesc:aebe46612473d4af775dd4c7a7f59ef42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a frame on the filter output.  <a href="#aebe46612473d4af775dd4c7a7f59ef42">More...</a><br /></td></tr>
<tr class="separator:aebe46612473d4af775dd4c7a7f59ef42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af5ba5b2bb2fa0ffc56795a2d01c472cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ba5b2bb2fa0ffc56795a2d01c472cc">&sect;&nbsp;</a></span>FFFrameSyncExtMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="framesync_8h.html#af5ba5b2bb2fa0ffc56795a2d01c472cc">FFFrameSyncExtMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API is intended as a helper for filters that have several video input and need to combine them somehow. </p>
<p>If the inputs have different or variable frame rate, getting the input frames to match requires a rather complex logic and a few user-tunable options.</p>
<p>In this API, when a set of synchronized input frames is ready to be procesed is called a frame event. <a class="el" href="structFrame.html">Frame</a> event can be generated in response to input frames on any or all inputs and the handling of situations where some stream extend beyond the beginning or the end of others can be configured.</p>
<p>The basic working of this API is the following:</p>
<ul>
<li>When a frame is available on any input, add it using <a class="el" href="framesync_8h.html#aa281c336357d2948398a9e288df229d5" title="Add a frame to an input. ">ff_framesync_add_frame()</a>.</li>
<li>When a frame event is ready to be processed (i.e. after adding a frame or when requested on input):<ul>
<li>call <a class="el" href="framesync_8h.html#a5928963487297548d8d9b37e82c85e04" title="Prepare the next frame event. ">ff_framesync_next()</a>;</li>
<li>if fs-&gt;frame_ready is true, process the frames;</li>
<li>call <a class="el" href="framesync_8h.html#af7b4b64ab9cf066e0afa31f569cc9537" title="Drop the current frame event. ">ff_framesync_drop()</a>. <a class="el" href="structStream.html">Stream</a> extrapolation mode</li>
</ul>
</li>
</ul>
<p>Describe how the frames of a stream are extrapolated before the first one and after EOF to keep sync with possibly longer other streams. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af5ba5b2bb2fa0ffc56795a2d01c472cca0db18e499e621248d58a4b1c30c02994"></a>EXT_STOP&#160;</td><td class="fielddoc"><p>Completely stop all streams with this one. </p>
</td></tr>
<tr><td class="fieldname"><a id="af5ba5b2bb2fa0ffc56795a2d01c472cca773390a0268908e5f87bade42e78225e"></a>EXT_NULL&#160;</td><td class="fielddoc"><p>Ignore this stream and continue processing the other ones. </p>
</td></tr>
<tr><td class="fieldname"><a id="af5ba5b2bb2fa0ffc56795a2d01c472ccaa06bf16baae535f8415471a87a9cc6a4"></a>EXT_INFINITY&#160;</td><td class="fielddoc"><p>Extend the frame to infinity. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="framesync_8h_source.html#l00062">62</a> of file <a class="el" href="framesync_8h_source.html">framesync.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a04acf34dc197705a0980668717292cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04acf34dc197705a0980668717292cca">&sect;&nbsp;</a></span>ff_framesync_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_framesync_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>nb_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a frame sync structure. </p>
<p>The entire structure is expected to be already set to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>frame sync structure to initialize </td></tr>
    <tr><td class="paramname">parent</td><td>parent object, used for logging </td></tr>
    <tr><td class="paramname">nb_in</td><td>number of inputs </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;= 0 for success or a negative error code </dd></dl>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00052">52</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="f__streamselect_8c_source.html#l00099">config_output()</a>, and <a class="el" href="dualinput_8c_source.html#l00043">ff_dualinput_init()</a>.</p>

</div>
</div>
<a id="a151119dc0fff3c589df07ee160021774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a151119dc0fff3c589df07ee160021774">&sect;&nbsp;</a></span>ff_framesync_configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_framesync_configure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure a frame sync structure. </p>
<p>Must be called after all options are set but before all use.</p>
<dl class="section return"><dt>Returns</dt><dd>&gt;= 0 for success or a negative error code </dd></dl>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00080">80</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="f__streamselect_8c_source.html#l00099">config_output()</a>, and <a class="el" href="dualinput_8c_source.html#l00043">ff_dualinput_init()</a>.</p>

</div>
</div>
<a id="a7b4efc03b6c541f37280f2634d6476a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4efc03b6c541f37280f2634d6476a9">&sect;&nbsp;</a></span>ff_framesync_uninit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> ff_framesync_uninit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free all memory currently allocated. </p>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00269">269</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="dualinput_8c_source.html#l00087">ff_dualinput_uninit()</a>, and <a class="el" href="f__streamselect_8c_source.html#l00294">uninit()</a>.</p>

</div>
</div>
<a id="aa281c336357d2948398a9e288df229d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa281c336357d2948398a9e288df229d5">&sect;&nbsp;</a></span>ff_framesync_add_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_framesync_add_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVFrame.html">AVFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a frame to an input. </p>
<p>Typically called from the <a class="el" href="aeval_8c.html#a9056c701b381ba84a4cebc5eb7c9d5b9">filter_frame()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>frame sync structure </td></tr>
    <tr><td class="paramname">in</td><td>index of the input </td></tr>
    <tr><td class="paramname">frame</td><td>input frame, or NULL for EOF </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00205">205</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="framesync_8c_source.html#l00303">ff_framesync_filter_frame()</a>, and <a class="el" href="framesync_8c_source.html#l00317">ff_framesync_request_frame()</a>.</p>

</div>
</div>
<a id="a5928963487297548d8d9b37e82c85e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5928963487297548d8d9b37e82c85e04">&sect;&nbsp;</a></span>ff_framesync_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> ff_framesync_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare the next frame event. </p>
<p>The status of the operation can be found in fs-&gt;frame_ready and fs-&gt;eof. </p>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00215">215</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="framesync_8c_source.html#l00282">ff_framesync_process_frame()</a>.</p>

</div>
</div>
<a id="af7b4b64ab9cf066e0afa31f569cc9537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b4b64ab9cf066e0afa31f569cc9537">&sect;&nbsp;</a></span>ff_framesync_drop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> ff_framesync_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drop the current frame event. </p>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00227">227</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="framesync_8c_source.html#l00282">ff_framesync_process_frame()</a>.</p>

</div>
</div>
<a id="a500f984f3d9edcfbb843ff605e6a5b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a500f984f3d9edcfbb843ff605e6a5b3f">&sect;&nbsp;</a></span>ff_framesync_get_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_framesync_get_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVFrame.html">AVFrame</a> **&#160;</td>
          <td class="paramname"><em>rframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>get</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current frame in an input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>frame sync structure </td></tr>
    <tr><td class="paramname">in</td><td>index of the input </td></tr>
    <tr><td class="paramname">rframe</td><td>used to return the current frame (or NULL) </td></tr>
    <tr><td class="paramname">get</td><td>if not zero, the calling code needs to get ownership of the returned frame; the current frame will either be duplicated or removed from the framesync structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00232">232</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="dualinput_8c_source.html#l00022">process_frame()</a>.</p>

</div>
</div>
<a id="ae95e03d44c77e1fe15c59b161dbeddcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae95e03d44c77e1fe15c59b161dbeddcb">&sect;&nbsp;</a></span>ff_framesync_process_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_framesync_process_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process one or several frame using the on_event callback. </p>
<dl class="section return"><dt>Returns</dt><dd>number of frames processed or negative error code </dd></dl>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00282">282</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="framesync_8c_source.html#l00303">ff_framesync_filter_frame()</a>, and <a class="el" href="framesync_8c_source.html#l00317">ff_framesync_request_frame()</a>.</p>

</div>
</div>
<a id="ac43b84d56161cc6d181047229b657b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac43b84d56161cc6d181047229b657b7e">&sect;&nbsp;</a></span>ff_framesync_filter_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_framesync_filter_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVFilterLink.html">AVFilterLink</a> *&#160;</td>
          <td class="paramname"><em>inlink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVFrame.html">AVFrame</a> *&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept a frame on a filter input. </p>
<p>This function can be the complete implementation of all filter_frame methods of a filter using framesync. </p>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00303">303</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="dualinput_8c_source.html#l00076">ff_dualinput_filter_frame()</a>, and <a class="el" href="f__streamselect_8c_source.html#l00051">filter_frame()</a>.</p>

</div>
</div>
<a id="aebe46612473d4af775dd4c7a7f59ef42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebe46612473d4af775dd4c7a7f59ef42">&sect;&nbsp;</a></span>ff_framesync_request_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_framesync_request_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFFFrameSync.html">FFFrameSync</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVFilterLink.html">AVFilterLink</a> *&#160;</td>
          <td class="paramname"><em>outlink</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request a frame on the filter output. </p>
<p>This function can be the complete implementation of all filter_frame methods of a filter using framesync if it has only one output. </p>

<p>Definition at line <a class="el" href="framesync_8c_source.html#l00317">317</a> of file <a class="el" href="framesync_8c_source.html">framesync.c</a>.</p>

<p>Referenced by <a class="el" href="dualinput_8c_source.html#l00082">ff_dualinput_request_frame()</a>, and <a class="el" href="f__streamselect_8c_source.html#l00093">request_frame()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:48:48 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
