<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: libavcodec/amrnbdec.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3b1f69f89eda39a44baf4887988d54a7.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">amrnbdec.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>AMR narrowband decoder.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="channel__layout_8h_source.html">libavutil/channel_layout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="float__dsp_8h_source.html">libavutil/float_dsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avcodec_8h_source.html">avcodec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="common_8h_source.html">libavutil/common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avassert_8h_source.html">libavutil/avassert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="celp__math_8h_source.html">celp_math.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="celp__filters_8h_source.html">celp_filters.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="acelp__filters_8h_source.html">acelp_filters.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="acelp__vectors_8h_source.html">acelp_vectors.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="acelp__pitch__delay_8h_source.html">acelp_pitch_delay.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lsp_8h_source.html">lsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="amr_8h_source.html">amr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libavcodec_2internal_8h_source.html">internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="amrnbdata_8h_source.html">amrnbdata.h</a>&quot;</code><br />
</div>
<p><a href="amrnbdec_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAMRContext.html">AMRContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a761545eb4c54c23e7fd5796eb0c23c24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a761545eb4c54c23e7fd5796eb0c23c24">AMR_BLOCK_SIZE</a>&#160;&#160;&#160;160</td></tr>
<tr class="memdesc:a761545eb4c54c23e7fd5796eb0c23c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">samples per frame  <a href="#a761545eb4c54c23e7fd5796eb0c23c24">More...</a><br /></td></tr>
<tr class="separator:a761545eb4c54c23e7fd5796eb0c23c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63cab97d22376207ef7bc94b48e141f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a63cab97d22376207ef7bc94b48e141f9">AMR_SAMPLE_BOUND</a>&#160;&#160;&#160;32768.0</td></tr>
<tr class="memdesc:a63cab97d22376207ef7bc94b48e141f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">threshold for synthesis overflow  <a href="#a63cab97d22376207ef7bc94b48e141f9">More...</a><br /></td></tr>
<tr class="separator:a63cab97d22376207ef7bc94b48e141f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e87bddb7255283f20c040de383d8b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#ac1e87bddb7255283f20c040de383d8b9">AMR_SAMPLE_SCALE</a>&#160;&#160;&#160;(2.0 / 32768.0)</td></tr>
<tr class="memdesc:ac1e87bddb7255283f20c040de383d8b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale from constructed speech to [-1,1].  <a href="#ac1e87bddb7255283f20c040de383d8b9">More...</a><br /></td></tr>
<tr class="separator:ac1e87bddb7255283f20c040de383d8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff8861ac03ca3a34e1479bf2e3e1cf5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a6ff8861ac03ca3a34e1479bf2e3e1cf5">PRED_FAC_MODE_12k2</a>&#160;&#160;&#160;0.65</td></tr>
<tr class="memdesc:a6ff8861ac03ca3a34e1479bf2e3e1cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prediction factor for 12.2kbit/s mode.  <a href="#a6ff8861ac03ca3a34e1479bf2e3e1cf5">More...</a><br /></td></tr>
<tr class="separator:a6ff8861ac03ca3a34e1479bf2e3e1cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea10e088cff499d9f9ca886a72e875dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#aea10e088cff499d9f9ca886a72e875dd">LSF_R_FAC</a>&#160;&#160;&#160;(8000.0 / 32768.0)</td></tr>
<tr class="memdesc:aea10e088cff499d9f9ca886a72e875dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">LSF residual tables to Hertz.  <a href="#aea10e088cff499d9f9ca886a72e875dd">More...</a><br /></td></tr>
<tr class="separator:aea10e088cff499d9f9ca886a72e875dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bb4d7d47fc9a4172565c063469521d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a87bb4d7d47fc9a4172565c063469521d">MIN_LSF_SPACING</a>&#160;&#160;&#160;(50.0488 / 8000.0)</td></tr>
<tr class="memdesc:a87bb4d7d47fc9a4172565c063469521d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures stability of LPC filter.  <a href="#a87bb4d7d47fc9a4172565c063469521d">More...</a><br /></td></tr>
<tr class="separator:a87bb4d7d47fc9a4172565c063469521d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1287efc9924b67cbab16d6a07cbb27"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a3d1287efc9924b67cbab16d6a07cbb27">PITCH_LAG_MIN_MODE_12k2</a>&#160;&#160;&#160;18</td></tr>
<tr class="memdesc:a3d1287efc9924b67cbab16d6a07cbb27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower bound on decoded lag search in 12.2kbit/s mode.  <a href="#a3d1287efc9924b67cbab16d6a07cbb27">More...</a><br /></td></tr>
<tr class="separator:a3d1287efc9924b67cbab16d6a07cbb27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf1374d6ee289b87034543bec682af6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#acaf1374d6ee289b87034543bec682af6">MIN_ENERGY</a>&#160;&#160;&#160;-14.0</td></tr>
<tr class="memdesc:acaf1374d6ee289b87034543bec682af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial energy in dB.  <a href="#acaf1374d6ee289b87034543bec682af6">More...</a><br /></td></tr>
<tr class="separator:acaf1374d6ee289b87034543bec682af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca47319151f94e5aae9c534edb5bfa8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#acca47319151f94e5aae9c534edb5bfa8">SHARP_MAX</a>&#160;&#160;&#160;0.79449462890625</td></tr>
<tr class="memdesc:acca47319151f94e5aae9c534edb5bfa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum sharpening factor.  <a href="#acca47319151f94e5aae9c534edb5bfa8">More...</a><br /></td></tr>
<tr class="separator:acca47319151f94e5aae9c534edb5bfa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc076bdfb6b0bcdb97acdf74faef2e79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#afc076bdfb6b0bcdb97acdf74faef2e79">AMR_TILT_RESPONSE</a>&#160;&#160;&#160;22</td></tr>
<tr class="memdesc:afc076bdfb6b0bcdb97acdf74faef2e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of impulse response coefficients used for tilt factor.  <a href="#afc076bdfb6b0bcdb97acdf74faef2e79">More...</a><br /></td></tr>
<tr class="separator:afc076bdfb6b0bcdb97acdf74faef2e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d318e9f870951c80cbe7f4263c92f91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a7d318e9f870951c80cbe7f4263c92f91">AMR_TILT_GAMMA_T</a>&#160;&#160;&#160;0.8</td></tr>
<tr class="memdesc:a7d318e9f870951c80cbe7f4263c92f91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tilt factor = 1st reflection coefficient * gamma_t.  <a href="#a7d318e9f870951c80cbe7f4263c92f91">More...</a><br /></td></tr>
<tr class="separator:a7d318e9f870951c80cbe7f4263c92f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286ed069767593abc158c7e31e86ce40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a286ed069767593abc158c7e31e86ce40">AMR_AGC_ALPHA</a>&#160;&#160;&#160;0.9</td></tr>
<tr class="memdesc:a286ed069767593abc158c7e31e86ce40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adaptive gain control factor used in post-filter.  <a href="#a286ed069767593abc158c7e31e86ce40">More...</a><br /></td></tr>
<tr class="separator:a286ed069767593abc158c7e31e86ce40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7d7267ac651c1215f2b7461c1baf5984"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a7d7267ac651c1215f2b7461c1baf5984">weighted_vector_sumd</a> (double *<a class="el" href="audio__convert_8c.html#af3acf4f5d59e8dda267d0d31ae9a8c67">out</a>, const double *in_a, const double *in_b, double weight_coeff_a, double weight_coeff_b, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="avxsynth__c_8h.html#aec80df22395493e02b9332dc0eadc30c">length</a>)</td></tr>
<tr class="memdesc:a7d7267ac651c1215f2b7461c1baf5984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Double version of <a class="el" href="acelp__vectors_8c.html#ae6f91c4819ad805fec298b39b860f2aa" title="float implementation of weighted sum of two vectors. ">ff_weighted_vector_sumf()</a>  <a href="#a7d7267ac651c1215f2b7461c1baf5984">More...</a><br /></td></tr>
<tr class="separator:a7d7267ac651c1215f2b7461c1baf5984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae397ab764784f7d9873b5f623fa5e5b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#ae397ab764784f7d9873b5f623fa5e5b0">amrnb_decode_init</a> (<a class="el" href="structAVCodecContext.html">AVCodecContext</a> *avctx)</td></tr>
<tr class="separator:ae397ab764784f7d9873b5f623fa5e5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e16f11e94d063f00db05facfd2efcf"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a93e16f11e94d063f00db05facfd2efcf">unpack_bitstream</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="el" href="avxsynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> buf_size)</td></tr>
<tr class="memdesc:a93e16f11e94d063f00db05facfd2efcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack an RFC4867 speech frame into the AMR frame mode and parameters.  <a href="#a93e16f11e94d063f00db05facfd2efcf">More...</a><br /></td></tr>
<tr class="separator:a93e16f11e94d063f00db05facfd2efcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefcc51fdeece13fefafe1dd73912012e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#aefcc51fdeece13fefafe1dd73912012e">amrnb_decode_frame</a> (<a class="el" href="structAVCodecContext.html">AVCodecContext</a> *avctx, <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *<a class="el" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *got_frame_ptr, <a class="el" href="structAVPacket.html">AVPacket</a> *avpkt)</td></tr>
<tr class="separator:aefcc51fdeece13fefafe1dd73912012e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR pitch LPC coefficient decoding functions</div></td></tr>
<tr class="memitem:a1c85444c7d716f8ddfe67e40a972f527"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a1c85444c7d716f8ddfe67e40a972f527">interpolate_lsf</a> (<a class="el" href="structACELPVContext.html">ACELPVContext</a> *<a class="el" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, float lsf_q[4][<a class="el" href="sipr_8h.html#ab7ebbfaeced769246e8623c25914c425">LP_FILTER_ORDER</a>], float *lsf_new)</td></tr>
<tr class="memdesc:a1c85444c7d716f8ddfe67e40a972f527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpolate the LSF vector (used for fixed gain smoothing).  <a href="#a1c85444c7d716f8ddfe67e40a972f527">More...</a><br /></td></tr>
<tr class="separator:a1c85444c7d716f8ddfe67e40a972f527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209d3474be12b81789ddad55dc9773e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a209d3474be12b81789ddad55dc9773e1">lsf2lsp_for_mode12k2</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, double lsp[<a class="el" href="sipr_8h.html#ab7ebbfaeced769246e8623c25914c425">LP_FILTER_ORDER</a>], const float lsf_no_r[<a class="el" href="sipr_8h.html#ab7ebbfaeced769246e8623c25914c425">LP_FILTER_ORDER</a>], const int16_t *lsf_quantizer[5], const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> quantizer_offset, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> sign, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="vf__waveform_8c.html#a5d9d8869a49fdc890bb3f64aff331297">update</a>)</td></tr>
<tr class="memdesc:a209d3474be12b81789ddad55dc9773e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode a set of 5 split-matrix quantized lsf indexes into an lsp vector.  <a href="#a209d3474be12b81789ddad55dc9773e1">More...</a><br /></td></tr>
<tr class="separator:a209d3474be12b81789ddad55dc9773e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317bf19dcd120ccbf4a9812f430e564e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a317bf19dcd120ccbf4a9812f430e564e">lsf2lsp_5</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p)</td></tr>
<tr class="memdesc:a317bf19dcd120ccbf4a9812f430e564e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode a set of 5 split-matrix quantized lsf indexes into 2 lsp vectors.  <a href="#a317bf19dcd120ccbf4a9812f430e564e">More...</a><br /></td></tr>
<tr class="separator:a317bf19dcd120ccbf4a9812f430e564e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ab60d3b79df7f8759fa7625de82e00"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a75ab60d3b79df7f8759fa7625de82e00">lsf2lsp_3</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p)</td></tr>
<tr class="memdesc:a75ab60d3b79df7f8759fa7625de82e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode a set of 3 split-matrix quantized lsf indexes into an lsp vector.  <a href="#a75ab60d3b79df7f8759fa7625de82e00">More...</a><br /></td></tr>
<tr class="separator:a75ab60d3b79df7f8759fa7625de82e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR pitch vector decoding functions</div></td></tr>
<tr class="memitem:a31363862930d60371d010b43fefa4ebd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a31363862930d60371d010b43fefa4ebd">decode_pitch_lag_1_6</a> (<a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *lag_int, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *lag_frac, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> pitch_index, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> prev_lag_int, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> subframe)</td></tr>
<tr class="memdesc:a31363862930d60371d010b43fefa4ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="acelp__pitch__delay_8c.html#a874fd848faa735c0a85fe3c0e04d1190" title="Decode the adaptive codebook index to the integer and fractional parts of the pitch lag for one subfr...">ff_decode_pitch_lag()</a>, but with 1/6 resolution.  <a href="#a31363862930d60371d010b43fefa4ebd">More...</a><br /></td></tr>
<tr class="separator:a31363862930d60371d010b43fefa4ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da3282d94f7c5b849eb309cb4366deb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a3da3282d94f7c5b849eb309cb4366deb">decode_pitch_vector</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, const <a class="el" href="structAMRNBSubframe.html">AMRNBSubframe</a> *amr_subframe, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> subframe)</td></tr>
<tr class="separator:a3da3282d94f7c5b849eb309cb4366deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR algebraic code book (fixed) vector decoding functions</div></td></tr>
<tr class="memitem:a351e33ee287e2ff13e4a9d679e7e75be"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a351e33ee287e2ff13e4a9d679e7e75be">decode_10bit_pulse</a> (<a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> code, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> pulse_position[8], <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> i1, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> i2, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> i3)</td></tr>
<tr class="memdesc:a351e33ee287e2ff13e4a9d679e7e75be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode a 10-bit algebraic codebook index from a 10.2 kbit/s frame.  <a href="#a351e33ee287e2ff13e4a9d679e7e75be">More...</a><br /></td></tr>
<tr class="separator:a351e33ee287e2ff13e4a9d679e7e75be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad087166a9faaa3f85aadd8a26aebb658"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#ad087166a9faaa3f85aadd8a26aebb658">decode_8_pulses_31bits</a> (const int16_t *fixed_index, <a class="el" href="structAMRFixed.html">AMRFixed</a> *fixed_sparse)</td></tr>
<tr class="memdesc:ad087166a9faaa3f85aadd8a26aebb658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the algebraic codebook index to pulse positions and signs and construct the algebraic codebook vector for MODE_10k2.  <a href="#ad087166a9faaa3f85aadd8a26aebb658">More...</a><br /></td></tr>
<tr class="separator:ad087166a9faaa3f85aadd8a26aebb658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c512839eee686b630fcc33a80e75a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a71c512839eee686b630fcc33a80e75a5">decode_fixed_sparse</a> (<a class="el" href="structAMRFixed.html">AMRFixed</a> *fixed_sparse, const uint16_t *<a class="el" href="g723__1_8h.html#ae7066a3dd30231dccbc429b70615a5a7">pulses</a>, const enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a> <a class="el" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> subframe)</td></tr>
<tr class="memdesc:a71c512839eee686b630fcc33a80e75a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the algebraic codebook index to pulse positions and signs, then construct the algebraic codebook vector.  <a href="#a71c512839eee686b630fcc33a80e75a5">More...</a><br /></td></tr>
<tr class="separator:a71c512839eee686b630fcc33a80e75a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9917383fd05d16e47d04536c26170ad2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a9917383fd05d16e47d04536c26170ad2">pitch_sharpening</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> subframe, enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a> <a class="el" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, <a class="el" href="structAMRFixed.html">AMRFixed</a> *fixed_sparse)</td></tr>
<tr class="memdesc:a9917383fd05d16e47d04536c26170ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply pitch lag to obtain the sharpened fixed vector (section 6.1.2)  <a href="#a9917383fd05d16e47d04536c26170ad2">More...</a><br /></td></tr>
<tr class="separator:a9917383fd05d16e47d04536c26170ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR gain decoding functions</div></td></tr>
<tr class="memitem:a9e2f115a395e9c35239bf81e7982376e"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a9e2f115a395e9c35239bf81e7982376e">fixed_gain_smooth</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, const float *lsf, const float *lsf_avg, const enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a> <a class="el" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>)</td></tr>
<tr class="memdesc:a9e2f115a395e9c35239bf81e7982376e"><td class="mdescLeft">&#160;</td><td class="mdescRight">fixed gain smoothing Note that where the spec specifies the "spectrum in the q domain" in section 6.1.4, in fact frequencies should be used.  <a href="#a9e2f115a395e9c35239bf81e7982376e">More...</a><br /></td></tr>
<tr class="separator:a9e2f115a395e9c35239bf81e7982376e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37085cf3abff63b881f45335889c81d7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a37085cf3abff63b881f45335889c81d7">decode_gains</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, const <a class="el" href="structAMRNBSubframe.html">AMRNBSubframe</a> *amr_subframe, const enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a> <a class="el" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> subframe, float *fixed_gain_factor)</td></tr>
<tr class="memdesc:a37085cf3abff63b881f45335889c81d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode pitch gain and fixed gain factor (part of section 6.1.3).  <a href="#a37085cf3abff63b881f45335889c81d7">More...</a><br /></td></tr>
<tr class="separator:a37085cf3abff63b881f45335889c81d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR preprocessing functions</div></td></tr>
<tr class="memitem:a5dc867db5f5ce3b1a422154de3b5fd64"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a5dc867db5f5ce3b1a422154de3b5fd64">apply_ir_filter</a> (float *<a class="el" href="audio__convert_8c.html#af3acf4f5d59e8dda267d0d31ae9a8c67">out</a>, const <a class="el" href="structAMRFixed.html">AMRFixed</a> *<a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a>, const float *<a class="el" href="vf__yadif_8c.html#a4aac1797de0c2fcdc5b2b2b3191d252d">filter</a>)</td></tr>
<tr class="memdesc:a5dc867db5f5ce3b1a422154de3b5fd64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Circularly convolve a sparse fixed vector with a phase dispersion impulse response filter (D.6.2 of G.729 and 6.1.5 of AMR).  <a href="#a5dc867db5f5ce3b1a422154de3b5fd64">More...</a><br /></td></tr>
<tr class="separator:a5dc867db5f5ce3b1a422154de3b5fd64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81e7c5ad6246e12fd6e1855bc326522"><td class="memItemLeft" align="right" valign="top">static const float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#ab81e7c5ad6246e12fd6e1855bc326522">anti_sparseness</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, <a class="el" href="structAMRFixed.html">AMRFixed</a> *fixed_sparse, const float *fixed_vector, float fixed_gain, float *<a class="el" href="audio__convert_8c.html#af3acf4f5d59e8dda267d0d31ae9a8c67">out</a>)</td></tr>
<tr class="memdesc:ab81e7c5ad6246e12fd6e1855bc326522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce fixed vector sparseness by smoothing with one of three IR filters.  <a href="#ab81e7c5ad6246e12fd6e1855bc326522">More...</a><br /></td></tr>
<tr class="separator:ab81e7c5ad6246e12fd6e1855bc326522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR synthesis functions</div></td></tr>
<tr class="memitem:a55d0211f8b106e7649c9855ac809463e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a55d0211f8b106e7649c9855ac809463e">synthesis</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, float *lpc, float fixed_gain, const float *fixed_vector, float *samples, <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> overflow)</td></tr>
<tr class="memdesc:a55d0211f8b106e7649c9855ac809463e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conduct 10th order linear predictive coding synthesis.  <a href="#a55d0211f8b106e7649c9855ac809463e">More...</a><br /></td></tr>
<tr class="separator:a55d0211f8b106e7649c9855ac809463e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR update functions</div></td></tr>
<tr class="memitem:a15753cc17c40c79e69a6fcd159a6be66"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a15753cc17c40c79e69a6fcd159a6be66">update_state</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p)</td></tr>
<tr class="memdesc:a15753cc17c40c79e69a6fcd159a6be66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update buffers and history at the end of decoding a subframe.  <a href="#a15753cc17c40c79e69a6fcd159a6be66">More...</a><br /></td></tr>
<tr class="separator:a15753cc17c40c79e69a6fcd159a6be66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AMR Postprocessing functions</div></td></tr>
<tr class="memitem:a639da9eb5a5f104aebc7d5480faddfd2"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a639da9eb5a5f104aebc7d5480faddfd2">tilt_factor</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, float *lpc_n, float *lpc_d)</td></tr>
<tr class="memdesc:a639da9eb5a5f104aebc7d5480faddfd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the tilt factor of a formant filter from its transfer function.  <a href="#a639da9eb5a5f104aebc7d5480faddfd2">More...</a><br /></td></tr>
<tr class="separator:a639da9eb5a5f104aebc7d5480faddfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b399dad993e197861a77af22e80c0e2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a0b399dad993e197861a77af22e80c0e2">postfilter</a> (<a class="el" href="structAMRContext.html">AMRContext</a> *p, float *lpc, float *buf_out)</td></tr>
<tr class="memdesc:a0b399dad993e197861a77af22e80c0e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform adaptive post-filtering to enhance the quality of the speech.  <a href="#a0b399dad993e197861a77af22e80c0e2">More...</a><br /></td></tr>
<tr class="separator:a0b399dad993e197861a77af22e80c0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a34eed12d43ff807d31262467c12099ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAVCodec.html">AVCodec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amrnbdec_8c.html#a34eed12d43ff807d31262467c12099ca">ff_amrnb_decoder</a></td></tr>
<tr class="separator:a34eed12d43ff807d31262467c12099ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>AMR narrowband decoder. </p>
<p>This decoder uses floats for simplicity and so is not bit-exact. One difference is that differences in phase can accumulate. The test sequences in 3GPP TS 26.074 can still be useful.</p>
<ul>
<li>Comparing this file's output to the output of the ref decoder gives a PSNR of 30 to 80. Plotting the output samples shows a difference in phase in some areas.</li>
<li>Comparing both decoders against their input, this decoder gives a similar PSNR. If the test sequence homing frames are removed (this decoder does not detect them), the PSNR is at least as good as the reference on 140 out of 169 tests. </li>
</ul>

<p>Definition in file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a761545eb4c54c23e7fd5796eb0c23c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a761545eb4c54c23e7fd5796eb0c23c24">&sect;&nbsp;</a></span>AMR_BLOCK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMR_BLOCK_SIZE&#160;&#160;&#160;160</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>samples per frame </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00062">62</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a63cab97d22376207ef7bc94b48e141f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63cab97d22376207ef7bc94b48e141f9">&sect;&nbsp;</a></span>AMR_SAMPLE_BOUND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMR_SAMPLE_BOUND&#160;&#160;&#160;32768.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>threshold for synthesis overflow </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00063">63</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00790">synthesis()</a>.</p>

</div>
</div>
<a id="ac1e87bddb7255283f20c040de383d8b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e87bddb7255283f20c040de383d8b9">&sect;&nbsp;</a></span>AMR_SAMPLE_SCALE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMR_SAMPLE_SCALE&#160;&#160;&#160;(2.0 / 32768.0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scale from constructed speech to [-1,1]. </p>
<p>AMR is designed to produce 16-bit PCM samples (3GPP TS 26.090 4.2) but upscales by two (section 6.2.2).</p>
<p>Fundamentally, this scale is determined by energy_mean through the fixed vector contribution to the excitation vector. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00074">74</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a6ff8861ac03ca3a34e1479bf2e3e1cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff8861ac03ca3a34e1479bf2e3e1cf5">&sect;&nbsp;</a></span>PRED_FAC_MODE_12k2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRED_FAC_MODE_12k2&#160;&#160;&#160;0.65</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prediction factor for 12.2kbit/s mode. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00077">77</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00298">lsf2lsp_5()</a>.</p>

</div>
</div>
<a id="aea10e088cff499d9f9ca886a72e875dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea10e088cff499d9f9ca886a72e875dd">&sect;&nbsp;</a></span>LSF_R_FAC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LSF_R_FAC&#160;&#160;&#160;(8000.0 / 32768.0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LSF residual tables to Hertz. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00079">79</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00327">lsf2lsp_3()</a>, <a class="el" href="amrnbdec_8c_source.html#l00298">lsf2lsp_5()</a>, and <a class="el" href="amrnbdec_8c_source.html#l00260">lsf2lsp_for_mode12k2()</a>.</p>

</div>
</div>
<a id="a87bb4d7d47fc9a4172565c063469521d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87bb4d7d47fc9a4172565c063469521d">&sect;&nbsp;</a></span>MIN_LSF_SPACING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_LSF_SPACING&#160;&#160;&#160;(50.0488 / 8000.0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ensures stability of LPC filter. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00080">80</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00327">lsf2lsp_3()</a>, and <a class="el" href="amrnbdec_8c_source.html#l00260">lsf2lsp_for_mode12k2()</a>.</p>

</div>
</div>
<a id="a3d1287efc9924b67cbab16d6a07cbb27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1287efc9924b67cbab16d6a07cbb27">&sect;&nbsp;</a></span>PITCH_LAG_MIN_MODE_12k2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PITCH_LAG_MIN_MODE_12k2&#160;&#160;&#160;18</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lower bound on decoded lag search in 12.2kbit/s mode. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00081">81</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00372">decode_pitch_lag_1_6()</a>.</p>

</div>
</div>
<a id="acaf1374d6ee289b87034543bec682af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaf1374d6ee289b87034543bec682af6">&sect;&nbsp;</a></span>MIN_ENERGY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_ENERGY&#160;&#160;&#160;-14.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial energy in dB. </p>
<p>Also used for bad frames (unimplemented). </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00084">84</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00160">amrnb_decode_init()</a>, and <a class="el" href="amrwbdec_8c_source.html#l00096">amrwb_decode_init()</a>.</p>

</div>
</div>
<a id="acca47319151f94e5aae9c534edb5bfa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca47319151f94e5aae9c534edb5bfa8">&sect;&nbsp;</a></span>SHARP_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHARP_MAX&#160;&#160;&#160;0.79449462890625</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum sharpening factor. </p>
<p>The specification says 0.8, which should be 13107, but the reference C code uses 13017 instead. (Amusingly the same applies to SHARP_MAX in g729dec.c.) </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00091">91</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00552">pitch_sharpening()</a>, and <a class="el" href="amrnbdec_8c_source.html#l00790">synthesis()</a>.</p>

</div>
</div>
<a id="afc076bdfb6b0bcdb97acdf74faef2e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc076bdfb6b0bcdb97acdf74faef2e79">&sect;&nbsp;</a></span>AMR_TILT_RESPONSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMR_TILT_RESPONSE&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of impulse response coefficients used for tilt factor. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00094">94</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00874">tilt_factor()</a>.</p>

</div>
</div>
<a id="a7d318e9f870951c80cbe7f4263c92f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d318e9f870951c80cbe7f4263c92f91">&sect;&nbsp;</a></span>AMR_TILT_GAMMA_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMR_TILT_GAMMA_T&#160;&#160;&#160;0.8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tilt factor = 1st reflection coefficient * gamma_t. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00096">96</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00874">tilt_factor()</a>.</p>

</div>
</div>
<a id="a286ed069767593abc158c7e31e86ce40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a286ed069767593abc158c7e31e86ce40">&sect;&nbsp;</a></span>AMR_AGC_ALPHA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMR_AGC_ALPHA&#160;&#160;&#160;0.9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adaptive gain control factor used in post-filter. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00098">98</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00904">postfilter()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7d7267ac651c1215f2b7461c1baf5984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d7267ac651c1215f2b7461c1baf5984">&sect;&nbsp;</a></span>weighted_vector_sumd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> weighted_vector_sumd </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>in_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>in_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>weight_coeff_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>weight_coeff_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Double version of <a class="el" href="acelp__vectors_8c.html#ae6f91c4819ad805fec298b39b860f2aa" title="float implementation of weighted sum of two vectors. ">ff_weighted_vector_sumf()</a> </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00149">149</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00298">lsf2lsp_5()</a>.</p>

</div>
</div>
<a id="ae397ab764784f7d9873b5f623fa5e5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae397ab764784f7d9873b5f623fa5e5b0">&sect;&nbsp;</a></span>amrnb_decode_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> amrnb_decode_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVCodecContext.html">AVCodecContext</a> *&#160;</td>
          <td class="paramname"><em>avctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00160">160</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

</div>
</div>
<a id="a93e16f11e94d063f00db05facfd2efcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e16f11e94d063f00db05facfd2efcf">&sect;&nbsp;</a></span>unpack_bitstream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a> unpack_bitstream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unpack an RFC4867 speech frame into the AMR frame mode and parameters. </p>
<p>The order of speech bits is specified by 3GPP TS 26.101.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the context </td></tr>
    <tr><td class="paramname">buf</td><td>pointer to the input buffer </td></tr>
    <tr><td class="paramname">buf_size</td><td>size of the input buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the frame mode </dd></dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00207">207</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a1c85444c7d716f8ddfe67e40a972f527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c85444c7d716f8ddfe67e40a972f527">&sect;&nbsp;</a></span>interpolate_lsf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> interpolate_lsf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structACELPVContext.html">ACELPVContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>lsf_q</em>[4][LP_FILTER_ORDER], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lsf_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interpolate the LSF vector (used for fixed gain smoothing). </p>
<p>The interpolation is done over all four subframes even in MODE_12k2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The <a class="el" href="structContext.html">Context</a> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lsf_q</td><td>LSFs in [0,1] for each subframe </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsf_new</td><td>New LSFs in [0,1] for subframe 4 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00239">239</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00327">lsf2lsp_3()</a>, and <a class="el" href="amrnbdec_8c_source.html#l00260">lsf2lsp_for_mode12k2()</a>.</p>

</div>
</div>
<a id="a209d3474be12b81789ddad55dc9773e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209d3474be12b81789ddad55dc9773e1">&sect;&nbsp;</a></span>lsf2lsp_for_mode12k2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> lsf2lsp_for_mode12k2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lsp</em>[LP_FILTER_ORDER], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>lsf_no_r</em>[LP_FILTER_ORDER], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>lsf_quantizer</em>[5], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>quantizer_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>sign</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>update</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode a set of 5 split-matrix quantized lsf indexes into an lsp vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the context </td></tr>
    <tr><td class="paramname">lsp</td><td>output LSP vector </td></tr>
    <tr><td class="paramname">lsf_no_r</td><td>LSF vector without the residual vector added </td></tr>
    <tr><td class="paramname">lsf_quantizer</td><td>pointers to LSF dictionary tables </td></tr>
    <tr><td class="paramname">quantizer_offset</td><td>offset in tables </td></tr>
    <tr><td class="paramname">sign</td><td>for the 3 dictionary table </td></tr>
    <tr><td class="paramname">update</td><td>store data for computing the next frame's LSFs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00260">260</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00298">lsf2lsp_5()</a>.</p>

</div>
</div>
<a id="a317bf19dcd120ccbf4a9812f430e564e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a317bf19dcd120ccbf4a9812f430e564e">&sect;&nbsp;</a></span>lsf2lsp_5()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> lsf2lsp_5 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode a set of 5 split-matrix quantized lsf indexes into 2 lsp vectors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pointer to the <a class="el" href="structAMRContext.html">AMRContext</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00298">298</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a75ab60d3b79df7f8759fa7625de82e00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ab60d3b79df7f8759fa7625de82e00">&sect;&nbsp;</a></span>lsf2lsp_3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> lsf2lsp_3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode a set of 3 split-matrix quantized lsf indexes into an lsp vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pointer to the <a class="el" href="structAMRContext.html">AMRContext</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00327">327</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a31363862930d60371d010b43fefa4ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31363862930d60371d010b43fefa4ebd">&sect;&nbsp;</a></span>decode_pitch_lag_1_6()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> decode_pitch_lag_1_6 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *&#160;</td>
          <td class="paramname"><em>lag_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *&#160;</td>
          <td class="paramname"><em>lag_frac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>pitch_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>prev_lag_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>subframe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Like <a class="el" href="acelp__pitch__delay_8c.html#a874fd848faa735c0a85fe3c0e04d1190" title="Decode the adaptive codebook index to the integer and fractional parts of the pitch lag for one subfr...">ff_decode_pitch_lag()</a>, but with 1/6 resolution. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00372">372</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00391">decode_pitch_vector()</a>.</p>

</div>
</div>
<a id="a3da3282d94f7c5b849eb309cb4366deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da3282d94f7c5b849eb309cb4366deb">&sect;&nbsp;</a></span>decode_pitch_vector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> decode_pitch_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAMRNBSubframe.html">AMRNBSubframe</a> *&#160;</td>
          <td class="paramname"><em>amr_subframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>subframe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00391">391</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a351e33ee287e2ff13e4a9d679e7e75be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351e33ee287e2ff13e4a9d679e7e75be">&sect;&nbsp;</a></span>decode_10bit_pulse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> decode_10bit_pulse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>pulse_position</em>[8], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>i3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode a 10-bit algebraic codebook index from a 10.2 kbit/s frame. </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00435">435</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00453">decode_8_pulses_31bits()</a>.</p>

</div>
</div>
<a id="ad087166a9faaa3f85aadd8a26aebb658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad087166a9faaa3f85aadd8a26aebb658">&sect;&nbsp;</a></span>decode_8_pulses_31bits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> decode_8_pulses_31bits </td>
          <td>(</td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>fixed_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAMRFixed.html">AMRFixed</a> *&#160;</td>
          <td class="paramname"><em>fixed_sparse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode the algebraic codebook index to pulse positions and signs and construct the algebraic codebook vector for MODE_10k2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fixed_index</td><td>positions of the eight pulses </td></tr>
    <tr><td class="paramname">fixed_sparse</td><td>pointer to the algebraic codebook vector </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00453">453</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00499">decode_fixed_sparse()</a>.</p>

</div>
</div>
<a id="a71c512839eee686b630fcc33a80e75a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71c512839eee686b630fcc33a80e75a5">&sect;&nbsp;</a></span>decode_fixed_sparse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> decode_fixed_sparse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRFixed.html">AMRFixed</a> *&#160;</td>
          <td class="paramname"><em>fixed_sparse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>pulses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>subframe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode the algebraic codebook index to pulse positions and signs, then construct the algebraic codebook vector. </p>
<p>nb of pulses | bits encoding pulses For MODE_4k75 or MODE_5k15, 2 | 1-3, 4-6, 7 MODE_5k9, 2 | 1, 2-4, 5-6, 7-9 MODE_6k7, 3 | 1-3, 4, 5-7, 8, 9-11 MODE_7k4 or MODE_7k95, 4 | 1-3, 4-6, 7-9, 10, 11-13</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fixed_sparse</td><td>pointer to the algebraic codebook vector </td></tr>
    <tr><td class="paramname">pulses</td><td>algebraic codebook indexes </td></tr>
    <tr><td class="paramname">mode</td><td>mode of the current frame </td></tr>
    <tr><td class="paramname">subframe</td><td>current subframe number </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00499">499</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a9917383fd05d16e47d04536c26170ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9917383fd05d16e47d04536c26170ad2">&sect;&nbsp;</a></span>pitch_sharpening()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> pitch_sharpening </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>subframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAMRFixed.html">AMRFixed</a> *&#160;</td>
          <td class="paramname"><em>fixed_sparse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply pitch lag to obtain the sharpened fixed vector (section 6.1.2) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the context </td></tr>
    <tr><td class="paramname">subframe</td><td>unpacked amr subframe </td></tr>
    <tr><td class="paramname">mode</td><td>mode of the current frame </td></tr>
    <tr><td class="paramname">fixed_sparse</td><td>sparse representation of the fixed vector </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00552">552</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a9e2f115a395e9c35239bf81e7982376e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e2f115a395e9c35239bf81e7982376e">&sect;&nbsp;</a></span>fixed_gain_smooth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float fixed_gain_smooth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>lsf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>lsf_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>fixed gain smoothing Note that where the spec specifies the "spectrum in the q domain" in section 6.1.4, in fact frequencies should be used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the context </td></tr>
    <tr><td class="paramname">lsf</td><td>LSFs for the current subframe, in the range [0,1] </td></tr>
    <tr><td class="paramname">lsf_avg</td><td>averaged LSFs </td></tr>
    <tr><td class="paramname">mode</td><td>mode of the current frame</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fixed gain smoothed </dd></dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00588">588</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a37085cf3abff63b881f45335889c81d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37085cf3abff63b881f45335889c81d7">&sect;&nbsp;</a></span>decode_gains()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> decode_gains </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAMRNBSubframe.html">AMRNBSubframe</a> *&#160;</td>
          <td class="paramname"><em>amr_subframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const enum <a class="el" href="amrnbdata_8h.html#a46c8a310cf4c094f8c80e1cb8dc1f911">Mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>subframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>fixed_gain_factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode pitch gain and fixed gain factor (part of section 6.1.3). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the context </td></tr>
    <tr><td class="paramname">amr_subframe</td><td>unpacked amr subframe </td></tr>
    <tr><td class="paramname">mode</td><td>mode of the current frame </td></tr>
    <tr><td class="paramname">subframe</td><td>current subframe number </td></tr>
    <tr><td class="paramname">fixed_gain_factor</td><td>decoded gain correction factor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00630">630</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a5dc867db5f5ce3b1a422154de3b5fd64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dc867db5f5ce3b1a422154de3b5fd64">&sect;&nbsp;</a></span>apply_ir_filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> apply_ir_filter </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAMRFixed.html">AMRFixed</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Circularly convolve a sparse fixed vector with a phase dispersion impulse response filter (D.6.2 of G.729 and 6.1.5 of AMR). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>vector with filter applied </td></tr>
    <tr><td class="paramname">in</td><td>source vector </td></tr>
    <tr><td class="paramname">filter</td><td>phase filter coefficients</td></tr>
  </table>
  </dd>
</dl>
<p>out[n] = sum(i,0,len-1){ in[i] * filter[(len + n - i)len] } </p>
<p>&lt; filters at pitch lag*1 and *2 </p>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00672">672</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00719">anti_sparseness()</a>.</p>

</div>
</div>
<a id="ab81e7c5ad6246e12fd6e1855bc326522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab81e7c5ad6246e12fd6e1855bc326522">&sect;&nbsp;</a></span>anti_sparseness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const float* anti_sparseness </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAMRFixed.html">AMRFixed</a> *&#160;</td>
          <td class="paramname"><em>fixed_sparse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>fixed_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fixed_gain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reduce fixed vector sparseness by smoothing with one of three IR filters. </p>
<p>Also know as "adaptive phase dispersion".</p>
<p>This implements 3GPP TS 26.090 section 6.1(5).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the context </td></tr>
    <tr><td class="paramname">fixed_sparse</td><td>algebraic codebook vector </td></tr>
    <tr><td class="paramname">fixed_vector</td><td>unfiltered fixed vector </td></tr>
    <tr><td class="paramname">fixed_gain</td><td>smoothed gain </td></tr>
    <tr><td class="paramname">out</td><td>space for modified vector if necessary </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00719">719</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a55d0211f8b106e7649c9855ac809463e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d0211f8b106e7649c9855ac809463e">&sect;&nbsp;</a></span>synthesis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> synthesis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fixed_gain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>fixed_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td>
          <td class="paramname"><em>overflow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Conduct 10th order linear predictive coding synthesis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pointer to the <a class="el" href="structAMRContext.html">AMRContext</a> </td></tr>
    <tr><td class="paramname">lpc</td><td>pointer to the LPC coefficients </td></tr>
    <tr><td class="paramname">fixed_gain</td><td>fixed codebook gain for synthesis </td></tr>
    <tr><td class="paramname">fixed_vector</td><td>algebraic codebook vector </td></tr>
    <tr><td class="paramname">samples</td><td>pointer to the output speech samples </td></tr>
    <tr><td class="paramname">overflow</td><td>16-bit overflow flag </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00790">790</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a15753cc17c40c79e69a6fcd159a6be66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15753cc17c40c79e69a6fcd159a6be66">&sect;&nbsp;</a></span>update_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> update_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update buffers and history at the end of decoding a subframe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pointer to the <a class="el" href="structAMRContext.html">AMRContext</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00847">847</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="a639da9eb5a5f104aebc7d5480faddfd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a639da9eb5a5f104aebc7d5480faddfd2">&sect;&nbsp;</a></span>tilt_factor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float tilt_factor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lpc_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lpc_d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the tilt factor of a formant filter from its transfer function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The <a class="el" href="structContext.html">Context</a> </td></tr>
    <tr><td class="paramname">lpc_n</td><td>LP_FILTER_ORDER coefficients of the numerator </td></tr>
    <tr><td class="paramname">lpc_d</td><td>LP_FILTER_ORDER coefficients of the denominator </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00874">874</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00904">postfilter()</a>.</p>

</div>
</div>
<a id="a0b399dad993e197861a77af22e80c0e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b399dad993e197861a77af22e80c0e2">&sect;&nbsp;</a></span>postfilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> postfilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAMRContext.html">AMRContext</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>buf_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform adaptive post-filtering to enhance the quality of the speech. </p>
<p>See section 6.2.1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pointer to the <a class="el" href="structAMRContext.html">AMRContext</a> </td></tr>
    <tr><td class="paramname">lpc</td><td>interpolated LP coefficients for this subframe </td></tr>
    <tr><td class="paramname">buf_out</td><td>output of the filter </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00904">904</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

<p>Referenced by <a class="el" href="amrnbdec_8c_source.html#l00948">amrnb_decode_frame()</a>.</p>

</div>
</div>
<a id="aefcc51fdeece13fefafe1dd73912012e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefcc51fdeece13fefafe1dd73912012e">&sect;&nbsp;</a></span>amrnb_decode_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> amrnb_decode_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVCodecContext.html">AVCodecContext</a> *&#160;</td>
          <td class="paramname"><em>avctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *&#160;</td>
          <td class="paramname"><em>got_frame_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVPacket.html">AVPacket</a> *&#160;</td>
          <td class="paramname"><em>avpkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l00948">948</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a34eed12d43ff807d31262467c12099ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34eed12d43ff807d31262467c12099ca">&sect;&nbsp;</a></span>ff_amrnb_decoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAVCodec.html">AVCodec</a> ff_amrnb_decoder</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .name           = <span class="stringliteral">&quot;amrnb&quot;</span>,</div><div class="line">    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;AMR-NB (Adaptive Multi-Rate NarrowBand)&quot;</span>),</div><div class="line">    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div><div class="line">    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea88d9e41adf1df5445e3068512177b582">AV_CODEC_ID_AMR_NB</a>,</div><div class="line">    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structAMRContext.html">AMRContext</a>),</div><div class="line">    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="amrnbdec_8c.html#ae397ab764784f7d9873b5f623fa5e5b0">amrnb_decode_init</a>,</div><div class="line">    .<a class="code" href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a>         = <a class="code" href="amrnbdec_8c.html#aefcc51fdeece13fefafe1dd73912012e">amrnb_decode_frame</a>,</div><div class="line">    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div><div class="line">    .<a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>    = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a>[]){ <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a5251d62cc3c7f18e56bc8e0c48a27903">AV_SAMPLE_FMT_FLT</a>,</div><div class="line">                                                     <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a> },</div><div class="line">}</div><div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea88d9e41adf1df5445e3068512177b582"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea88d9e41adf1df5445e3068512177b582">AV_CODEC_ID_AMR_NB</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00504">avcodec.h:504</a></div></div>
<div class="ttc" id="amrnbdec_8c_html_aefcc51fdeece13fefafe1dd73912012e"><div class="ttname"><a href="amrnbdec_8c.html#aefcc51fdeece13fefafe1dd73912012e">amrnb_decode_frame</a></div><div class="ttdeci">static int amrnb_decode_frame(AVCodecContext *avctx, void *data, int *got_frame_ptr, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="amrnbdec_8c_source.html#l00948">amrnbdec.c:948</a></div></div>
<div class="ttc" id="avrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00059">samplefmt.h:59</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a5251d62cc3c7f18e56bc8e0c48a27903"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a5251d62cc3c7f18e56bc8e0c48a27903">AV_SAMPLE_FMT_FLT</a></div><div class="ttdoc">float </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00063">samplefmt.h:63</a></div></div>
<div class="ttc" id="amrnbdec_8c_html_ae397ab764784f7d9873b5f623fa5e5b0"><div class="ttname"><a href="amrnbdec_8c.html#ae397ab764784f7d9873b5f623fa5e5b0">amrnb_decode_init</a></div><div class="ttdeci">static av_cold int amrnb_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="amrnbdec_8c_source.html#l00160">amrnbdec.c:160</a></div></div>
<div class="ttc" id="structAMRContext_html"><div class="ttname"><a href="structAMRContext.html">AMRContext</a></div><div class="ttdef"><b>Definition:</b> <a href="amrnbdec_8c_source.html#l00100">amrnbdec.c:100</a></div></div>
<div class="ttc" id="libavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdoc">Return NULL if CONFIG_SMALL is true, otherwise the argument without modification. ...</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00176">internal.h:176</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_gaf9a51ca15301871723577c730b5865c5"><div class="ttname"><a href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></div><div class="ttdeci">AVSampleFormat</div><div class="ttdoc">Audio sample formats. </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00058">samplefmt.h:58</a></div></div>
<div class="ttc" id="adpcmenc_8c_html_a0b94bda9858853d90b77d15331ca0ae1"><div class="ttname"><a href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a></div><div class="ttdeci">static enum AVSampleFormat sample_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00701">adpcmenc.c:701</a></div></div>
<div class="ttc" id="ffmpeg_8c_html_a22b853326688d8b01baa28b9aad668d8"><div class="ttname"><a href="ffmpeg_8c.html#a22b853326688d8b01baa28b9aad668d8">decode</a></div><div class="ttdeci">static int decode(AVCodecContext *avctx, AVFrame *frame, int *got_frame, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8c_source.html#l02061">ffmpeg.c:2061</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdoc">Codec uses get_buffer() for allocating buffers and supports custom allocators. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00963">avcodec.h:963</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="amrnbdec_8c_source.html#l01083">1083</a> of file <a class="el" href="amrnbdec_8c_source.html">amrnbdec.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:48:18 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
