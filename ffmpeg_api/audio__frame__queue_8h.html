<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: libavcodec/audio_frame_queue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3b1f69f89eda39a44baf4887988d54a7.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">audio_frame_queue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="avcodec_8h_source.html">avcodec.h</a>&quot;</code><br />
</div>
<p><a href="audio__frame__queue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAudioFrame.html">AudioFrame</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a94e1f8814678376535342eabd6522be3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__frame__queue_8h.html#a94e1f8814678376535342eabd6522be3">ff_af_queue_init</a> (<a class="el" href="structAVCodecContext.html">AVCodecContext</a> *avctx, <a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *afq)</td></tr>
<tr class="memdesc:a94e1f8814678376535342eabd6522be3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize <a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a>.  <a href="#a94e1f8814678376535342eabd6522be3">More...</a><br /></td></tr>
<tr class="separator:a94e1f8814678376535342eabd6522be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b33a0a35a90802c10fc654a235fa90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__frame__queue_8h.html#a45b33a0a35a90802c10fc654a235fa90">ff_af_queue_close</a> (<a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *afq)</td></tr>
<tr class="memdesc:a45b33a0a35a90802c10fc654a235fa90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close <a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a>.  <a href="#a45b33a0a35a90802c10fc654a235fa90">More...</a><br /></td></tr>
<tr class="separator:a45b33a0a35a90802c10fc654a235fa90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810e29814cbdc646076ce885c664b4aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__frame__queue_8h.html#a810e29814cbdc646076ce885c664b4aa">ff_af_queue_add</a> (<a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *afq, const <a class="el" href="structAVFrame.html">AVFrame</a> *f)</td></tr>
<tr class="memdesc:a810e29814cbdc646076ce885c664b4aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a frame to the queue.  <a href="#a810e29814cbdc646076ce885c664b4aa">More...</a><br /></td></tr>
<tr class="separator:a810e29814cbdc646076ce885c664b4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f87b18779e810b8a7eeb5183c66655b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__frame__queue_8h.html#a7f87b18779e810b8a7eeb5183c66655b">ff_af_queue_remove</a> (<a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *afq, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> nb_samples, int64_t *<a class="el" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>, int64_t *<a class="el" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>)</td></tr>
<tr class="memdesc:a7f87b18779e810b8a7eeb5183c66655b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove frame(s) from the queue.  <a href="#a7f87b18779e810b8a7eeb5183c66655b">More...</a><br /></td></tr>
<tr class="separator:a7f87b18779e810b8a7eeb5183c66655b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a94e1f8814678376535342eabd6522be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e1f8814678376535342eabd6522be3">&sect;&nbsp;</a></span>ff_af_queue_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> ff_af_queue_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVCodecContext.html">AVCodecContext</a> *&#160;</td>
          <td class="paramname"><em>avctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *&#160;</td>
          <td class="paramname"><em>afq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize <a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">avctx</td><td>context to use for time_base and av_log </td></tr>
    <tr><td class="paramname">afq</td><td>queue context </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="audio__frame__queue_8c_source.html#l00028">28</a> of file <a class="el" href="audio__frame__queue_8c_source.html">audio_frame_queue.c</a>.</p>

<p>Referenced by <a class="el" href="aacenc_8c_source.html#l00913">aac_encode_init()</a>, <a class="el" href="libopencore-amr_8c_source.html#l00032">amr_decode_fix_avctx()</a>, <a class="el" href="libspeexenc_8c_source.html#l00145">encode_init()</a>, <a class="el" href="audiotoolboxenc_8c_source.html#l00232">ffat_init_encoder()</a>, <a class="el" href="libopusenc_8c_source.html#l00237">libopus_encode_init()</a>, <a class="el" href="libshine_8c_source.html#l00041">libshine_encode_init()</a>, <a class="el" href="libvorbisenc_8c_source.html#l00195">libvorbis_encode_init()</a>, <a class="el" href="mlpenc_8c_source.html#l00486">mlp_encode_init()</a>, <a class="el" href="libmp3lame_8c_source.html#l00091">mp3lame_encode_init()</a>, <a class="el" href="ra144enc_8c_source.html#l00047">ra144_encode_init()</a>, and <a class="el" href="libwavpackenc_8c_source.html#l00111">wavpack_encode_init()</a>.</p>

</div>
</div>
<a id="a45b33a0a35a90802c10fc654a235fa90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b33a0a35a90802c10fc654a235fa90">&sect;&nbsp;</a></span>ff_af_queue_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> ff_af_queue_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *&#160;</td>
          <td class="paramname"><em>afq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close <a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a>. </p>
<p>Frees memory if needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">afq</td><td>queue context </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="audio__frame__queue_8c_source.html#l00036">36</a> of file <a class="el" href="audio__frame__queue_8c_source.html">audio_frame_queue.c</a>.</p>

<p>Referenced by <a class="el" href="libfdk-aacenc_8c_source.html#l00092">aac_encode_close()</a>, <a class="el" href="aacenc_8c_source.html#l00852">aac_encode_end()</a>, <a class="el" href="libopencore-amr_8c_source.html#l00032">amr_decode_fix_avctx()</a>, <a class="el" href="libspeexenc_8c_source.html#l00313">encode_close()</a>, <a class="el" href="nellymoserenc_8c_source.html#l00134">encode_end()</a>, <a class="el" href="audiotoolboxenc_8c_source.html#l00561">ffat_close_encoder()</a>, <a class="el" href="libopusenc_8c_source.html#l00505">libopus_encode_close()</a>, <a class="el" href="libshine_8c_source.html#l00120">libshine_encode_close()</a>, <a class="el" href="libvorbisenc_8c_source.html#l00174">libvorbis_encode_close()</a>, <a class="el" href="mlpenc_8c_source.html#l02367">mlp_encode_close()</a>, <a class="el" href="libmp3lame_8c_source.html#l00076">mp3lame_encode_close()</a>, <a class="el" href="ra144enc_8c_source.html#l00038">ra144_encode_close()</a>, and <a class="el" href="libwavpackenc_8c_source.html#l00172">wavpack_encode_close()</a>.</p>

</div>
</div>
<a id="a810e29814cbdc646076ce885c664b4aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a810e29814cbdc646076ce885c664b4aa">&sect;&nbsp;</a></span>ff_af_queue_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_af_queue_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *&#160;</td>
          <td class="paramname"><em>afq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAVFrame.html">AVFrame</a> *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a frame to the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">afq</td><td>queue context </td></tr>
    <tr><td class="paramname">f</td><td>frame to add to the queue </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="audio__frame__queue_8c_source.html#l00044">44</a> of file <a class="el" href="audio__frame__queue_8c_source.html">audio_frame_queue.c</a>.</p>

<p>Referenced by <a class="el" href="aacenc_8c_source.html#l00509">aac_encode_frame()</a>, <a class="el" href="libopencore-amr_8c_source.html#l00032">amr_decode_fix_avctx()</a>, <a class="el" href="libspeexenc_8c_source.html#l00268">encode_frame()</a>, <a class="el" href="audiotoolboxenc_8c_source.html#l00483">ffat_encode()</a>, <a class="el" href="libopusenc_8c_source.html#l00424">libopus_encode()</a>, <a class="el" href="libshine_8c_source.html#l00068">libshine_encode_frame()</a>, <a class="el" href="libvorbisenc_8c_source.html#l00274">libvorbis_encode_frame()</a>, <a class="el" href="mlpenc_8c_source.html#l02220">mlp_encode_frame()</a>, <a class="el" href="libmp3lame_8c_source.html#l00188">mp3lame_encode_frame()</a>, <a class="el" href="ra144enc_8c_source.html#l00430">ra144_encode_frame()</a>, and <a class="el" href="libwavpackenc_8c_source.html#l00043">wavpack_encode_frame()</a>.</p>

</div>
</div>
<a id="a7f87b18779e810b8a7eeb5183c66655b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f87b18779e810b8a7eeb5183c66655b">&sect;&nbsp;</a></span>ff_af_queue_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> ff_af_queue_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioFrameQueue.html">AudioFrameQueue</a> *&#160;</td>
          <td class="paramname"><em>afq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>nb_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove frame(s) from the queue. </p>
<p>Retrieves the pts of the next available frame, or a generated pts based on the last frame duration if there are no frames left in the queue. The number of requested samples should be the full number of samples represented by the packet that will be output by the encoder. If fewer samples are available in the queue, a smaller value will be used for the output duration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">afq</td><td>queue context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">nb_samples</td><td>number of samples to remove from the queue </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pts</td><td>output packet pts </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">duration</td><td>output packet duration </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="audio__frame__queue_8c_source.html#l00075">75</a> of file <a class="el" href="audio__frame__queue_8c_source.html">audio_frame_queue.c</a>.</p>

<p>Referenced by <a class="el" href="aacenc_8c_source.html#l00509">aac_encode_frame()</a>, <a class="el" href="libopencore-amr_8c_source.html#l00032">amr_decode_fix_avctx()</a>, <a class="el" href="libspeexenc_8c_source.html#l00268">encode_frame()</a>, <a class="el" href="audiotoolboxenc_8c_source.html#l00483">ffat_encode()</a>, <a class="el" href="libopusenc_8c_source.html#l00424">libopus_encode()</a>, <a class="el" href="libshine_8c_source.html#l00068">libshine_encode_frame()</a>, <a class="el" href="libvorbisenc_8c_source.html#l00274">libvorbis_encode_frame()</a>, <a class="el" href="mlpenc_8c_source.html#l02220">mlp_encode_frame()</a>, <a class="el" href="libmp3lame_8c_source.html#l00188">mp3lame_encode_frame()</a>, <a class="el" href="ra144enc_8c_source.html#l00430">ra144_encode_frame()</a>, and <a class="el" href="libwavpackenc_8c_source.html#l00043">wavpack_encode_frame()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:48:19 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
