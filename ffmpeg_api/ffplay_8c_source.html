<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: ffplay.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ffplay.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ffplay_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2003 Fabrice Bellard</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * @file</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * simple media player based on the FFmpeg libraries</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;config.h&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="limits_8h.html">limits.h</a>&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="eval_8h.html">libavutil/eval.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="imgutils_8h.html">libavutil/imgutils.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">libavutil/dict.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parseutils_8h.html">libavutil/parseutils.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="samplefmt_8h.html">libavutil/samplefmt.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">libavutil/time.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">libavformat/avformat.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avdevice_8h.html">libavdevice/avdevice.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="swscale_8h.html">libswscale/swscale.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avfft_8h.html">libavcodec/avfft.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="swresample_8h.html">libswresample/swresample.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor"># include &quot;<a class="code" href="avfilter_8h.html">libavfilter/avfilter.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor"># include &quot;<a class="code" href="buffersink_8h.html">libavfilter/buffersink.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor"># include &quot;<a class="code" href="buffersrc_8h.html">libavfilter/buffersrc.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &lt;SDL.h&gt;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &lt;SDL_thread.h&gt;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cmdutils_8h.html">cmdutils.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a01a73e823e0892841a4fd2f900b85688">   63</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="ffplay_8c.html#a01a73e823e0892841a4fd2f900b85688">program_name</a>[] = <span class="stringliteral">&quot;ffplay&quot;</span>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="ffplay_8c.html#adb047c8ef284577de88f3a64fe7638e0">   64</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#adb047c8ef284577de88f3a64fe7638e0">program_birth_year</a> = 2003;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a623ec78b7909090dbedac4af1d52abb4">   66</a></span>&#160;<span class="preprocessor">#define MAX_QUEUE_SIZE (15 * 1024 * 1024)</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a3bf728db793aeeecafda8f970ccb36e6">   67</a></span>&#160;<span class="preprocessor">#define MIN_FRAMES 25</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="ffplay_8c.html#acbd863531432d0fc43f6e820491dbd4b">   68</a></span>&#160;<span class="preprocessor">#define EXTERNAL_CLOCK_MIN_FRAMES 2</span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a2ec75dd089cbf194a6ea2a6c22e3ba4b">   69</a></span>&#160;<span class="preprocessor">#define EXTERNAL_CLOCK_MAX_FRAMES 10</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/* Minimum SDL audio buffer size, in samples. */</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa1d9c10197a7f3c6a2d26879ee3e55d9">   72</a></span>&#160;<span class="preprocessor">#define SDL_AUDIO_MIN_BUFFER_SIZE 512</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/* Calculate actual buffer size keeping in mind not cause too frequent audio callbacks */</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a048518dec3903cb5e3f0a53721534445">   74</a></span>&#160;<span class="preprocessor">#define SDL_AUDIO_MAX_CALLBACKS_PER_SEC 30</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/* Step size for volume control */</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a60008c6774fb193a2a43a2c1f65f2bed">   77</a></span>&#160;<span class="preprocessor">#define SDL_VOLUME_STEP (SDL_MIX_MAXVOLUME / 50)</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/* no AV sync correction is done if below the minimum AV sync threshold */</span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa73f463e749eb5e83ab5355ec79b958d">   80</a></span>&#160;<span class="preprocessor">#define AV_SYNC_THRESHOLD_MIN 0.04</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/* AV sync correction is done if above the maximum AV sync threshold */</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a373569cd88a065d17fc41d42c2c9b64a">   82</a></span>&#160;<span class="preprocessor">#define AV_SYNC_THRESHOLD_MAX 0.1</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/* If a frame duration is longer than this, it will not be duplicated to compensate AV sync */</span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="ffplay_8c.html#af8022a2b672af835fe40c54d1b362c62">   84</a></span>&#160;<span class="preprocessor">#define AV_SYNC_FRAMEDUP_THRESHOLD 0.1</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/* no AV correction is done if too big error */</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="ffplay_8c.html#acf97e1f169c9faedcaf115ec6e17406c">   86</a></span>&#160;<span class="preprocessor">#define AV_NOSYNC_THRESHOLD 10.0</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/* maximum audio speed change to get correct sync */</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ae0b4db738508a390710a4a4402b2d86b">   89</a></span>&#160;<span class="preprocessor">#define SAMPLE_CORRECTION_PERCENT_MAX 10</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">/* external clock speed adjustment constants for realtime sources based on buffer fullness */</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a8f0a8c485b0b7e7207aa31db91813c76">   92</a></span>&#160;<span class="preprocessor">#define EXTERNAL_CLOCK_SPEED_MIN  0.900</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a576dc64950c7737d26131da97afb1fbf">   93</a></span>&#160;<span class="preprocessor">#define EXTERNAL_CLOCK_SPEED_MAX  1.010</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a33337a4597f14dfa5efdb9f0ca42752f">   94</a></span>&#160;<span class="preprocessor">#define EXTERNAL_CLOCK_SPEED_STEP 0.001</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">/* we use about AUDIO_DIFF_AVG_NB A-V differences to make the average */</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a996f890c6cfe7a0ad3bc98a999c2cbb7">   97</a></span>&#160;<span class="preprocessor">#define AUDIO_DIFF_AVG_NB   20</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/* polls for possible required screen refresh at least this often, should be less than 1/fps */</span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="ffplay_8c.html#abc2b684fcc127e93aee54a3a45e25a7c">  100</a></span>&#160;<span class="preprocessor">#define REFRESH_RATE 0.01</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">/* NOTE: the size must be big enough to compensate the hardware audio buffersize size */</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/* TODO: We assume that a decoded and resampled frame fits into this buffer */</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">  104</a></span>&#160;<span class="preprocessor">#define SAMPLE_ARRAY_SIZE (8 * 65536)</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ac1ab6b3b175d6614ab3151157ec92340">  106</a></span>&#160;<span class="preprocessor">#define CURSOR_HIDE_DELAY 1000000</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a17e37c10bc0aaa1b42d96ab5bd81c704">  108</a></span>&#160;<span class="preprocessor">#define USE_ONEPASS_SUBTITLE_RENDER 1</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ab7ad84aa2be1ae7c9baeeec95f3aac0f">  110</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ffplay_8c.html#ab7ad84aa2be1ae7c9baeeec95f3aac0f">sws_flags</a> = <a class="code" href="group__libsws.html#ga02a4ee9d3c158e842941873d2cf83b9f">SWS_BICUBIC</a>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structMyAVPacketList.html">  112</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structMyAVPacketList.html">MyAVPacketList</a> {</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">  113</a></span>&#160;    <a class="code" href="structAVPacket.html">AVPacket</a> <a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">  114</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structMyAVPacketList.html">MyAVPacketList</a> *<a class="code" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">next</a>;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">  115</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;} <a class="code" href="structMyAVPacketList.html">MyAVPacketList</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structPacketQueue.html">  118</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structPacketQueue.html">PacketQueue</a> {</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">  119</a></span>&#160;    <a class="code" href="structMyAVPacketList.html">MyAVPacketList</a> *first_pkt, *<a class="code" href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">last_pkt</a>;</div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">  120</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a>;</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">  121</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a>;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">  122</a></span>&#160;    int64_t <a class="code" href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">duration</a>;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">  123</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">  124</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">  125</a></span>&#160;    SDL_mutex *<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">  126</a></span>&#160;    SDL_cond *<a class="code" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">cond</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;} <a class="code" href="structPacketQueue.html">PacketQueue</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ae2e6d105454e523ab34feaf641467dd9">  129</a></span>&#160;<span class="preprocessor">#define VIDEO_PICTURE_QUEUE_SIZE 3</span></div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a81a28a9c371323c2df96ba7ef15aa4d4">  130</a></span>&#160;<span class="preprocessor">#define SUBPICTURE_QUEUE_SIZE 16</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a3ae3137ba6a2d6181e843a768334238c">  131</a></span>&#160;<span class="preprocessor">#define SAMPLE_QUEUE_SIZE 9</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ad414a35ed512b3ce9c3721b119f3c69d">  132</a></span>&#160;<span class="preprocessor">#define FRAME_QUEUE_SIZE FFMAX(SAMPLE_QUEUE_SIZE, FFMAX(VIDEO_PICTURE_QUEUE_SIZE, SUBPICTURE_QUEUE_SIZE))</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structAudioParams.html">  134</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structAudioParams.html">AudioParams</a> {</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">  135</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">  136</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">  137</a></span>&#160;    int64_t <a class="code" href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">channel_layout</a>;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">  138</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> <a class="code" href="avisynth__c_8h.html#a868274bcce53dba81808c75d008593b4">fmt</a>;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structAudioParams.html#ac1c209ac6920670d067ddff37408b545">  139</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAudioParams.html#ac1c209ac6920670d067ddff37408b545">frame_size</a>;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">  140</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">bytes_per_sec</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;} <a class="code" href="structAudioParams.html">AudioParams</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structClock.html">  143</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structClock.html">Clock</a> {</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">  144</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">pts</a>;           <span class="comment">/* clock base */</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="structClock.html#a3e4f48b49714d5f1abffb649e5615794">  145</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structClock.html#a3e4f48b49714d5f1abffb649e5615794">pts_drift</a>;     <span class="comment">/* clock base minus time at which we updated the clock */</span></div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structClock.html#a77d1a2e525a9b9cab76ad8dd763da0bd">  146</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structClock.html#a77d1a2e525a9b9cab76ad8dd763da0bd">last_updated</a>;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">  147</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">speed</a>;</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">  148</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a>;           <span class="comment">/* clock is based on a packet with this serial */</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">  149</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">paused</a>;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structClock.html#ac1947022081dd2030423543f7fe81240">  150</a></span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="structClock.html#ac1947022081dd2030423543f7fe81240">queue_serial</a>;    <span class="comment">/* pointer to the current packet queue serial, used for obsolete clock detection */</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;} <a class="code" href="structClock.html">Clock</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">/* Common struct for handling all types of decoded data and allocated render buffers. */</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structFrame.html">  154</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structFrame.html">Frame</a> {</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">  155</a></span>&#160;    <a class="code" href="structAVFrame.html">AVFrame</a> *<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">  156</a></span>&#160;    <a class="code" href="structAVSubtitle.html">AVSubtitle</a> <a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">  157</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a>;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">  158</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a>;           <span class="comment">/* presentation timestamp for the frame */</span></div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structFrame.html#a63cca62f715bae11fb5db7e50a896105">  159</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structFrame.html#a63cca62f715bae11fb5db7e50a896105">duration</a>;      <span class="comment">/* estimated duration of the frame */</span></div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="structFrame.html#acb133932800fcbccbe5e3c8e6010ceb9">  160</a></span>&#160;    int64_t <a class="code" href="structFrame.html#acb133932800fcbccbe5e3c8e6010ceb9">pos</a>;          <span class="comment">/* byte position of the frame in the input file */</span></div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structFrame.html#a7719a045a84669a637b141924a5e7339">  161</a></span>&#160;    SDL_Texture *<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">  162</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">allocated</a>;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">  163</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">  164</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structFrame.html#adc08f78492f3db6b0457c47e9bf191e1">  165</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrame.html#adc08f78492f3db6b0457c47e9bf191e1">format</a>;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="structFrame.html#a0f65498689deb7dd84b6c8194532bfe6">  166</a></span>&#160;    <a class="code" href="structAVRational.html">AVRational</a> <a class="code" href="structFrame.html#a0f65498689deb7dd84b6c8194532bfe6">sar</a>;</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">  167</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a>;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="structFrame.html#af79450bf22d4052328c5c64ba80d14ce">  168</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrame.html#af79450bf22d4052328c5c64ba80d14ce">flip_v</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;} <a class="code" href="mxfdec_8c.html#aa51935705b1fec65152bab71c81f5b74a20e5ef7f93ae45b4c343ef8805f9d558">Frame</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structFrameQueue.html">  171</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structFrameQueue.html">FrameQueue</a> {</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">  172</a></span>&#160;    <a class="code" href="structFrame.html">Frame</a> queue[<a class="code" href="ffplay_8c.html#ad414a35ed512b3ce9c3721b119f3c69d">FRAME_QUEUE_SIZE</a>];</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">  173</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a>;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structFrameQueue.html#aa0c7135c7dc240f4beaad18e258574ab">  174</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrameQueue.html#aa0c7135c7dc240f4beaad18e258574ab">windex</a>;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">  175</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">size</a>;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">  176</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a3bde6e5786f5bfd9040be752f86395ac">  177</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrameQueue.html#a3bde6e5786f5bfd9040be752f86395ac">keep_last</a>;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">  178</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a>;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">  179</a></span>&#160;    SDL_mutex *<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">  180</a></span>&#160;    SDL_cond *<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>;</div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">  181</a></span>&#160;    <a class="code" href="structPacketQueue.html">PacketQueue</a> *<a class="code" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">pktq</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;} <a class="code" href="structFrameQueue.html">FrameQueue</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">  185</a></span>&#160;    <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>, <span class="comment">/* default choice */</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">  186</a></span>&#160;    <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>,</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b">  187</a></span>&#160;    <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b">AV_SYNC_EXTERNAL_CLOCK</a>, <span class="comment">/* synchronize to an external clock */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;};</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="structDecoder.html">  190</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structDecoder.html">Decoder</a> {</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structDecoder.html#aa97daf2313af918248d4cb02f27f3207">  191</a></span>&#160;    <a class="code" href="structAVPacket.html">AVPacket</a> <a class="code" href="structDecoder.html#aa97daf2313af918248d4cb02f27f3207">pkt</a>;</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">  192</a></span>&#160;    <a class="code" href="structAVPacket.html">AVPacket</a> <a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">  193</a></span>&#160;    <a class="code" href="structPacketQueue.html">PacketQueue</a> *<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>;</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">  194</a></span>&#160;    <a class="code" href="structAVCodecContext.html">AVCodecContext</a> *<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">  195</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">  196</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a>;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">  197</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">packet_pending</a>;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="structDecoder.html#a02e8fbcac6b3a6421da001f8cb77c8a5">  198</a></span>&#160;    SDL_cond *<a class="code" href="structDecoder.html#a02e8fbcac6b3a6421da001f8cb77c8a5">empty_queue_cond</a>;</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="structDecoder.html#a1a28eb68d3e5d3ae20c286e5d32da4f1">  199</a></span>&#160;    int64_t <a class="code" href="structDecoder.html#a1a28eb68d3e5d3ae20c286e5d32da4f1">start_pts</a>;</div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structDecoder.html#ab6209d8e965103ce5aeab564c71e9e4c">  200</a></span>&#160;    <a class="code" href="structAVRational.html">AVRational</a> <a class="code" href="structDecoder.html#ab6209d8e965103ce5aeab564c71e9e4c">start_pts_tb</a>;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structDecoder.html#a2e69e5492232ac8681d531b59baa84a5">  201</a></span>&#160;    int64_t <a class="code" href="structDecoder.html#a2e69e5492232ac8681d531b59baa84a5">next_pts</a>;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structDecoder.html#aad6c09049ffe63ec332f60d0d7c4dc3e">  202</a></span>&#160;    <a class="code" href="structAVRational.html">AVRational</a> <a class="code" href="structDecoder.html#aad6c09049ffe63ec332f60d0d7c4dc3e">next_pts_tb</a>;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="structDecoder.html#a5dc52438ebc91ec6b928d402a82d7316">  203</a></span>&#160;    SDL_Thread *<a class="code" href="structDecoder.html#a5dc52438ebc91ec6b928d402a82d7316">decoder_tid</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;} <a class="code" href="structDecoder.html">Decoder</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="structVideoState.html">  206</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structVideoState.html">VideoState</a> {</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structVideoState.html#af2ac8777b258e78112799a39e1794d20">  207</a></span>&#160;    SDL_Thread *<a class="code" href="structVideoState.html#af2ac8777b258e78112799a39e1794d20">read_tid</a>;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="structVideoState.html#ad407b6b1d65b5bd32c47dc6433eaa31d">  208</a></span>&#160;    <a class="code" href="structAVInputFormat.html">AVInputFormat</a> *<a class="code" href="structVideoState.html#ad407b6b1d65b5bd32c47dc6433eaa31d">iformat</a>;</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="structVideoState.html#a2b1ec0afe367d6aad04ad31e8c64b74b">  209</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a2b1ec0afe367d6aad04ad31e8c64b74b">abort_request</a>;</div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">  210</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a>;</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">  211</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="structVideoState.html#a20ade47f8180bc49ee1217bffa53a07b">  212</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a20ade47f8180bc49ee1217bffa53a07b">last_paused</a>;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="structVideoState.html#af1e30a55716b4157320d6b808bbfe492">  213</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#af1e30a55716b4157320d6b808bbfe492">queue_attachments_req</a>;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structVideoState.html#aeaf6f7038c99dfee380266dbfeab187c">  214</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#aeaf6f7038c99dfee380266dbfeab187c">seek_req</a>;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structVideoState.html#ab4b5a3933d23072d98bbe56ab44036af">  215</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#ab4b5a3933d23072d98bbe56ab44036af">seek_flags</a>;</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structVideoState.html#a72a4754ebe0a02c8c56b6007352e122d">  216</a></span>&#160;    int64_t <a class="code" href="structVideoState.html#a72a4754ebe0a02c8c56b6007352e122d">seek_pos</a>;</div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">  217</a></span>&#160;    int64_t <a class="code" href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">seek_rel</a>;</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structVideoState.html#a5fa754db63425dfc7a9762a162637564">  218</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a5fa754db63425dfc7a9762a162637564">read_pause_return</a>;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">  219</a></span>&#160;    <a class="code" href="structAVFormatContext.html">AVFormatContext</a> *<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="structVideoState.html#aabfee6f1cd9c45c19493e97511e49fd9">  220</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#aabfee6f1cd9c45c19493e97511e49fd9">realtime</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">  222</a></span>&#160;    <a class="code" href="structClock.html">Clock</a> <a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>;</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">  223</a></span>&#160;    <a class="code" href="structClock.html">Clock</a> <a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>;</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">  224</a></span>&#160;    <a class="code" href="structClock.html">Clock</a> <a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">  226</a></span>&#160;    <a class="code" href="structFrameQueue.html">FrameQueue</a> <a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">  227</a></span>&#160;    <a class="code" href="structFrameQueue.html">FrameQueue</a> <a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">  228</a></span>&#160;    <a class="code" href="structFrameQueue.html">FrameQueue</a> <a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">  230</a></span>&#160;    <a class="code" href="structDecoder.html">Decoder</a> <a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">  231</a></span>&#160;    <a class="code" href="structDecoder.html">Decoder</a> <a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">  232</a></span>&#160;    <a class="code" href="structDecoder.html">Decoder</a> <a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">  234</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structVideoState.html#a32e2a00023c77f85fa6d781a6b4a9f16">  236</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a32e2a00023c77f85fa6d781a6b4a9f16">av_sync_type</a>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">  238</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a>;</div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="structVideoState.html#ac0784c264a50efe01145667f4124e65d">  239</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#ac0784c264a50efe01145667f4124e65d">audio_clock_serial</a>;</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="structVideoState.html#a5a38557686964f8ad1c48de94414b133">  240</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#a5a38557686964f8ad1c48de94414b133">audio_diff_cum</a>; <span class="comment">/* used for AV difference average computation */</span></div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="structVideoState.html#a63f0b85be8b74e13eacbc44cca07816c">  241</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#a63f0b85be8b74e13eacbc44cca07816c">audio_diff_avg_coef</a>;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="structVideoState.html#a5def703507c8ca5ac806166b1f22ea28">  242</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#a5def703507c8ca5ac806166b1f22ea28">audio_diff_threshold</a>;</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="structVideoState.html#a983a5e219b6f873afb0e7137cc1936e8">  243</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a983a5e219b6f873afb0e7137cc1936e8">audio_diff_avg_count</a>;</div><div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">  244</a></span>&#160;    <a class="code" href="structAVStream.html">AVStream</a> *<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">  245</a></span>&#160;    <a class="code" href="structPacketQueue.html">PacketQueue</a> <a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structVideoState.html#a8a075ca48d17c746b9b1ee9a15bd60ca">  246</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a8a075ca48d17c746b9b1ee9a15bd60ca">audio_hw_buf_size</a>;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">  247</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a>;</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">  248</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">audio_buf1</a>;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">  249</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">audio_buf_size</a>; <span class="comment">/* in bytes */</span></div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structVideoState.html#ac566552a44eea599642d781691738197">  250</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#ac566552a44eea599642d781691738197">audio_buf1_size</a>;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">  251</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a>; <span class="comment">/* in bytes */</span></div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structVideoState.html#ae20bb85c4d7f28f47af1c12a7aa5043c">  252</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#ae20bb85c4d7f28f47af1c12a7aa5043c">audio_write_buf_size</a>;</div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">  253</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">audio_volume</a>;</div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">  254</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">muted</a>;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">  255</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structAudioParams.html">AudioParams</a> audio_src;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keyword">struct </span><a class="code" href="structAudioParams.html">AudioParams</a> audio_filter_src;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">  259</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structAudioParams.html">AudioParams</a> audio_tgt;</div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">  260</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structSwrContext.html">SwrContext</a> *<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="structVideoState.html#a859e5bd5722c4f6f9a0d2c65b1bc82e9">  261</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a859e5bd5722c4f6f9a0d2c65b1bc82e9">frame_drops_early</a>;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="structVideoState.html#a67448cbb7407c79050f6ca318131720b">  262</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a67448cbb7407c79050f6ca318131720b">frame_drops_late</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="structVideoState.html#a950d812c3d72d9a0511f9473af774658">  264</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="structVideoState.html#a950d812c3d72d9a0511f9473af774658">ShowMode</a> {</div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="structVideoState.html#a950d812c3d72d9a0511f9473af774658ac4f177d75f0d16c5a53db7a66274897f">  265</a></span>&#160;        SHOW_MODE_NONE = -1, SHOW_MODE_VIDEO = 0, <a class="code" href="structVideoState.html#a950d812c3d72d9a0511f9473af774658ac4f177d75f0d16c5a53db7a66274897f">SHOW_MODE_WAVES</a>, SHOW_MODE_RDFT, SHOW_MODE_NB</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    } <a class="code" href="ffplay_8c.html#a66b572e55c43891529a9a96f1af5099c">show_mode</a>;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">  267</a></span>&#160;    int16_t sample_array[<a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>];</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">  268</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">sample_array_index</a>;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structVideoState.html#a15497e11c41a2a246ff4aff63fa07dbc">  269</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a15497e11c41a2a246ff4aff63fa07dbc">last_i_start</a>;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">  270</a></span>&#160;    <a class="code" href="structRDFTContext.html">RDFTContext</a> *<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a>;</div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="structVideoState.html#a5bcc4f59ca5e6eb3e005820f55e7f0ea">  271</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a5bcc4f59ca5e6eb3e005820f55e7f0ea">rdft_bits</a>;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">  272</a></span>&#160;    <a class="code" href="group__lavc__fft.html#gaa306dc16df543b25d9910debc3f76b96">FFTSample</a> *<a class="code" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">rdft_data</a>;</div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="structVideoState.html#a163cce0905379b610b1574d62f0172c8">  273</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a163cce0905379b610b1574d62f0172c8">xpos</a>;</div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="structVideoState.html#ac9a76f6ed7277ec4cf329b9c088ab287">  274</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#ac9a76f6ed7277ec4cf329b9c088ab287">last_vis_time</a>;</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">  275</a></span>&#160;    SDL_Texture *<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>;</div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">  276</a></span>&#160;    SDL_Texture *<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">  278</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a>;</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">  279</a></span>&#160;    <a class="code" href="structAVStream.html">AVStream</a> *<a class="code" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">subtitle_st</a>;</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">  280</a></span>&#160;    <a class="code" href="structPacketQueue.html">PacketQueue</a> <a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">  282</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a>;</div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="structVideoState.html#a78d6d8f53054c1f4799e23ae1927e6dd">  283</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#a78d6d8f53054c1f4799e23ae1927e6dd">frame_last_returned_time</a>;</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="structVideoState.html#abf7f37ec79ebcb5247e82f9f50f3c38d">  284</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#abf7f37ec79ebcb5247e82f9f50f3c38d">frame_last_filter_delay</a>;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">  285</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a>;</div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">  286</a></span>&#160;    <a class="code" href="structAVStream.html">AVStream</a> *<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">  287</a></span>&#160;    <a class="code" href="structPacketQueue.html">PacketQueue</a> <a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>;</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="structVideoState.html#a72cada3134dac1118f0762ba7fbdb6ab">  288</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structVideoState.html#a72cada3134dac1118f0762ba7fbdb6ab">max_frame_duration</a>;      <span class="comment">// maximum duration of a frame - above this, we consider the jump a timestamp discontinuity</span></div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="structVideoState.html#a610bf21d59f7c6b502dc24079abc37db">  289</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structSwsContext.html">SwsContext</a> *<a class="code" href="structVideoState.html#a610bf21d59f7c6b502dc24079abc37db">img_convert_ctx</a>;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">  290</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structSwsContext.html">SwsContext</a> *<a class="code" href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">sub_convert_ctx</a>;</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">  291</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">eof</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">  293</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="structVideoState.html#a8d2a6affd3cbc2a20249c8acf883d6f7">  294</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, xleft, <a class="code" href="structVideoState.html#a8d2a6affd3cbc2a20249c8acf883d6f7">ytop</a>;</div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="structVideoState.html#a82f3fa623064948a331ca2eda977d974">  295</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#a82f3fa623064948a331ca2eda977d974">step</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">int</span> vfilter_idx;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *in_video_filter;   <span class="comment">// the first filter in the video chain</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *out_video_filter;  <span class="comment">// the last filter in the video chain</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *in_audio_filter;   <span class="comment">// the first filter in the audio chain</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *out_audio_filter;  <span class="comment">// the last filter in the audio chain</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="structAVFilterGraph.html">AVFilterGraph</a> *agraph;              <span class="comment">// audio filter graph</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="structVideoState.html#ac00f66760b47071a9db6e3a2c1b2dc5d">  306</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structVideoState.html#ac00f66760b47071a9db6e3a2c1b2dc5d">last_video_stream</a>, last_audio_stream, last_subtitle_stream;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">  308</a></span>&#160;    SDL_cond *<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;} <a class="code" href="structVideoState.html">VideoState</a>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">/* options specified by the user */</span></div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa4a9d80cbccb6f2db4833665108ed05c">  312</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structAVInputFormat.html">AVInputFormat</a> *<a class="code" href="ffplay_8c.html#aa4a9d80cbccb6f2db4833665108ed05c">file_iformat</a>;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">  313</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">  314</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a>;</div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a113c3942838492268f7612ab67999b44">  315</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a113c3942838492268f7612ab67999b44">default_width</a>  = 640;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a04c1b4abd3e0ad1146519ad4cdc7e914">  316</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a04c1b4abd3e0ad1146519ad4cdc7e914">default_height</a> = 480;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa4d434a8b93410ea0ed660e48dac41c6">  317</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aa4d434a8b93410ea0ed660e48dac41c6">screen_width</a>  = 0;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a3b4a1bd850991355b91c7bfc15247d49">  318</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a3b4a1bd850991355b91c7bfc15247d49">screen_height</a> = 0;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aeb63829233379523f0b199931e546001">  319</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aeb63829233379523f0b199931e546001">audio_disable</a>;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a351d6f966d54613c33de018b8b7c2ad7">  320</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a351d6f966d54613c33de018b8b7c2ad7">video_disable</a>;</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a46f678005768f8e888b4f1b1c460d41c">  321</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a46f678005768f8e888b4f1b1c460d41c">subtitle_disable</a>;</div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">  322</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a>] = {0};</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">  323</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a> = -1;</div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">  324</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">display_disable</a>;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">  325</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a> = 100;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a6768a966a1f5b884d86d910a5fc45fc4">  326</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a6768a966a1f5b884d86d910a5fc45fc4">show_status</a> = 1;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a4de645858d1c582d871644b355266130">  327</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a4de645858d1c582d871644b355266130">av_sync_type</a> = <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>;</div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">  328</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">  329</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa18328079ae64794c5c9af8b32901004">  330</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aa18328079ae64794c5c9af8b32901004">fast</a> = 0;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">  331</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">genpts</a> = 0;</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa17db53707ff07836c83b270c7613c1f">  332</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aa17db53707ff07836c83b270c7613c1f">lowres</a> = 0;</div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a46e22ec3f8bc3e64701f3470e9874a5d">  333</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a46e22ec3f8bc3e64701f3470e9874a5d">decoder_reorder_pts</a> = -1;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a735d0125ea56ba80cdf2742b765f8ea5">  334</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a735d0125ea56ba80cdf2742b765f8ea5">autoexit</a>;</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ad29c5271508d71de584dc96fec8fa31d">  335</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ad29c5271508d71de584dc96fec8fa31d">exit_on_keydown</a>;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa49ebbd788965b0f9cdef91d47a2a659">  336</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aa49ebbd788965b0f9cdef91d47a2a659">exit_on_mousedown</a>;</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ad667f040f2932c8097435492fbd10d76">  337</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ad667f040f2932c8097435492fbd10d76">loop</a> = 1;</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">  338</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">framedrop</a> = -1;</div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a1826741c5819eefb25ea63427304e4b9">  339</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a1826741c5819eefb25ea63427304e4b9">infinite_buffer</a> = -1;</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a66b572e55c43891529a9a96f1af5099c">  340</a></span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> ShowMode <a class="code" href="ffplay_8c.html#a66b572e55c43891529a9a96f1af5099c">show_mode</a> = SHOW_MODE_NONE;</div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a765905fd1694893cf8523999e58c88c6">  341</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ffplay_8c.html#a765905fd1694893cf8523999e58c88c6">audio_codec_name</a>;</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ae11ee1a372bd6516e484c0643d450e04">  342</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ffplay_8c.html#ae11ee1a372bd6516e484c0643d450e04">subtitle_codec_name</a>;</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a591a324cad0ca94e4a84dbdf229e5a02">  343</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ffplay_8c.html#a591a324cad0ca94e4a84dbdf229e5a02">video_codec_name</a>;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aefe253b88dd984bfdf762bff02f1c8d5">  344</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#aefe253b88dd984bfdf762bff02f1c8d5">rdftspeed</a> = 0.02;</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa08b1ef042a5d640455e981851d96af9">  345</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="ffplay_8c.html#aa08b1ef042a5d640455e981851d96af9">cursor_last_shown</a>;</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ae074c197aa9a728d037468a19d9817e7">  346</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ae074c197aa9a728d037468a19d9817e7">cursor_hidden</a> = 0;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> **vfilters_list = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> nb_vfilters = 0;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *afilters = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a058bdabea08c743fd59a5ec26fa88bb7">  352</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a058bdabea08c743fd59a5ec26fa88bb7">autorotate</a> = 1;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/* current context */</span></div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">  355</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">is_full_screen</a>;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">  356</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">audio_callback_time</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a452a24ba79d25d9269e44af0632788bc">  358</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structAVPacket.html">AVPacket</a> <a class="code" href="ffplay_8c.html#a452a24ba79d25d9269e44af0632788bc">flush_pkt</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a1d23f3b4b0b5c1d96380f0a42ffa1890">  360</a></span>&#160;<span class="preprocessor">#define FF_ALLOC_EVENT   (SDL_USEREVENT)</span></div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ac1040cd1bf00985c6ed227b77c9b73b2">  361</a></span>&#160;<span class="preprocessor">#define FF_QUIT_EVENT    (SDL_USEREVENT + 2)</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">  363</a></span>&#160;<span class="keyword">static</span> SDL_Window *<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>;</div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">  364</a></span>&#160;<span class="keyword">static</span> SDL_Renderer *<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> opt_add_vfilter(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="cmdutils_8h.html#aa75501e4e249657d5f0df6d7e8645d4f">GROW_ARRAY</a>(vfilters_list, nb_vfilters);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    vfilters_list[nb_vfilters - 1] = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ad24afec29aebfd9eb8a5e775765fdf52">  376</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ad24afec29aebfd9eb8a5e775765fdf52">cmp_audio_fmts</a>(<span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> fmt1, int64_t channel_count1,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                   <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> fmt2, int64_t channel_count2)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">/* If channel count == 1, planar and non-planar formats are the same */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (channel_count1 == 1 &amp;&amp; channel_count2 == 1)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__sampfmts.html#ga7817ec0eff4dc6fc0962f31e6d138bca">av_get_packed_sample_fmt</a>(fmt1) != <a class="code" href="group__lavu__sampfmts.html#ga7817ec0eff4dc6fc0962f31e6d138bca">av_get_packed_sample_fmt</a>(fmt2);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> channel_count1 != channel_count2 || fmt1 != fmt2;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a176a1c44dc8ca94bead4fab557cc4901">  387</a></span>&#160;int64_t <a class="code" href="ffplay_8c.html#a176a1c44dc8ca94bead4fab557cc4901">get_valid_channel_layout</a>(int64_t channel_layout, <span class="keywordtype">int</span> channels)</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;{</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (channel_layout &amp;&amp; <a class="code" href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a>(channel_layout) == channels)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">return</span> channel_layout;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#ac9e58b761a99bd638eb0a8a280eafe9b">free_picture</a>(<a class="code" href="structFrame.html">Frame</a> *vp);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="ffplay_8c.html#abfd48588ef15bcb8aaaf3e7255272231">  397</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#abfd48588ef15bcb8aaaf3e7255272231">packet_queue_put_private</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q, <a class="code" href="structAVPacket.html">AVPacket</a> *<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>)</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="structMyAVPacketList.html">MyAVPacketList</a> *pkt1;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;       <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    pkt1 = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="structMyAVPacketList.html">MyAVPacketList</a>));</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (!pkt1)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a> = *<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    pkt1-&gt;<a class="code" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">next</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (pkt == &amp;flush_pkt)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        q-&gt;<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>++;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a> = q-&gt;<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">last_pkt</a>)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        q-&gt;<a class="code" href="structPacketQueue.html#a7d4f64a693907168a3a3426671e23624">first_pkt</a> = pkt1;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        q-&gt;<a class="code" href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">last_pkt</a>-&gt;<a class="code" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">next</a> = pkt1;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">last_pkt</a> = pkt1;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a>++;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a> += pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>.<a class="code" href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> + <span class="keyword">sizeof</span>(*pkt1);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">duration</a> += pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>.<a class="code" href="structAVPacket.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">/* XXX: should duplicate packet data in DV case */</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    SDL_CondSignal(q-&gt;<a class="code" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">cond</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">  426</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q, <a class="code" href="structAVPacket.html">AVPacket</a> *<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    SDL_LockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    ret = <a class="code" href="ffplay_8c.html#abfd48588ef15bcb8aaaf3e7255272231">packet_queue_put_private</a>(q, pkt);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    SDL_UnlockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (pkt != &amp;flush_pkt &amp;&amp; ret &lt; 0)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(pkt);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="ffplay_8c.html#afd99073713bccafe07d746a1834533b1">  440</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#afd99073713bccafe07d746a1834533b1">packet_queue_put_nullpacket</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q, <span class="keywordtype">int</span> stream_index)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="structAVPacket.html">AVPacket</a> pkt1, *<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a> = &amp;pkt1;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(pkt);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    pkt-&gt;<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    pkt-&gt;<a class="code" href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = 0;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    pkt-&gt;<a class="code" href="structAVPacket.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> = stream_index;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(q, pkt);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/* packet queue handling */</span></div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a7e7701f9560d9154b0c036d9ca2b36f1">  451</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a7e7701f9560d9154b0c036d9ca2b36f1">packet_queue_init</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    memset(q, 0, <span class="keyword">sizeof</span>(<a class="code" href="structPacketQueue.html">PacketQueue</a>));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a> = SDL_CreateMutex();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateMutex(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">cond</a> = SDL_CreateCond();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">cond</a>) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateCond(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a> = 1;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">  468</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">packet_queue_flush</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="structMyAVPacketList.html">MyAVPacketList</a> *<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>, *pkt1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    SDL_LockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">for</span> (pkt = q-&gt;<a class="code" href="structPacketQueue.html#a7d4f64a693907168a3a3426671e23624">first_pkt</a>; pkt; pkt = pkt1) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        pkt1 = pkt-&gt;<a class="code" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">next</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;pkt-&gt;<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;pkt);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">last_pkt</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#a7d4f64a693907168a3a3426671e23624">first_pkt</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a> = 0;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a> = 0;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">duration</a> = 0;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    SDL_UnlockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a47c7aa0e20b4cd776ac95a244995e2e2">  486</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a47c7aa0e20b4cd776ac95a244995e2e2">packet_queue_destroy</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">packet_queue_flush</a>(q);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    SDL_DestroyMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    SDL_DestroyCond(q-&gt;<a class="code" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">cond</a>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a5cfd9182ab1eea455e4c4f681973e504">  493</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a5cfd9182ab1eea455e4c4f681973e504">packet_queue_abort</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;{</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    SDL_LockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a> = 1;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    SDL_CondSignal(q-&gt;<a class="code" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">cond</a>);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    SDL_UnlockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ac502ea61a2fcb3652a004c39e747574a">  504</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#ac502ea61a2fcb3652a004c39e747574a">packet_queue_start</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q)</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    SDL_LockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    q-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a> = 0;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="ffplay_8c.html#abfd48588ef15bcb8aaaf3e7255272231">packet_queue_put_private</a>(q, &amp;flush_pkt);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    SDL_UnlockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/* return &lt; 0 if aborted, 0 if no packet and &gt; 0 if packet.  */</span></div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a99497590e7ede5be02ff488ae763de73">  513</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a99497590e7ede5be02ff488ae763de73">packet_queue_get</a>(<a class="code" href="structPacketQueue.html">PacketQueue</a> *q, <a class="code" href="structAVPacket.html">AVPacket</a> *<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2dct_8c.html#a376a2fac1a6f6b3f6efa31fed92176e7">block</a>, <span class="keywordtype">int</span> *<a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>)</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="structMyAVPacketList.html">MyAVPacketList</a> *pkt1;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    SDL_LockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span> (q-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            ret = -1;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        pkt1 = q-&gt;<a class="code" href="structPacketQueue.html#a7d4f64a693907168a3a3426671e23624">first_pkt</a>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (pkt1) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            q-&gt;<a class="code" href="structPacketQueue.html#a7d4f64a693907168a3a3426671e23624">first_pkt</a> = pkt1-&gt;<a class="code" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">next</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">if</span> (!q-&gt;<a class="code" href="structPacketQueue.html#a7d4f64a693907168a3a3426671e23624">first_pkt</a>)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                q-&gt;<a class="code" href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">last_pkt</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            q-&gt;<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a>--;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            q-&gt;<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a> -= pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>.<a class="code" href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> + <span class="keyword">sizeof</span>(*pkt1);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            q-&gt;<a class="code" href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">duration</a> -= pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>.<a class="code" href="structAVPacket.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            *pkt = pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">if</span> (serial)</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                *serial = pkt1-&gt;<a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(pkt1);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            ret = 1;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!block) {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            ret = 0;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            SDL_CondWait(q-&gt;<a class="code" href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">cond</a>, q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    SDL_UnlockMutex(q-&gt;<a class="code" href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">mutex</a>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa8ec890d4b82ec96dbc5db8ab81cbe95">  551</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aa8ec890d4b82ec96dbc5db8ab81cbe95">decoder_init</a>(<a class="code" href="structDecoder.html">Decoder</a> *d, <a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx, <a class="code" href="structPacketQueue.html">PacketQueue</a> *queue, SDL_cond *empty_queue_cond) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    memset(d, 0, <span class="keyword">sizeof</span>(<a class="code" href="structDecoder.html">Decoder</a>));</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a> = avctx;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a> = queue;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    d-&gt;<a class="code" href="structDecoder.html#a02e8fbcac6b3a6421da001f8cb77c8a5">empty_queue_cond</a> = empty_queue_cond;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    d-&gt;<a class="code" href="structDecoder.html#a1a28eb68d3e5d3ae20c286e5d32da4f1">start_pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a09fd32cf1173473a29fd8a3d9eb3a785">  559</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a09fd32cf1173473a29fd8a3d9eb3a785">decoder_decode_frame</a>(<a class="code" href="structDecoder.html">Decoder</a> *d, <a class="code" href="structAVFrame.html">AVFrame</a> *<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>, <a class="code" href="structAVSubtitle.html">AVSubtitle</a> *sub) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordtype">int</span> got_frame = 0;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>)</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">packet_pending</a> || d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>-&gt;<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a> != d-&gt;<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="structAVPacket.html">AVPacket</a> <a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">do</span> {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <span class="keywordflow">if</span> (d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>-&gt;<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a> == 0)</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    SDL_CondSignal(d-&gt;<a class="code" href="structDecoder.html#a02e8fbcac6b3a6421da001f8cb77c8a5">empty_queue_cond</a>);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a99497590e7ede5be02ff488ae763de73">packet_queue_get</a>(d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>, &amp;pkt, 1, &amp;d-&gt;<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>) &lt; 0)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keywordflow">if</span> (pkt.<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> == flush_pkt.<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    <a class="code" href="group__lavc__misc.html#gaf60b0e076f822abcb2700eb601d352a6">avcodec_flush_buffers</a>(d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    d-&gt;<a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a> = 0;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    d-&gt;<a class="code" href="structDecoder.html#a2e69e5492232ac8681d531b59baa84a5">next_pts</a> = d-&gt;<a class="code" href="structDecoder.html#a1a28eb68d3e5d3ae20c286e5d32da4f1">start_pts</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    d-&gt;<a class="code" href="structDecoder.html#aad6c09049ffe63ec332f60d0d7c4dc3e">next_pts_tb</a> = d-&gt;<a class="code" href="structDecoder.html#ab6209d8e965103ce5aeab564c71e9e4c">start_pts_tb</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            } <span class="keywordflow">while</span> (pkt.<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> == flush_pkt.<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> || d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>-&gt;<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a> != d-&gt;<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;d-&gt;<a class="code" href="structDecoder.html#aa97daf2313af918248d4cb02f27f3207">pkt</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a> = d-&gt;<a class="code" href="structDecoder.html#aa97daf2313af918248d4cb02f27f3207">pkt</a> = <a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            d-&gt;<a class="code" href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">packet_pending</a> = 1;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">switch</span> (d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a>) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                ret = <a class="code" href="group__lavc__decoding.html#ga3ac51525b7ad8bca4ced9f3446e96532">avcodec_decode_video2</a>(d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>, frame, &amp;got_frame, &amp;d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="keywordflow">if</span> (got_frame) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a46e22ec3f8bc3e64701f3470e9874a5d">decoder_reorder_pts</a> == -1) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                        frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> = <a class="code" href="group__lavu__frame.html#gacb9d9082c10e625e51a68caceabd4458">av_frame_get_best_effort_timestamp</a>(frame);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a46e22ec3f8bc3e64701f3470e9874a5d">decoder_reorder_pts</a>) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> = frame-&gt;<a class="code" href="structAVFrame.html#aa52951f35ec9e303d3dfeb4b3e44248a">pkt_dts</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                ret = <a class="code" href="group__lavc__decoding.html#gaaa1fbe477c04455cdc7a994090100db4">avcodec_decode_audio4</a>(d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>, frame, &amp;got_frame, &amp;d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">if</span> (got_frame) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    <a class="code" href="structAVRational.html">AVRational</a> <a class="code" href="regdef_8h.html#a70597aa9a5baaa4676f9f8cbe306dae0">tb</a> = (<a class="code" href="structAVRational.html">AVRational</a>){1, frame-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>};</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                        frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a>, <a class="code" href="group__lavc__core.html#ga99afa816f3fc9251ecf54ad305d43be3">av_codec_get_pkt_timebase</a>(d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>), tb);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (d-&gt;<a class="code" href="structDecoder.html#a2e69e5492232ac8681d531b59baa84a5">next_pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                        frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(d-&gt;<a class="code" href="structDecoder.html#a2e69e5492232ac8681d531b59baa84a5">next_pts</a>, d-&gt;<a class="code" href="structDecoder.html#aad6c09049ffe63ec332f60d0d7c4dc3e">next_pts_tb</a>, tb);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                        d-&gt;<a class="code" href="structDecoder.html#a2e69e5492232ac8681d531b59baa84a5">next_pts</a> = frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> + frame-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                        d-&gt;<a class="code" href="structDecoder.html#aad6c09049ffe63ec332f60d0d7c4dc3e">next_pts_tb</a> = <a class="code" href="regdef_8h.html#a70597aa9a5baaa4676f9f8cbe306dae0">tb</a>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                ret = <a class="code" href="group__lavc__decoding.html#ga47db1b7f294b9f92684401b9c66a7c4b">avcodec_decode_subtitle2</a>(d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>, sub, &amp;got_frame, &amp;d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            d-&gt;<a class="code" href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">packet_pending</a> = 0;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>.<a class="code" href="structAVPacket.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> =</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>.<a class="code" href="structAVPacket.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="keywordflow">if</span> (d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>.<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <span class="keywordflow">if</span> (d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    ret = d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>.<a class="code" href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>.<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> += ret;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>.<a class="code" href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> -= ret;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <span class="keywordflow">if</span> (d-&gt;<a class="code" href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">pkt_temp</a>.<a class="code" href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &lt;= 0)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    d-&gt;<a class="code" href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">packet_pending</a> = 0;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <span class="keywordflow">if</span> (!got_frame) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    d-&gt;<a class="code" href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">packet_pending</a> = 0;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                    d-&gt;<a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a> = d-&gt;<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    } <span class="keywordflow">while</span> (!got_frame &amp;&amp; !d-&gt;<a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">return</span> got_frame;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aabb3b0520d148b851020a50ad39694fb">  641</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aabb3b0520d148b851020a50ad39694fb">decoder_destroy</a>(<a class="code" href="structDecoder.html">Decoder</a> *d) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;d-&gt;<a class="code" href="structDecoder.html#aa97daf2313af918248d4cb02f27f3207">pkt</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a>(&amp;d-&gt;<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a88fa7a9ea6d59fcb243fd5de55ab8631">  646</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a88fa7a9ea6d59fcb243fd5de55ab8631">frame_queue_unref_item</a>(<a class="code" href="structFrame.html">Frame</a> *vp)</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a>(vp-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="group__lavc__core.html#gaa2c3e02a761d9fc0c5c9b2340408c332">avsubtitle_free</a>(&amp;vp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a855ab2375fbb1acfb5b52096dafafb72">  652</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a855ab2375fbb1acfb5b52096dafafb72">frame_queue_init</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f, <a class="code" href="structPacketQueue.html">PacketQueue</a> *pktq, <span class="keywordtype">int</span> max_size, <span class="keywordtype">int</span> keep_last)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    memset(f, 0, <span class="keyword">sizeof</span>(<a class="code" href="structFrameQueue.html">FrameQueue</a>));</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (!(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a> = SDL_CreateMutex())) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateMutex(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> (!(f-&gt;<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a> = SDL_CreateCond())) {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateCond(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    f-&gt;<a class="code" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">pktq</a> = pktq;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(max_size, <a class="code" href="ffplay_8c.html#ad414a35ed512b3ce9c3721b119f3c69d">FRAME_QUEUE_SIZE</a>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    f-&gt;<a class="code" href="structFrameQueue.html#a3bde6e5786f5bfd9040be752f86395ac">keep_last</a> = !!keep_last;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>; i++)</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">if</span> (!(f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[i].<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a> = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>()))</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;}</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a70ec4ee0dcbfd783c6dae3cd2b561615">  673</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a70ec4ee0dcbfd783c6dae3cd2b561615">frame_queue_destory</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;{</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>; i++) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="structFrame.html">Frame</a> *vp = &amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[i];</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <a class="code" href="ffplay_8c.html#a88fa7a9ea6d59fcb243fd5de55ab8631">frame_queue_unref_item</a>(vp);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;vp-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="ffplay_8c.html#ac9e58b761a99bd638eb0a8a280eafe9b">free_picture</a>(vp);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    SDL_DestroyMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    SDL_DestroyCond(f-&gt;<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="ffplay_8c.html#adc63167ca22b6651f100f369a7e48e03">  686</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#adc63167ca22b6651f100f369a7e48e03">frame_queue_signal</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;{</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    SDL_LockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    SDL_CondSignal(f-&gt;<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    SDL_UnlockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a00a565dcbcefdce2103a8d9265a95661">  693</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="ffplay_8c.html#a00a565dcbcefdce2103a8d9265a95661">frame_queue_peek</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">return</span> &amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[(f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a> + f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a>) % f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>];</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a44a40fe2c4bc2dd0c80c3215908ff7ae">  698</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="ffplay_8c.html#a44a40fe2c4bc2dd0c80c3215908ff7ae">frame_queue_peek_next</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;{</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">return</span> &amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[(f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a> + f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a> + 1) % f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>];</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a066c2b1eca5ea454f7ce3862f4939954">  703</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="ffplay_8c.html#a066c2b1eca5ea454f7ce3862f4939954">frame_queue_peek_last</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">return</span> &amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a>];</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a2df97f65b455c4a9af5b15f33cab4ed8">  708</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="ffplay_8c.html#a2df97f65b455c4a9af5b15f33cab4ed8">frame_queue_peek_writable</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">/* wait until we have space to put a new frame */</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    SDL_LockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">while</span> (f-&gt;<a class="code" href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">size</a> &gt;= f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a> &amp;&amp;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;           !f-&gt;<a class="code" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">pktq</a>-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>) {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        SDL_CondWait(f-&gt;<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>, f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    SDL_UnlockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">pktq</a>-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> &amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[f-&gt;<a class="code" href="structFrameQueue.html#aa0c7135c7dc240f4beaad18e258574ab">windex</a>];</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a7aff76f8071bb6a27cad2772b5f2799d">  724</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="ffplay_8c.html#a7aff76f8071bb6a27cad2772b5f2799d">frame_queue_peek_readable</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">/* wait until we have a readable a new frame */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    SDL_LockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">while</span> (f-&gt;<a class="code" href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">size</a> - f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a> &lt;= 0 &amp;&amp;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;           !f-&gt;<a class="code" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">pktq</a>-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        SDL_CondWait(f-&gt;<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>, f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    SDL_UnlockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">pktq</a>-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>)</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">return</span> &amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[(f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a> + f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a>) % f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>];</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a9b2e8b0d879d7179f62a94edf7ab92e7">  740</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a9b2e8b0d879d7179f62a94edf7ab92e7">frame_queue_push</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (++f-&gt;<a class="code" href="structFrameQueue.html#aa0c7135c7dc240f4beaad18e258574ab">windex</a> == f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        f-&gt;<a class="code" href="structFrameQueue.html#aa0c7135c7dc240f4beaad18e258574ab">windex</a> = 0;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    SDL_LockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    f-&gt;<a class="code" href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">size</a>++;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    SDL_CondSignal(f-&gt;<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    SDL_UnlockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;}</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">  750</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">frame_queue_next</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;{</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="structFrameQueue.html#a3bde6e5786f5bfd9040be752f86395ac">keep_last</a> &amp;&amp; !f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a>) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a> = 1;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="ffplay_8c.html#a88fa7a9ea6d59fcb243fd5de55ab8631">frame_queue_unref_item</a>(&amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a>]);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (++f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a> == f-&gt;<a class="code" href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">max_size</a>)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a> = 0;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    SDL_LockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    f-&gt;<a class="code" href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">size</a>--;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    SDL_CondSignal(f-&gt;<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    SDL_UnlockMutex(f-&gt;<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">/* return the number of undisplayed frames in the queue */</span></div><div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">  766</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;{</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">return</span> f-&gt;<a class="code" href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">size</a> - f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">/* return last shown position */</span></div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a720519e85482190779a6adcb941e3605">  772</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="ffplay_8c.html#a720519e85482190779a6adcb941e3605">frame_queue_last_pos</a>(<a class="code" href="structFrameQueue.html">FrameQueue</a> *f)</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;{</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="regdef_8h.html#ae771351dd440a8640270282362e338d0">fp</a> = &amp;f-&gt;<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[f-&gt;<a class="code" href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">rindex</a>];</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a> &amp;&amp; fp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> == f-&gt;<a class="code" href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">pktq</a>-&gt;<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">return</span> fp-&gt;<a class="code" href="structFrame.html#acb133932800fcbccbe5e3c8e6010ceb9">pos</a>;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a71f7c700f469c52253e516e737af1f83">  781</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a71f7c700f469c52253e516e737af1f83">decoder_abort</a>(<a class="code" href="structDecoder.html">Decoder</a> *d, <a class="code" href="structFrameQueue.html">FrameQueue</a> *fq)</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;{</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="ffplay_8c.html#a5cfd9182ab1eea455e4c4f681973e504">packet_queue_abort</a>(d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="ffplay_8c.html#adc63167ca22b6651f100f369a7e48e03">frame_queue_signal</a>(fq);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    SDL_WaitThread(d-&gt;<a class="code" href="structDecoder.html#a5dc52438ebc91ec6b928d402a82d7316">decoder_tid</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    d-&gt;<a class="code" href="structDecoder.html#a5dc52438ebc91ec6b928d402a82d7316">decoder_tid</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">packet_queue_flush</a>(d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a5418f9bead37938691fa4c3d3ab21e5e">  790</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a5418f9bead37938691fa4c3d3ab21e5e">fill_rectangle</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    SDL_Rect <a class="code" href="structrect.html">rect</a>;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    rect.<a class="code" href="structrect.html#ae6d18eea7dcbf097cb6ba264003617c7">x</a> = x;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    rect.y = y;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    rect.w = w;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    rect.h = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (w &amp;&amp; h)</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        SDL_RenderFillRect(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, &amp;rect);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ac9e58b761a99bd638eb0a8a280eafe9b">  801</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#ac9e58b761a99bd638eb0a8a280eafe9b">free_picture</a>(<a class="code" href="structFrame.html">Frame</a> *vp)</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;{</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;     <span class="keywordflow">if</span> (vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;         SDL_DestroyTexture(vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;         vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;     }</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ad469aefd27d479f71587e340b1fdbdeb">  809</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ad469aefd27d479f71587e340b1fdbdeb">realloc_texture</a>(SDL_Texture **texture, Uint32 new_format, <span class="keywordtype">int</span> new_width, <span class="keywordtype">int</span> <a class="code" href="avisynth__c_8h.html#afb62cae750fac4086418ac3808dff560">new_height</a>, SDL_BlendMode blendmode, <span class="keywordtype">int</span> init_texture)</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    Uint32 <a class="code" href="tests_2movenc_8c.html#a6bd2bb5fcc7628a640958994a22f997c">format</a>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordtype">int</span> access, w, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (SDL_QueryTexture(*texture, &amp;format, &amp;access, &amp;w, &amp;h) &lt; 0 || new_width != w || new_height != h || new_format != format) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordtype">void</span> *<a class="code" href="avisynth__c_8h.html#a5d41cf5ef2316b748ed36ffecb4d54bd">pixels</a>;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordtype">int</span> pitch;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        SDL_DestroyTexture(*texture);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span> (!(*texture = SDL_CreateTexture(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, new_format, SDL_TEXTUREACCESS_STREAMING, new_width, new_height)))</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">if</span> (SDL_SetTextureBlendMode(*texture, blendmode) &lt; 0)</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">if</span> (init_texture) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">if</span> (SDL_LockTexture(*texture, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;pixels, &amp;pitch) &lt; 0)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            memset(pixels, 0, pitch * new_height);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            SDL_UnlockTexture(*texture);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aeb1665eebe41255a3c1cfc51aeb15124">  831</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aeb1665eebe41255a3c1cfc51aeb15124">calculate_display_rect</a>(SDL_Rect *<a class="code" href="structrect.html">rect</a>,</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                                   <span class="keywordtype">int</span> scr_xleft, <span class="keywordtype">int</span> scr_ytop, <span class="keywordtype">int</span> scr_width, <span class="keywordtype">int</span> scr_height,</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                                   <span class="keywordtype">int</span> pic_width, <span class="keywordtype">int</span> pic_height, <a class="code" href="structAVRational.html">AVRational</a> pic_sar)</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;{</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordtype">float</span> aspect_ratio;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, x, y;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">if</span> (pic_sar.<a class="code" href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> == 0)</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        aspect_ratio = 0;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        aspect_ratio = <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(pic_sar);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">if</span> (aspect_ratio &lt;= 0.0)</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        aspect_ratio = 1.0;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    aspect_ratio *= (float)pic_width / (<span class="keywordtype">float</span>)pic_height;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="comment">/* XXX: we suppose the screen has a 1.0 pixel ratio */</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    height = scr_height;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    width = <a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(height * aspect_ratio) &amp; ~1;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (width &gt; scr_width) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        width = scr_width;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        height = <a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(width / aspect_ratio) &amp; ~1;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    x = (scr_width - <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>) / 2;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    y = (scr_height - <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>) / 2;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    rect-&gt;x = scr_xleft + x;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    rect-&gt;y = scr_ytop  + y;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    rect-&gt;w = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(width,  1);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    rect-&gt;h = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(height, 1);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a741cc06cf030e23e1fe90797eff1e283">  862</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a741cc06cf030e23e1fe90797eff1e283">upload_texture</a>(SDL_Texture *tex, <a class="code" href="structAVFrame.html">AVFrame</a> *<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>, <span class="keyword">struct</span> <a class="code" href="structSwsContext.html">SwsContext</a> **img_convert_ctx) {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">switch</span> (frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>:</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0] &lt; 0 || frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[1] &lt; 0 || frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[2] &lt; 0) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Negative linesize is not supported for YUV.\n&quot;</span>);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            ret = SDL_UpdateYUVTexture(tex, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, frame-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0], frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0],</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                                  frame-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[1], frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[1],</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                                                  frame-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[2], frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[2]);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a41c64e3682529dd5caca6f7d5d3c19c7">AV_PIX_FMT_BGRA</a>:</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0] &lt; 0) {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                ret = SDL_UpdateTexture(tex, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, frame-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0] + frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0] * (frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a> - 1), -frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0]);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                ret = SDL_UpdateTexture(tex, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, frame-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0], frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0]);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <span class="comment">/* This should only happen if we are not using avfilter... */</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            *img_convert_ctx = <a class="code" href="group__libsws.html#gadffa09f208a3eba7fa3a6b1f74ab77f7">sws_getCachedContext</a>(*img_convert_ctx,</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>, frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>, frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>, frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>, frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>,</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a41c64e3682529dd5caca6f7d5d3c19c7">AV_PIX_FMT_BGRA</a>, <a class="code" href="ffplay_8c.html#ab7ad84aa2be1ae7c9baeeec95f3aac0f">sws_flags</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">if</span> (*img_convert_ctx != <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avisynth__c_8h.html#a5d41cf5ef2316b748ed36ffecb4d54bd">pixels</a>[4];</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                <span class="keywordtype">int</span> pitch[4];</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                <span class="keywordflow">if</span> (!SDL_LockTexture(tex, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, (<span class="keywordtype">void</span> **)pixels, pitch)) {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    <a class="code" href="group__libsws.html#gae531c9754c9205d90ad6800015046d74">sws_scale</a>(*img_convert_ctx, (<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> * <span class="keyword">const</span> *)frame-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>, frame-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                              0, frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>, pixels, pitch);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    SDL_UnlockTexture(tex);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Cannot initialize the conversion context\n&quot;</span>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                ret = -1;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a41385bc260f9d76071283c4e6cdd9ca6">  903</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a41385bc260f9d76071283c4e6cdd9ca6">video_image_display</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *vp;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    SDL_Rect <a class="code" href="structrect.html">rect</a>;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    vp = <a class="code" href="ffplay_8c.html#a066c2b1eca5ea454f7ce3862f4939954">frame_queue_peek_last</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">if</span> (vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">subtitle_st</a>) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>) &gt; 0) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                sp = <a class="code" href="ffplay_8c.html#a00a565dcbcefdce2103a8d9265a95661">frame_queue_peek</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <span class="keywordflow">if</span> (vp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> &gt;= sp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> + ((<span class="keywordtype">float</span>) sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#a271f635c9e734310a43277f819159c68">start_display_time</a> / 1000)) {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    <span class="keywordflow">if</span> (!sp-&gt;<a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a>) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* <a class="code" href="avisynth__c_8h.html#a5d41cf5ef2316b748ed36ffecb4d54bd">pixels</a>[4];</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                        <span class="keywordtype">int</span> pitch[4];</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        <span class="keywordflow">if</span> (!sp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a> || !sp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>) {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                            sp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a> = vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                            sp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a> = vp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                        }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ad469aefd27d479f71587e340b1fdbdeb">realloc_texture</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>, SDL_PIXELFORMAT_ARGB8888, sp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>, sp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>, SDL_BLENDMODE_BLEND, 1) &lt; 0)</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                        <span class="keywordflow">for</span> (i = 0; i &lt; sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#a89491b1f6998eceb6221791fd50087df">num_rects</a>; i++) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                            <a class="code" href="structAVSubtitleRect.html">AVSubtitleRect</a> *sub_rect = sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#ad37c2315a9e36ed700f64cb971e22298">rects</a>[i];</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                            sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a0059c986f1ee3aab45c0f62f0709621b">x</a> = av_clip(sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a0059c986f1ee3aab45c0f62f0709621b">x</a>, 0, sp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a> );</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                            sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#ab9e5fdd0c592636abf46530b110311bb">y</a> = av_clip(sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#ab9e5fdd0c592636abf46530b110311bb">y</a>, 0, sp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                            sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a264a52200e34e138d47c76d7a431125a">w</a> = av_clip(sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a264a52200e34e138d47c76d7a431125a">w</a>, 0, sp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>  - sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a0059c986f1ee3aab45c0f62f0709621b">x</a>);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                            sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#afb3272792cfe659e9e788074d3328d3d">h</a> = av_clip(sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#afb3272792cfe659e9e788074d3328d3d">h</a>, 0, sp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a> - sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#ab9e5fdd0c592636abf46530b110311bb">y</a>);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                            is-&gt;<a class="code" href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">sub_convert_ctx</a> = <a class="code" href="group__libsws.html#gadffa09f208a3eba7fa3a6b1f74ab77f7">sws_getCachedContext</a>(is-&gt;<a class="code" href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">sub_convert_ctx</a>,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                                sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a264a52200e34e138d47c76d7a431125a">w</a>, sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#afb3272792cfe659e9e788074d3328d3d">h</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                                sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a264a52200e34e138d47c76d7a431125a">w</a>, sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#afb3272792cfe659e9e788074d3328d3d">h</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a41c64e3682529dd5caca6f7d5d3c19c7">AV_PIX_FMT_BGRA</a>,</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                0, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                            <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">sub_convert_ctx</a>) {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Cannot initialize the conversion context\n&quot;</span>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                            }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                            <span class="keywordflow">if</span> (!SDL_LockTexture(is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>, (SDL_Rect *)sub_rect, (<span class="keywordtype">void</span> **)pixels, pitch)) {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                                <a class="code" href="group__libsws.html#gae531c9754c9205d90ad6800015046d74">sws_scale</a>(is-&gt;<a class="code" href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">sub_convert_ctx</a>, (<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> * <span class="keyword">const</span> *)sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#aa5cbbdf0485ec8de1d8acfa437ca0254">data</a>, sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#adefe2c038e26cc9f1b5076476f1ffc96">linesize</a>,</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                                          0, sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#afb3272792cfe659e9e788074d3328d3d">h</a>, pixels, pitch);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                                SDL_UnlockTexture(is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                            }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                        sp-&gt;<a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a> = 1;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                    }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                } <span class="keywordflow">else</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                    sp = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <a class="code" href="ffplay_8c.html#aeb1665eebe41255a3c1cfc51aeb15124">calculate_display_rect</a>(&amp;rect, is-&gt;<a class="code" href="structVideoState.html#a35a0bdf36181c07b0126f045066a7c17">xleft</a>, is-&gt;<a class="code" href="structVideoState.html#a8d2a6affd3cbc2a20249c8acf883d6f7">ytop</a>, is-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>, is-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a>, vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>, vp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>, vp-&gt;<a class="code" href="structFrame.html#a0f65498689deb7dd84b6c8194532bfe6">sar</a>);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordflow">if</span> (!vp-&gt;<a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a>) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a741cc06cf030e23e1fe90797eff1e283">upload_texture</a>(vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>, vp-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#a610bf21d59f7c6b502dc24079abc37db">img_convert_ctx</a>) &lt; 0)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            vp-&gt;<a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a> = 1;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            vp-&gt;<a class="code" href="structFrame.html#af79450bf22d4052328c5c64ba80d14ce">flip_v</a> = vp-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0] &lt; 0;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        SDL_RenderCopyEx(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;rect, 0, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, vp-&gt;<a class="code" href="structFrame.html#af79450bf22d4052328c5c64ba80d14ce">flip_v</a> ? SDL_FLIP_VERTICAL : 0);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">if</span> (sp) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="preprocessor">#if USE_ONEPASS_SUBTITLE_RENDER</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            SDL_RenderCopy(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;rect);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="keywordtype">double</span> xratio = (double)rect.w / (<span class="keywordtype">double</span>)sp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="keywordtype">double</span> yratio = (double)rect.h / (<span class="keywordtype">double</span>)sp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#a89491b1f6998eceb6221791fd50087df">num_rects</a>; i++) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                SDL_Rect *sub_rect = (SDL_Rect*)sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#ad37c2315a9e36ed700f64cb971e22298">rects</a>[i];</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                SDL_Rect target = {.<a class="code" href="structAVSubtitleRect.html#a0059c986f1ee3aab45c0f62f0709621b">x</a> = rect.x + sub_rect-&gt;x * xratio,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                                   .y = rect.y + sub_rect-&gt;y * yratio,</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                                   .w = sub_rect-&gt;w * xratio,</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                                   .h = sub_rect-&gt;h * yratio};</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                SDL_RenderCopy(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>, sub_rect, &amp;target);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;}</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a8e10ac7ca47259999f6ebd1f54fdbeac">  986</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a8e10ac7ca47259999f6ebd1f54fdbeac">compute_mod</a>(<span class="keywordtype">int</span> <a class="code" href="h264pred__template_8c.html#a4124bc0a9335c27f086f24ba207a4912">a</a>, <span class="keywordtype">int</span> <a class="code" href="vf__curves_8c.html#a0a667482238bcca3ac201c1cd09c5072">b</a>)</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;{</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">return</span> a &lt; 0 ? a%b + b : a%<a class="code" href="vf__curves_8c.html#a0a667482238bcca3ac201c1cd09c5072">b</a>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a6f78060cdbb40aaf255dec0e76c40a7e">  991</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a6f78060cdbb40aaf255dec0e76c40a7e">video_audio_display</a>(<a class="code" href="structVideoState.html">VideoState</a> *<a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;{</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordtype">int</span> i, i_start, x, y1, y, ys, delay, <a class="code" href="avisynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, nb_display_channels;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a>, channels, <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>, h2;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    int64_t time_diff;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordtype">int</span> rdft_bits, nb_freq;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">for</span> (rdft_bits = 1; (1 &lt;&lt; rdft_bits) &lt; 2 * s-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a>; rdft_bits++)</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        ;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    nb_freq = 1 &lt;&lt; (rdft_bits - 1);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="comment">/* compute display index : center on currently output samples */</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    channels = s-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    nb_display_channels = channels;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>) {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordtype">int</span> data_used= s-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> == SHOW_MODE_WAVES ? s-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a> : (2*nb_freq);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        n = 2 * channels;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        delay = s-&gt;<a class="code" href="structVideoState.html#ae20bb85c4d7f28f47af1c12a7aa5043c">audio_write_buf_size</a>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        delay /= <a class="code" href="avisynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="comment">/* to be more precise, we take into account the time spent since</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">           the last buffer computation */</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">audio_callback_time</a>) {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            time_diff = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() - <a class="code" href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">audio_callback_time</a>;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            delay -= (time_diff * s-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>) / 1000000;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        delay += 2 * data_used;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">if</span> (delay &lt; data_used)</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            delay = data_used;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        i_start= x = <a class="code" href="ffplay_8c.html#a8e10ac7ca47259999f6ebd1f54fdbeac">compute_mod</a>(s-&gt;<a class="code" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">sample_array_index</a> - delay * channels, <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> == SHOW_MODE_WAVES) {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            h = INT_MIN;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; 1000; i += channels) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                <span class="keywordtype">int</span> idx = (<a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a> + x - i) % <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="h264pred__template_8c.html#a4124bc0a9335c27f086f24ba207a4912">a</a> = s-&gt;<a class="code" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">sample_array</a>[idx];</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="vf__curves_8c.html#a0a667482238bcca3ac201c1cd09c5072">b</a> = s-&gt;<a class="code" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">sample_array</a>[(idx + 4 * channels) % <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>];</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a> = s-&gt;<a class="code" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">sample_array</a>[(idx + 5 * channels) % <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>];</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <span class="keywordtype">int</span> d = s-&gt;<a class="code" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">sample_array</a>[(idx + 9 * channels) % <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>];</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                <span class="keywordtype">int</span> score = a - d;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <span class="keywordflow">if</span> (h &lt; score &amp;&amp; (b ^ c) &lt; 0) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                    h = score;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                    i_start = idx;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        s-&gt;<a class="code" href="structVideoState.html#a15497e11c41a2a246ff4aff63fa07dbc">last_i_start</a> = i_start;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        i_start = s-&gt;<a class="code" href="structVideoState.html#a15497e11c41a2a246ff4aff63fa07dbc">last_i_start</a>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> == SHOW_MODE_WAVES) {</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        SDL_SetRenderDrawColor(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, 255, 255, 255, 255);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="comment">/* total height for one channel */</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        h = s-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a> / nb_display_channels;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="comment">/* graph height / 2 */</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        h2 = (h * 9) / 20;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">for</span> (ch = 0; ch &lt; nb_display_channels; ch++) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            i = i_start + <a class="code" href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            y1 = s-&gt;<a class="code" href="structVideoState.html#a8d2a6affd3cbc2a20249c8acf883d6f7">ytop</a> + ch * h + (h / 2); <span class="comment">/* position of center line */</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; s-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>; x++) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                y = (s-&gt;<a class="code" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">sample_array</a>[i] * h2) &gt;&gt; 15;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                <span class="keywordflow">if</span> (y &lt; 0) {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                    y = -y;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    ys = y1 - y;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                    ys = y1;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <a class="code" href="ffplay_8c.html#a5418f9bead37938691fa4c3d3ab21e5e">fill_rectangle</a>(s-&gt;<a class="code" href="structVideoState.html#a35a0bdf36181c07b0126f045066a7c17">xleft</a> + x, ys, 1, y);</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                i += channels;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                <span class="keywordflow">if</span> (i &gt;= <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>)</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                    i -= <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        SDL_SetRenderDrawColor(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, 0, 0, 255, 255);</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">for</span> (ch = 1; ch &lt; nb_display_channels; ch++) {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            y = s-&gt;<a class="code" href="structVideoState.html#a8d2a6affd3cbc2a20249c8acf883d6f7">ytop</a> + ch * <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <a class="code" href="ffplay_8c.html#a5418f9bead37938691fa4c3d3ab21e5e">fill_rectangle</a>(s-&gt;<a class="code" href="structVideoState.html#a35a0bdf36181c07b0126f045066a7c17">xleft</a>, y, s-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>, 1);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ad469aefd27d479f71587e340b1fdbdeb">realloc_texture</a>(&amp;s-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>, SDL_PIXELFORMAT_ARGB8888, s-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>, s-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a>, SDL_BLENDMODE_NONE, 1) &lt; 0)</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        nb_display_channels= <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(nb_display_channels, 2);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">if</span> (rdft_bits != s-&gt;<a class="code" href="structVideoState.html#a5bcc4f59ca5e6eb3e005820f55e7f0ea">rdft_bits</a>) {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            <a class="code" href="group__lavc__fft.html#ga9d0be7a2253417ab4bb53a08bb70dfce">av_rdft_end</a>(s-&gt;<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a>);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(s-&gt;<a class="code" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">rdft_data</a>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            s-&gt;<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a> = <a class="code" href="group__lavc__fft.html#ga5259358e6ddb8f7d02513a3a3bcd3e54">av_rdft_init</a>(rdft_bits, <a class="code" href="group__lavc__fft.html#gga58a704747daba49afa3611cea218a24ba417b17dd8e9f755f06a9469826e4adc9">DFT_R2C</a>);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            s-&gt;<a class="code" href="structVideoState.html#a5bcc4f59ca5e6eb3e005820f55e7f0ea">rdft_bits</a> = rdft_bits;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            s-&gt;<a class="code" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">rdft_data</a> = <a class="code" href="tableprint__vlc_8h.html#a0bbd41ab30b4164703f00cb76142ffe8">av_malloc_array</a>(nb_freq, 4 *<span class="keyword">sizeof</span>(*s-&gt;<a class="code" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">rdft_data</a>));</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a> || !s-&gt;<a class="code" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">rdft_data</a>){</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to allocate buffers for RDFT, switching to waves display\n&quot;</span>);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            s-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> = SHOW_MODE_WAVES;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <a class="code" href="group__lavc__fft.html#gaa306dc16df543b25d9910debc3f76b96">FFTSample</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[2];</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            SDL_Rect <a class="code" href="structrect.html">rect</a> = {.<a class="code" href="structrect.html#ae6d18eea7dcbf097cb6ba264003617c7">x</a> = s-&gt;<a class="code" href="structVideoState.html#a163cce0905379b610b1574d62f0172c8">xpos</a>, .y = 0, .w = 1, .h = s-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a>};</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            uint32_t *<a class="code" href="avisynth__c_8h.html#a5d41cf5ef2316b748ed36ffecb4d54bd">pixels</a>;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordtype">int</span> pitch;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            <span class="keywordflow">for</span> (ch = 0; ch &lt; nb_display_channels; ch++) {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                data[<a class="code" href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a>] = s-&gt;<a class="code" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">rdft_data</a> + 2 * nb_freq * <a class="code" href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                i = i_start + <a class="code" href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a>;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <span class="keywordflow">for</span> (x = 0; x &lt; 2 * nb_freq; x++) {</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                    <span class="keywordtype">double</span> w = (x-nb_freq) * (1.0 / nb_freq);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                    data[<a class="code" href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a>][x] = s-&gt;<a class="code" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">sample_array</a>[i] * (1.0 - w * w);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                    i += channels;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                    <span class="keywordflow">if</span> (i &gt;= <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>)</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                        i -= <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <a class="code" href="group__lavc__fft.html#ga745b8757713a5a0f0347eddcc6ccc9a4">av_rdft_calc</a>(s-&gt;<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a>, data[ch]);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="comment">/* Least efficient way to do this, we should of course</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">             * directly access it but it is more than fast enough. */</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">if</span> (!SDL_LockTexture(s-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>, &amp;rect, (<span class="keywordtype">void</span> **)&amp;pixels, &amp;pitch)) {</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                pitch &gt;&gt;= 2;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                pixels += pitch * s-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                <span class="keywordflow">for</span> (y = 0; y &lt; s-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a>; y++) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                    <span class="keywordtype">double</span> w = 1 / sqrt(nb_freq);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="h264pred__template_8c.html#a4124bc0a9335c27f086f24ba207a4912">a</a> = sqrt(w * sqrt(data[0][2 * y + 0] * data[0][2 * y + 0] + data[0][2 * y + 1] * data[0][2 * y + 1]));</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="vf__curves_8c.html#a0a667482238bcca3ac201c1cd09c5072">b</a> = (nb_display_channels == 2 ) ? sqrt(w * <a class="code" href="libm_8h.html#a364edfcde984bdfbc031ae0b2ddd6e38">hypot</a>(data[1][2 * y + 0], data[1][2 * y + 1]))</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                                        : a;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                    a = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(a, 255);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                    b = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(b, 255);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                    pixels -= pitch;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                    *pixels = (a &lt;&lt; 16) + (b &lt;&lt; 8) + ((a+b) &gt;&gt; 1);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                SDL_UnlockTexture(s-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            SDL_RenderCopy(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, s-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        }</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>)</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            s-&gt;<a class="code" href="structVideoState.html#a163cce0905379b610b1574d62f0172c8">xpos</a>++;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structVideoState.html#a163cce0905379b610b1574d62f0172c8">xpos</a> &gt;= s-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>)</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            s-&gt;<a class="code" href="structVideoState.html#a163cce0905379b610b1574d62f0172c8">xpos</a>= s-&gt;<a class="code" href="structVideoState.html#a35a0bdf36181c07b0126f045066a7c17">xleft</a>;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;}</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ab39ba3de373b117fc0d43e0302d9e43a"> 1133</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#ab39ba3de373b117fc0d43e0302d9e43a">stream_component_close</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">int</span> stream_index)</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;{</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="structAVFormatContext.html">AVFormatContext</a> *ic = is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="structAVCodecParameters.html">AVCodecParameters</a> *codecpar;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (stream_index &lt; 0 || stream_index &gt;= ic-&gt;<a class="code" href="structAVFormatContext.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>)</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    codecpar = ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index]-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">switch</span> (codecpar-&gt;<a class="code" href="structAVCodecParameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <a class="code" href="ffplay_8c.html#a71f7c700f469c52253e516e737af1f83">decoder_abort</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        SDL_CloseAudio();</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <a class="code" href="ffplay_8c.html#aabb3b0520d148b851020a50ad39694fb">decoder_destroy</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>);</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <a class="code" href="group__lswr.html#ga818f7d78b1ad7d8d5b70de374b668c34">swr_free</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">audio_buf1</a>);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#ac566552a44eea599642d781691738197">audio_buf1_size</a> = 0;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a>) {</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <a class="code" href="group__lavc__fft.html#ga9d0be7a2253417ab4bb53a08bb70dfce">av_rdft_end</a>(is-&gt;<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">rdft_data</a>);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">rdft</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a5bcc4f59ca5e6eb3e005820f55e7f0ea">rdft_bits</a> = 0;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <a class="code" href="ffplay_8c.html#a71f7c700f469c52253e516e737af1f83">decoder_abort</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <a class="code" href="ffplay_8c.html#aabb3b0520d148b851020a50ad39694fb">decoder_destroy</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <a class="code" href="ffplay_8c.html#a71f7c700f469c52253e516e737af1f83">decoder_abort</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <a class="code" href="ffplay_8c.html#aabb3b0520d148b851020a50ad39694fb">decoder_destroy</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>);</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index]-&gt;<a class="code" href="structAVStream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> = <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">switch</span> (codecpar-&gt;<a class="code" href="structAVCodecParameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> = -1;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> = -1;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">subtitle_st</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a> = -1;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    }</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa360646fd7dbb0acf1f2ab8de57ff23f"> 1190</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aa360646fd7dbb0acf1f2ab8de57ff23f">stream_close</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;{</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="comment">/* XXX: use a special url_shutdown call to abort parse cleanly */</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a2b1ec0afe367d6aad04ad31e8c64b74b">abort_request</a> = 1;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    SDL_WaitThread(is-&gt;<a class="code" href="structVideoState.html#af2ac8777b258e78112799a39e1794d20">read_tid</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="comment">/* close each stream */</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> &gt;= 0)</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <a class="code" href="ffplay_8c.html#ab39ba3de373b117fc0d43e0302d9e43a">stream_component_close</a>(is, is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a>);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> &gt;= 0)</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <a class="code" href="ffplay_8c.html#ab39ba3de373b117fc0d43e0302d9e43a">stream_component_close</a>(is, is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a> &gt;= 0)</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <a class="code" href="ffplay_8c.html#ab39ba3de373b117fc0d43e0302d9e43a">stream_component_close</a>(is, is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a>);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="ffplay_8c.html#a47c7aa0e20b4cd776ac95a244995e2e2">packet_queue_destroy</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="ffplay_8c.html#a47c7aa0e20b4cd776ac95a244995e2e2">packet_queue_destroy</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="ffplay_8c.html#a47c7aa0e20b4cd776ac95a244995e2e2">packet_queue_destroy</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="comment">/* free all pictures */</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="ffplay_8c.html#a70ec4ee0dcbfd783c6dae3cd2b561615">frame_queue_destory</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="ffplay_8c.html#a70ec4ee0dcbfd783c6dae3cd2b561615">frame_queue_destory</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="ffplay_8c.html#a70ec4ee0dcbfd783c6dae3cd2b561615">frame_queue_destory</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    SDL_DestroyCond(is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="group__libsws.html#gad3af0ca76f071dbe0173444db9882932">sws_freeContext</a>(is-&gt;<a class="code" href="structVideoState.html#a610bf21d59f7c6b502dc24079abc37db">img_convert_ctx</a>);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <a class="code" href="group__libsws.html#gad3af0ca76f071dbe0173444db9882932">sws_freeContext</a>(is-&gt;<a class="code" href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">sub_convert_ctx</a>);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>)</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        SDL_DestroyTexture(is-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>)</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        SDL_DestroyTexture(is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(is);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;}</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f"> 1225</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;{</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">if</span> (is) {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <a class="code" href="ffplay_8c.html#aa360646fd7dbb0acf1f2ab8de57ff23f">stream_close</a>(is);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>)</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        SDL_DestroyRenderer(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>)</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        SDL_DestroyWindow(<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <a class="code" href="group__lavc__misc.html#gae120ec60cdf49cf0f793eff3ec731bcc">av_lockmgr_register</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <a class="code" href="cmdutils_8c.html#ac58552bde3a215ae94a3bd114577cbee">uninit_opts</a>();</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vfilters_list);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="group__lavf__core.html#ga245f2875f80ce67ec3d1e0f54dacf2c4">avformat_network_deinit</a>();</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a6768a966a1f5b884d86d910a5fc45fc4">show_status</a>)</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    SDL_Quit();</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga11e329935b59b83ca722b66674f37fd4">AV_LOG_QUIET</a>, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    exit(0);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;}</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"><a class="line" href="ffplay_8c.html#af80faacdb2157777c247deee29765d79"> 1247</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#af80faacdb2157777c247deee29765d79">sigterm_handler</a>(<span class="keywordtype">int</span> sig)</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;{</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    exit(123);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;}</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a824efda2dffbf8b6d1f3efa67cb5d750"> 1252</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a824efda2dffbf8b6d1f3efa67cb5d750">set_default_window_size</a>(<span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="structAVRational.html">AVRational</a> sar)</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;{</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    SDL_Rect <a class="code" href="structrect.html">rect</a>;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="ffplay_8c.html#aeb1665eebe41255a3c1cfc51aeb15124">calculate_display_rect</a>(&amp;rect, 0, 0, INT_MAX, height, width, height, sar);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="ffplay_8c.html#a113c3942838492268f7612ab67999b44">default_width</a>  = rect.w;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <a class="code" href="ffplay_8c.html#a04c1b4abd3e0ad1146519ad4cdc7e914">default_height</a> = rect.h;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="ffplay_8c.html#abd872872d42fcfa6f18f0850ed75c244"> 1260</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#abd872872d42fcfa6f18f0850ed75c244">video_open</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <a class="code" href="structFrame.html">Frame</a> *vp)</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;{</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordtype">int</span> w,<a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> (vp &amp;&amp; vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>)</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="ffplay_8c.html#a824efda2dffbf8b6d1f3efa67cb5d750">set_default_window_size</a>(vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>, vp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>, vp-&gt;<a class="code" href="structFrame.html#a0f65498689deb7dd84b6c8194532bfe6">sar</a>);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aa4d434a8b93410ea0ed660e48dac41c6">screen_width</a>) {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        w = <a class="code" href="ffplay_8c.html#aa4d434a8b93410ea0ed660e48dac41c6">screen_width</a>;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        h = <a class="code" href="ffplay_8c.html#a3b4a1bd850991355b91c7bfc15247d49">screen_height</a>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        w = <a class="code" href="ffplay_8c.html#a113c3942838492268f7612ab67999b44">default_width</a>;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        h = <a class="code" href="ffplay_8c.html#a04c1b4abd3e0ad1146519ad4cdc7e914">default_height</a>;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="log_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a> = SDL_WINDOW_SHOWN | SDL_WINDOW_RESIZABLE;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a>)</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            <a class="code" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a> = <a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">is_full_screen</a>)</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            flags |= SDL_WINDOW_FULLSCREEN_DESKTOP;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a> = SDL_CreateWindow(<a class="code" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a>, SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, w, h, flags);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        SDL_SetHint(SDL_HINT_RENDER_SCALE_QUALITY, <span class="stringliteral">&quot;linear&quot;</span>);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>) {</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            SDL_RendererInfo info;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            <a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a> = SDL_CreateRenderer(<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>, -1, SDL_RENDERER_ACCELERATED | SDL_RENDERER_PRESENTVSYNC);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to initialize a hardware accelerated renderer: %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                <a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a> = SDL_CreateRenderer(<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>, -1, 0);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                <span class="keywordflow">if</span> (!SDL_GetRendererInfo(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, &amp;info))</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Initialized %s renderer.\n&quot;</span>, info.name);</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        SDL_SetWindowSize(<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>, w, h);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a> || !<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>) {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL: could not set video mode - exiting\n&quot;</span>);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(is);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>  = w;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a> = <a class="code" href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">/* display the current picture, if any */</span></div><div class="line"><a name="l01311"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a5c191719acd283f785b618f84deb1dc2"> 1311</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a5c191719acd283f785b618f84deb1dc2">video_display</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;{</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>)</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <a class="code" href="ffplay_8c.html#abd872872d42fcfa6f18f0850ed75c244">video_open</a>(is, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    SDL_SetRenderDrawColor(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>, 0, 0, 0, 255);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    SDL_RenderClear(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> != SHOW_MODE_VIDEO)</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <a class="code" href="ffplay_8c.html#a6f78060cdbb40aaf255dec0e76c40a7e">video_audio_display</a>(is);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>)</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <a class="code" href="ffplay_8c.html#a41385bc260f9d76071283c4e6cdd9ca6">video_image_display</a>(is);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    SDL_RenderPresent(<a class="code" href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a>);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;}</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"><a class="line" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758"> 1325</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(<a class="code" href="structClock.html">Clock</a> *<a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a>)</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;{</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">if</span> (*c-&gt;<a class="code" href="structClock.html#ac1947022081dd2030423543f7fe81240">queue_serial</a> != c-&gt;<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a>)</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">paused</a>) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <span class="keywordflow">return</span> c-&gt;<a class="code" href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">pts</a>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordtype">double</span> time = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() / 1000000.0;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">return</span> c-&gt;<a class="code" href="structClock.html#a3e4f48b49714d5f1abffb649e5615794">pts_drift</a> + time - (time - c-&gt;<a class="code" href="structClock.html#a77d1a2e525a9b9cab76ad8dd763da0bd">last_updated</a>) * (1.0 - c-&gt;<a class="code" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">speed</a>);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    }</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;}</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a226c80ed049d5f123df4407b19839094"> 1337</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a226c80ed049d5f123df4407b19839094">set_clock_at</a>(<a class="code" href="structClock.html">Clock</a> *<a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a>, <span class="keywordtype">double</span> <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>, <span class="keywordtype">int</span> <a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>, <span class="keywordtype">double</span> time)</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;{</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    c-&gt;<a class="code" href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">pts</a> = <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    c-&gt;<a class="code" href="structClock.html#a77d1a2e525a9b9cab76ad8dd763da0bd">last_updated</a> = time;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    c-&gt;<a class="code" href="structClock.html#a3e4f48b49714d5f1abffb649e5615794">pts_drift</a> = c-&gt;<a class="code" href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">pts</a> - time;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    c-&gt;<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a> = <a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;}</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd"> 1345</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(<a class="code" href="structClock.html">Clock</a> *<a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a>, <span class="keywordtype">double</span> <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>, <span class="keywordtype">int</span> <a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>)</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;{</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordtype">double</span> time = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() / 1000000.0;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="ffplay_8c.html#a226c80ed049d5f123df4407b19839094">set_clock_at</a>(c, pts, serial, time);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;}</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aea19d45b6036d70f2eecd9d200e5f14f"> 1351</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aea19d45b6036d70f2eecd9d200e5f14f">set_clock_speed</a>(<a class="code" href="structClock.html">Clock</a> *<a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a>, <span class="keywordtype">double</span> speed)</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;{</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(c, <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(c), c-&gt;<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a>);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    c-&gt;<a class="code" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">speed</a> = speed;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;}</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a895b9cf6548d0a1ede4c74aa9f0db214"> 1357</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a895b9cf6548d0a1ede4c74aa9f0db214">init_clock</a>(<a class="code" href="structClock.html">Clock</a> *<a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a>, <span class="keywordtype">int</span> *queue_serial)</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;{</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    c-&gt;<a class="code" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">speed</a> = 1.0;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    c-&gt;<a class="code" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">paused</a> = 0;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    c-&gt;<a class="code" href="structClock.html#ac1947022081dd2030423543f7fe81240">queue_serial</a> = queue_serial;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(c, <a class="code" href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>, -1);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;}</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aee40f9e95a2467195ddefff0c417606b"> 1365</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aee40f9e95a2467195ddefff0c417606b">sync_clock_to_slave</a>(<a class="code" href="structClock.html">Clock</a> *<a class="code" href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a>, <a class="code" href="structClock.html">Clock</a> *slave)</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;{</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordtype">double</span> clock = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(c);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordtype">double</span> slave_clock = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(slave);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(slave_clock) &amp;&amp; (<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(clock) || fabs(clock - slave_clock) &gt; <a class="code" href="ffplay_8c.html#acf97e1f169c9faedcaf115ec6e17406c">AV_NOSYNC_THRESHOLD</a>))</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(c, slave_clock, slave-&gt;<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a>);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;}</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4"> 1373</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a>(<a class="code" href="structVideoState.html">VideoState</a> *is) {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a32e2a00023c77f85fa6d781a6b4a9f16">av_sync_type</a> == <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>) {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>)</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a32e2a00023c77f85fa6d781a6b4a9f16">av_sync_type</a> == <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>) {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>)</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b">AV_SYNC_EXTERNAL_CLOCK</a>;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b">AV_SYNC_EXTERNAL_CLOCK</a>;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">/* get the current master clock value */</span></div><div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39"> 1390</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;{</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="avisynth__c_8h.html#ad823be0325cd396723f2c37c16b3aaa2">val</a>;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a>(is)) {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>:</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            val = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>:</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            val = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            val = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="avisynth__c_8h.html#ad823be0325cd396723f2c37c16b3aaa2">val</a>;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aebe1b90f0dd43f1c0a46bc0c7af49b9d"> 1408</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aebe1b90f0dd43f1c0a46bc0c7af49b9d">check_external_clock_speed</a>(<a class="code" href="structVideoState.html">VideoState</a> *is) {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;   <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> &gt;= 0 &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a> &lt;= <a class="code" href="ffplay_8c.html#acbd863531432d0fc43f6e820491dbd4b">EXTERNAL_CLOCK_MIN_FRAMES</a> ||</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;       is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> &gt;= 0 &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a> &lt;= <a class="code" href="ffplay_8c.html#acbd863531432d0fc43f6e820491dbd4b">EXTERNAL_CLOCK_MIN_FRAMES</a>) {</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;       <a class="code" href="ffplay_8c.html#aea19d45b6036d70f2eecd9d200e5f14f">set_clock_speed</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="ffplay_8c.html#a8f0a8c485b0b7e7207aa31db91813c76">EXTERNAL_CLOCK_SPEED_MIN</a>, is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>.<a class="code" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">speed</a> - <a class="code" href="ffplay_8c.html#a33337a4597f14dfa5efdb9f0ca42752f">EXTERNAL_CLOCK_SPEED_STEP</a>));</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> &lt; 0 || is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a> &gt; <a class="code" href="ffplay_8c.html#a2ec75dd089cbf194a6ea2a6c22e3ba4b">EXTERNAL_CLOCK_MAX_FRAMES</a>) &amp;&amp;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;              (is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> &lt; 0 || is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a> &gt; <a class="code" href="ffplay_8c.html#a2ec75dd089cbf194a6ea2a6c22e3ba4b">EXTERNAL_CLOCK_MAX_FRAMES</a>)) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;       <a class="code" href="ffplay_8c.html#aea19d45b6036d70f2eecd9d200e5f14f">set_clock_speed</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="ffplay_8c.html#a576dc64950c7737d26131da97afb1fbf">EXTERNAL_CLOCK_SPEED_MAX</a>, is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>.<a class="code" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">speed</a> + <a class="code" href="ffplay_8c.html#a33337a4597f14dfa5efdb9f0ca42752f">EXTERNAL_CLOCK_SPEED_STEP</a>));</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;       <span class="keywordtype">double</span> speed = is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>.<a class="code" href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">speed</a>;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;       <span class="keywordflow">if</span> (speed != 1.0)</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;           <a class="code" href="ffplay_8c.html#aea19d45b6036d70f2eecd9d200e5f14f">set_clock_speed</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, speed + <a class="code" href="ffplay_8c.html#a33337a4597f14dfa5efdb9f0ca42752f">EXTERNAL_CLOCK_SPEED_STEP</a> * (1.0 - speed) / fabs(1.0 - speed));</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;   }</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;}</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">/* seek in the stream */</span></div><div class="line"><a name="l01423"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92"> 1423</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, int64_t pos, int64_t rel, <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a>)</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;{</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#aeaf6f7038c99dfee380266dbfeab187c">seek_req</a>) {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a72a4754ebe0a02c8c56b6007352e122d">seek_pos</a> = pos;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">seek_rel</a> = rel;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#ab4b5a3933d23072d98bbe56ab44036af">seek_flags</a> &amp;= ~<a class="code" href="avformat_8h.html#a754de906e0da116c009846547741f869">AVSEEK_FLAG_BYTE</a>;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <span class="keywordflow">if</span> (seek_by_bytes)</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#ab4b5a3933d23072d98bbe56ab44036af">seek_flags</a> |= <a class="code" href="avformat_8h.html#a754de906e0da116c009846547741f869">AVSEEK_FLAG_BYTE</a>;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#aeaf6f7038c99dfee380266dbfeab187c">seek_req</a> = 1;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        SDL_CondSignal(is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>);</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment">/* pause or resume the video */</span></div><div class="line"><a name="l01437"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a249edb8351b98fc4a4bb1c8af98c23b8"> 1437</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a249edb8351b98fc4a4bb1c8af98c23b8">stream_toggle_pause</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;{</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a> += <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() / 1000000.0 - is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>.<a class="code" href="structClock.html#a77d1a2e525a9b9cab76ad8dd763da0bd">last_updated</a>;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a5fa754db63425dfc7a9762a162637564">read_pause_return</a> != <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOSYS)) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>.<a class="code" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">paused</a> = 0;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>, <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>), is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>.<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a>);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    }</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>), is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>.<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a> = is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>.<a class="code" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">paused</a> = is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>.<a class="code" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">paused</a> = is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>.<a class="code" href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">paused</a> = !is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;}</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div><div class="line"><a name="l01450"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ac8b8aba40979d3059387561807c7dff0"> 1450</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#ac8b8aba40979d3059387561807c7dff0">toggle_pause</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;{</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="ffplay_8c.html#a249edb8351b98fc4a4bb1c8af98c23b8">stream_toggle_pause</a>(is);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a82f3fa623064948a331ca2eda977d974">step</a> = 0;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;}</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a52db648ff1c8059ad6ffb66a6cf0fdda"> 1456</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a52db648ff1c8059ad6ffb66a6cf0fdda">toggle_mute</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;{</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">muted</a> = !is-&gt;<a class="code" href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">muted</a>;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;}</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a7b547ce26fcc3c0f0a79b293fa8b49d5"> 1461</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a7b547ce26fcc3c0f0a79b293fa8b49d5">update_volume</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">int</span> sign, <span class="keywordtype">int</span> step)</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;{</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">audio_volume</a> = av_clip(is-&gt;<a class="code" href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">audio_volume</a> + sign * step, 0, SDL_MIX_MAXVOLUME);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;}</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ac7d5324a55d2b6414402b232db5e16ac"> 1466</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#ac7d5324a55d2b6414402b232db5e16ac">step_to_next_frame</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;{</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="comment">/* if the stream is paused unpause it, then step */</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>)</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <a class="code" href="ffplay_8c.html#a249edb8351b98fc4a4bb1c8af98c23b8">stream_toggle_pause</a>(is);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a82f3fa623064948a331ca2eda977d974">step</a> = 1;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;}</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;</div><div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a047927fe5f832ecfdfaead22089fa590"> 1474</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#a047927fe5f832ecfdfaead22089fa590">compute_target_delay</a>(<span class="keywordtype">double</span> delay, <a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;{</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordtype">double</span> sync_threshold, <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = 0;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">/* update delay to follow master synchronisation source */</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a>(is) != <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>) {</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="comment">/* if video is slave, we try to correct big delays by</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">           duplicating or deleting a frame */</span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        diff = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>) - <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(is);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="comment">/* skip or repeat frame. We take into account the</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">           delay to compute the threshold. I still don&#39;t know</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">           if it is the best guess */</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        sync_threshold = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="ffplay_8c.html#aa73f463e749eb5e83ab5355ec79b958d">AV_SYNC_THRESHOLD_MIN</a>, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="ffplay_8c.html#a373569cd88a065d17fc41d42c2c9b64a">AV_SYNC_THRESHOLD_MAX</a>, delay));</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(diff) &amp;&amp; fabs(diff) &lt; is-&gt;<a class="code" href="structVideoState.html#a72cada3134dac1118f0762ba7fbdb6ab">max_frame_duration</a>) {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <span class="keywordflow">if</span> (diff &lt;= -sync_threshold)</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                delay = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, delay + diff);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diff &gt;= sync_threshold &amp;&amp; delay &gt; <a class="code" href="ffplay_8c.html#af8022a2b672af835fe40c54d1b362c62">AV_SYNC_FRAMEDUP_THRESHOLD</a>)</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                delay = delay + <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diff &gt;= sync_threshold)</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                delay = 2 * delay;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        }</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;video: delay=%0.3f A-V=%f\n&quot;</span>,</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            delay, -diff);</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">return</span> delay;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a28f381cbb0c628502f051c61004d40ca"> 1504</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#a28f381cbb0c628502f051c61004d40ca">vp_duration</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <a class="code" href="structFrame.html">Frame</a> *vp, <a class="code" href="structFrame.html">Frame</a> *nextvp) {</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> (vp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> == nextvp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a>) {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = nextvp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> - vp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a>;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(duration) || duration &lt;= 0 || duration &gt; is-&gt;<a class="code" href="structVideoState.html#a72cada3134dac1118f0762ba7fbdb6ab">max_frame_duration</a>)</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            <span class="keywordflow">return</span> vp-&gt;<a class="code" href="structFrame.html#a63cca62f715bae11fb5db7e50a896105">duration</a>;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    }</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;}</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a99b70e2f5350cd03ba0215bc6152a94d"> 1516</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a99b70e2f5350cd03ba0215bc6152a94d">update_video_pts</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">double</span> <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>, int64_t pos, <span class="keywordtype">int</span> <a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>) {</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="comment">/* update current video pts */</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>, pts, serial);</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <a class="code" href="ffplay_8c.html#aee40f9e95a2467195ddefff0c417606b">sync_clock_to_slave</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;}</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="comment">/* called to display each frame */</span></div><div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="ffplay_8c.html#adb446761df3da75676353604508f4f3d"> 1523</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#adb446761df3da75676353604508f4f3d">video_refresh</a>(<span class="keywordtype">void</span> *opaque, <span class="keywordtype">double</span> *remaining_time)</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;{</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is = opaque;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordtype">double</span> time;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>, *sp2;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a> &amp;&amp; <a class="code" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a>(is) == <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b">AV_SYNC_EXTERNAL_CLOCK</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#aabfee6f1cd9c45c19493e97511e49fd9">realtime</a>)</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <a class="code" href="ffplay_8c.html#aebe1b90f0dd43f1c0a46bc0c7af49b9d">check_external_clock_speed</a>(is);</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">display_disable</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> != SHOW_MODE_VIDEO &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>) {</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        time = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() / 1000000.0;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> || is-&gt;<a class="code" href="structVideoState.html#ac9a76f6ed7277ec4cf329b9c088ab287">last_vis_time</a> + <a class="code" href="ffplay_8c.html#aefe253b88dd984bfdf762bff02f1c8d5">rdftspeed</a> &lt; time) {</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <a class="code" href="ffplay_8c.html#a5c191719acd283f785b618f84deb1dc2">video_display</a>(is);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#ac9a76f6ed7277ec4cf329b9c088ab287">last_vis_time</a> = time;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        *remaining_time = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(*remaining_time, is-&gt;<a class="code" href="structVideoState.html#ac9a76f6ed7277ec4cf329b9c088ab287">last_vis_time</a> + <a class="code" href="ffplay_8c.html#aefe253b88dd984bfdf762bff02f1c8d5">rdftspeed</a> - time);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    }</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>) {</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;retry:</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>) == 0) {</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            <span class="comment">// nothing to do, no picture to display in the queue</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            <span class="keywordtype">double</span> last_duration, <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, delay;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <a class="code" href="structFrame.html">Frame</a> *vp, *lastvp;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="comment">/* dequeue the picture */</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            lastvp = <a class="code" href="ffplay_8c.html#a066c2b1eca5ea454f7ce3862f4939954">frame_queue_peek_last</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            vp = <a class="code" href="ffplay_8c.html#a00a565dcbcefdce2103a8d9265a95661">frame_queue_peek</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            <span class="keywordflow">if</span> (vp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> != is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>) {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                <a class="code" href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">frame_queue_next</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                <span class="keywordflow">goto</span> retry;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            }</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="keywordflow">if</span> (lastvp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> != vp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a>)</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a> = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() / 1000000.0;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>)</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                <span class="keywordflow">goto</span> display;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="comment">/* compute nominal last_duration */</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            last_duration = <a class="code" href="ffplay_8c.html#a28f381cbb0c628502f051c61004d40ca">vp_duration</a>(is, lastvp, vp);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            delay = <a class="code" href="ffplay_8c.html#a047927fe5f832ecfdfaead22089fa590">compute_target_delay</a>(last_duration, is);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            time= <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>()/1000000.0;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">if</span> (time &lt; is-&gt;frame_timer + delay) {</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                *remaining_time = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(is-&gt;<a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a> + delay - time, *remaining_time);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                <span class="keywordflow">goto</span> display;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            }</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a> += delay;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            <span class="keywordflow">if</span> (delay &gt; 0 &amp;&amp; time - is-&gt;<a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a> &gt; <a class="code" href="ffplay_8c.html#a373569cd88a065d17fc41d42c2c9b64a">AV_SYNC_THRESHOLD_MAX</a>)</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a> = time;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            SDL_LockMutex(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(vp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a>))</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                <a class="code" href="ffplay_8c.html#a99b70e2f5350cd03ba0215bc6152a94d">update_video_pts</a>(is, vp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a>, vp-&gt;<a class="code" href="structFrame.html#acb133932800fcbccbe5e3c8e6010ceb9">pos</a>, vp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a>);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            SDL_UnlockMutex(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>) &gt; 1) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                <a class="code" href="structFrame.html">Frame</a> *nextvp = <a class="code" href="ffplay_8c.html#a44a40fe2c4bc2dd0c80c3215908ff7ae">frame_queue_peek_next</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                duration = <a class="code" href="ffplay_8c.html#a28f381cbb0c628502f051c61004d40ca">vp_duration</a>(is, vp, nextvp);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                <span class="keywordflow">if</span>(!is-&gt;<a class="code" href="structVideoState.html#a82f3fa623064948a331ca2eda977d974">step</a> &amp;&amp; (<a class="code" href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">framedrop</a>&gt;0 || (<a class="code" href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">framedrop</a> &amp;&amp; <a class="code" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a>(is) != <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>)) &amp;&amp; time &gt; is-&gt;<a class="code" href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">frame_timer</a> + duration){</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#a67448cbb7407c79050f6ca318131720b">frame_drops_late</a>++;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                    <a class="code" href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">frame_queue_next</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                    <span class="keywordflow">goto</span> retry;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">subtitle_st</a>) {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                    <span class="keywordflow">while</span> (<a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>) &gt; 0) {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                        sp = <a class="code" href="ffplay_8c.html#a00a565dcbcefdce2103a8d9265a95661">frame_queue_peek</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>) &gt; 1)</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                            sp2 = <a class="code" href="ffplay_8c.html#a44a40fe2c4bc2dd0c80c3215908ff7ae">frame_queue_peek_next</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                            sp2 = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                        <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> != is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                                || (is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>.<a class="code" href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">pts</a> &gt; (sp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> + ((<span class="keywordtype">float</span>) sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#a354cdfa51cda54c914a569ee3f7493c0">end_display_time</a> / 1000)))</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                                || (sp2 &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>.<a class="code" href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">pts</a> &gt; (sp2-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> + ((<span class="keywordtype">float</span>) sp2-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#a271f635c9e734310a43277f819159c68">start_display_time</a> / 1000))))</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                        {</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                            <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a>) {</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                                <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                                <span class="keywordflow">for</span> (i = 0; i &lt; sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#a89491b1f6998eceb6221791fd50087df">num_rects</a>; i++) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                                    <a class="code" href="structAVSubtitleRect.html">AVSubtitleRect</a> *sub_rect = sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#ad37c2315a9e36ed700f64cb971e22298">rects</a>[i];</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                                    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avisynth__c_8h.html#a5d41cf5ef2316b748ed36ffecb4d54bd">pixels</a>;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                                    <span class="keywordtype">int</span> pitch, j;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                                    <span class="keywordflow">if</span> (!SDL_LockTexture(is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>, (SDL_Rect *)sub_rect, (<span class="keywordtype">void</span> **)&amp;pixels, &amp;pitch)) {</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                                        <span class="keywordflow">for</span> (j = 0; j &lt; sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#afb3272792cfe659e9e788074d3328d3d">h</a>; j++, pixels += pitch)</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                                            memset(pixels, 0, sub_rect-&gt;<a class="code" href="structAVSubtitleRect.html#a264a52200e34e138d47c76d7a431125a">w</a> &lt;&lt; 2);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                                        SDL_UnlockTexture(is-&gt;<a class="code" href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">sub_texture</a>);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                                    }</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                                }</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                            }</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                            <a class="code" href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">frame_queue_next</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                        }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                    }</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            <a class="code" href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">frame_queue_next</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> = 1;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a82f3fa623064948a331ca2eda977d974">step</a> &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>)</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                <a class="code" href="ffplay_8c.html#a249edb8351b98fc4a4bb1c8af98c23b8">stream_toggle_pause</a>(is);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        }</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;display:</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="comment">/* display picture */</span></div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">display_disable</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> == SHOW_MODE_VIDEO &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">rindex_shown</a>)</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <a class="code" href="ffplay_8c.html#a5c191719acd283f785b618f84deb1dc2">video_display</a>(is);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> = 0;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a6768a966a1f5b884d86d910a5fc45fc4">show_status</a>) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="keyword">static</span> int64_t last_time;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        int64_t <a class="code" href="ffserver_8c.html#a10f6aa3b91e89461b460411d0cf0d433">cur_time</a>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="keywordtype">int</span> aqsize, vqsize, sqsize;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keywordtype">double</span> av_diff;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        cur_time = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>();</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="keywordflow">if</span> (!last_time || (cur_time - last_time) &gt;= 30000) {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            aqsize = 0;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            vqsize = 0;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            sqsize = 0;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>)</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                aqsize = is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a>;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>)</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                vqsize = is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a>;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">subtitle_st</a>)</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                sqsize = is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>.<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a>;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            av_diff = 0;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>)</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                av_diff = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>) - <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>)</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                av_diff = <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(is) - <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>)</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                av_diff = <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(is) - <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>,</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                   <span class="stringliteral">&quot;%7.2f %s:%7.3f fd=%4d aq=%5dKB vq=%5dKB sq=%5dB f=%&quot;</span>PRId64<span class="stringliteral">&quot;/%&quot;</span>PRId64<span class="stringliteral">&quot;   \r&quot;</span>,</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                   <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(is),</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                   (is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>) ? <span class="stringliteral">&quot;A-V&quot;</span> : (is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> ? <span class="stringliteral">&quot;M-V&quot;</span> : (is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a> ? <span class="stringliteral">&quot;M-A&quot;</span> : <span class="stringliteral">&quot;   &quot;</span>)),</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                   av_diff,</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                   is-&gt;<a class="code" href="structVideoState.html#a859e5bd5722c4f6f9a0d2c65b1bc82e9">frame_drops_early</a> + is-&gt;<a class="code" href="structVideoState.html#a67448cbb7407c79050f6ca318131720b">frame_drops_late</a>,</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                   aqsize / 1024,</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                   vqsize / 1024,</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                   sqsize,</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                   is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> ? is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a0de395898981d1bc1edad3198fb64b30">pts_correction_num_faulty_dts</a> : 0,</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                   is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> ? is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a6d940d300cd7aca6ae9a9af9ba58e5cc">pts_correction_num_faulty_pts</a> : 0);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            fflush(stdout);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            last_time = <a class="code" href="ffserver_8c.html#a10f6aa3b91e89461b460411d0cf0d433">cur_time</a>;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        }</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    }</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;}</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="comment">/* allocate a picture (needs to do that in main thread to avoid</span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="comment">   potential locking problems */</span></div><div class="line"><a name="l01683"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a891f56ffb3c6fb8e9c61df4d4828f1fd"> 1683</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a891f56ffb3c6fb8e9c61df4d4828f1fd">alloc_picture</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;{</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *vp;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordtype">int</span> sdl_format;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    vp = &amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">queue</a>[is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#aa0c7135c7dc240f4beaad18e258574ab">windex</a>];</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <a class="code" href="ffplay_8c.html#abd872872d42fcfa6f18f0850ed75c244">video_open</a>(is, vp);</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">if</span> (vp-&gt;<a class="code" href="structFrame.html#adc08f78492f3db6b0457c47e9bf191e1">format</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>)</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        sdl_format = SDL_PIXELFORMAT_YV12;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        sdl_format = SDL_PIXELFORMAT_ARGB8888;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ad469aefd27d479f71587e340b1fdbdeb">realloc_texture</a>(&amp;vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>, sdl_format, vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>, vp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a>, SDL_BLENDMODE_NONE, 0) &lt; 0) {</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="comment">/* SDL allocates a buffer smaller than requested if the video</span></div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="comment">         * overlay hardware is unable to support the requested size. */</span></div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>,</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;               <span class="stringliteral">&quot;Error: the video system does not support an image\n&quot;</span></div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                        <span class="stringliteral">&quot;size of %dx%d pixels. Try using -lowres or -vf \&quot;scale=w:h\&quot;\n&quot;</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                        <span class="stringliteral">&quot;to reduce the image size.\n&quot;</span>, vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>, vp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a> );</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(is);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    }</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    SDL_LockMutex(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    vp-&gt;<a class="code" href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">allocated</a> = 1;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    SDL_CondSignal(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    SDL_UnlockMutex(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;</div><div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aeb36d2c84818a189f97d38d4348e1e5b"> 1713</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aeb36d2c84818a189f97d38d4348e1e5b">queue_picture</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <a class="code" href="structAVFrame.html">AVFrame</a> *src_frame, <span class="keywordtype">double</span> <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>, <span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, int64_t pos, <span class="keywordtype">int</span> <a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>)</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;{</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *vp;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="preprocessor">#if defined(DEBUG_SYNC)</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    printf(<span class="stringliteral">&quot;frame_type=%c pts=%0.3f\n&quot;</span>,</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;           <a class="code" href="group__lavu__picture.html#gacbf2ea8b2b89924c890ef8ec10a3d922">av_get_picture_type_char</a>(src_frame-&gt;<a class="code" href="structAVFrame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a>), pts);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (!(vp = <a class="code" href="ffplay_8c.html#a2df97f65b455c4a9af5b15f33cab4ed8">frame_queue_peek_writable</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>)))</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    vp-&gt;<a class="code" href="structFrame.html#a0f65498689deb7dd84b6c8194532bfe6">sar</a> = src_frame-&gt;<a class="code" href="structAVFrame.html#a62f9c20541a83d37db7072126ff0060d">sample_aspect_ratio</a>;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    vp-&gt;<a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a> = 0;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="comment">/* alloc or resize hardware picture buffer */</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">if</span> (!vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a> || !vp-&gt;<a class="code" href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">allocated</a> ||</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a>  != src_frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a> ||</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a> != src_frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a> ||</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#adc08f78492f3db6b0457c47e9bf191e1">format</a> != src_frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>) {</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        SDL_Event event;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">allocated</a> = 0;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a> = src_frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a> = src_frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#adc08f78492f3db6b0457c47e9bf191e1">format</a> = src_frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="comment">/* the allocation must be done in the main thread to avoid</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment">           locking problems. */</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keyword">event</span>.type = <a class="code" href="ffplay_8c.html#a1d23f3b4b0b5c1d96380f0a42ffa1890">FF_ALLOC_EVENT</a>;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keyword">event</span>.user.data1 = is;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        SDL_PushEvent(&amp;event);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <span class="comment">/* wait until the picture is allocated */</span></div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        SDL_LockMutex(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">while</span> (!vp-&gt;<a class="code" href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">allocated</a> &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            SDL_CondWait(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>, is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        }</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <span class="comment">/* if the queue is aborted, we have to pop the pending ALLOC event or wait for the allocation to complete */</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a> &amp;&amp; SDL_PeepEvents(&amp;event, 1, SDL_GETEVENT, <a class="code" href="ffplay_8c.html#a1d23f3b4b0b5c1d96380f0a42ffa1890">FF_ALLOC_EVENT</a>, <a class="code" href="ffplay_8c.html#a1d23f3b4b0b5c1d96380f0a42ffa1890">FF_ALLOC_EVENT</a>) != 1) {</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <span class="keywordflow">while</span> (!vp-&gt;<a class="code" href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">allocated</a> &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#a2b1ec0afe367d6aad04ad31e8c64b74b">abort_request</a>) {</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                SDL_CondWait(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">cond</a>, is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            }</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        }</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        SDL_UnlockMutex(is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>.<a class="code" href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">mutex</a>);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a>)</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    }</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="comment">/* if the frame is not skipped, then display it */</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">if</span> (vp-&gt;<a class="code" href="structFrame.html#a7719a045a84669a637b141924a5e7339">bmp</a>) {</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> = <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#a63cca62f715bae11fb5db7e50a896105">duration</a> = <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#acb133932800fcbccbe5e3c8e6010ceb9">pos</a> = pos;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        vp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> = <a class="code" href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">serial</a>;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <a class="code" href="group__lavu__frame.html#ga709e62bc2917ffd84c5c0f4e1dfc48f7">av_frame_move_ref</a>(vp-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>, src_frame);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <a class="code" href="ffplay_8c.html#a9b2e8b0d879d7179f62a94edf7ab92e7">frame_queue_push</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    }</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;}</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div><div class="line"><a name="l01776"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a6cc04b5f00e00954f3cfc3eda2a89d59"> 1776</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a6cc04b5f00e00954f3cfc3eda2a89d59">get_video_frame</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <a class="code" href="structAVFrame.html">AVFrame</a> *<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>)</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;{</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordtype">int</span> got_picture;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">if</span> ((got_picture = <a class="code" href="ffplay_8c.html#a09fd32cf1173473a29fd8a3d9eb3a785">decoder_decode_frame</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>, frame, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">if</span> (got_picture) {</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordtype">double</span> dpts = <a class="code" href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            dpts = <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) * frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        frame-&gt;<a class="code" href="structAVFrame.html#a62f9c20541a83d37db7072126ff0060d">sample_aspect_ratio</a> = <a class="code" href="group__lavf__misc.html#ga0f62da0e809045bb21166013c404ce43">av_guess_sample_aspect_ratio</a>(is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>, is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>, frame);</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">framedrop</a>&gt;0 || (<a class="code" href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">framedrop</a> &amp;&amp; <a class="code" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a>(is) != <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>)) {</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                <span class="keywordtype">double</span> <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = dpts - <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(is);</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(diff) &amp;&amp; fabs(diff) &lt; <a class="code" href="ffplay_8c.html#acf97e1f169c9faedcaf115ec6e17406c">AV_NOSYNC_THRESHOLD</a> &amp;&amp;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                    diff - is-&gt;<a class="code" href="structVideoState.html#abf7f37ec79ebcb5247e82f9f50f3c38d">frame_last_filter_delay</a> &lt; 0 &amp;&amp;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a> == is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>.<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a> &amp;&amp;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a>) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#a859e5bd5722c4f6f9a0d2c65b1bc82e9">frame_drops_early</a>++;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                    <a class="code" href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a>(frame);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                    got_picture = 0;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                }</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            }</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    }</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">return</span> got_picture;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffmpeg_8h.html#adfc4727f627c5abd0aa843206d046ec6">configure_filtergraph</a>(<a class="code" href="structAVFilterGraph.html">AVFilterGraph</a> *graph, <span class="keyword">const</span> <span class="keywordtype">char</span> *filtergraph,</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                                 <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *source_ctx, <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *sink_ctx)</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;{</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordtype">int</span> ret, i;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordtype">int</span> nb_filters = graph-&gt;<a class="code" href="structAVFilterGraph.html#a0ba5c820c760788ea5f8e40c476f9704">nb_filters</a>;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="structAVFilterInOut.html">AVFilterInOut</a> *<a class="code" href="af__afftfilt_8c.html#a7ddb0b5ac76101c5bee71e9840bf1698">outputs</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="af__afftfilt_8c.html#a6e04c7ed634034f9b8c1fec9d362ce44">inputs</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">if</span> (filtergraph) {</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        outputs = <a class="code" href="group__lavfi.html#ga6e1c2931e15eb4283c59c6ccc8b83919">avfilter_inout_alloc</a>();</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        inputs  = <a class="code" href="group__lavfi.html#ga6e1c2931e15eb4283c59c6ccc8b83919">avfilter_inout_alloc</a>();</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="keywordflow">if</span> (!outputs || !inputs) {</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        }</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        outputs-&gt;<a class="code" href="structAVFilterInOut.html#a88afecac258f51aab7e9a9db9e7a4d58">name</a>       = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<span class="stringliteral">&quot;in&quot;</span>);</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        outputs-&gt;<a class="code" href="structAVFilterInOut.html#a3227857d0b955b639f4950d13e4e6f40">filter_ctx</a> = source_ctx;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        outputs-&gt;<a class="code" href="structAVFilterInOut.html#a386ff90d40aa22f5612dd5eca734ed48">pad_idx</a>    = 0;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        outputs-&gt;<a class="code" href="structAVFilterInOut.html#af8c8cf9ffb650974d19e791f5bb7cf33">next</a>       = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        inputs-&gt;name        = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<span class="stringliteral">&quot;out&quot;</span>);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        inputs-&gt;filter_ctx  = sink_ctx;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        inputs-&gt;pad_idx     = 0;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        inputs-&gt;next        = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavfi.html#ga34f4ff420bd58da6747a3ff1fbedd001">avfilter_graph_parse_ptr</a>(graph, filtergraph, &amp;inputs, &amp;outputs, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavfi.html#gabc6247ebae2c591e768c8555174402f1">avfilter_link</a>(source_ctx, 0, sink_ctx, 0)) &lt; 0)</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    }</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="comment">/* Reorder the filters to ensure that inputs of the custom filters are merged first */</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; graph-&gt;<a class="code" href="structAVFilterGraph.html#a0ba5c820c760788ea5f8e40c476f9704">nb_filters</a> - nb_filters; i++)</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="structAVFilterContext.html">AVFilterContext</a>*, graph-&gt;<a class="code" href="structAVFilterGraph.html#a1dafd3d239f7c2f5e3ac109578ef926d">filters</a>[i], graph-&gt;<a class="code" href="structAVFilterGraph.html#a1dafd3d239f7c2f5e3ac109578ef926d">filters</a>[i + nb_filters]);</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    ret = <a class="code" href="group__lavfi.html#ga1896c46b7bc6ff1bdb1a4815faa9ad07">avfilter_graph_config</a>(graph, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="group__lavfi.html#ga294500a9856260eb1552354fd9d9a6c4">avfilter_inout_free</a>(&amp;outputs);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <a class="code" href="group__lavfi.html#ga294500a9856260eb1552354fd9d9a6c4">avfilter_inout_free</a>(&amp;inputs);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;}</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> configure_video_filters(<a class="code" href="structAVFilterGraph.html">AVFilterGraph</a> *graph, <a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keyword">const</span> <span class="keywordtype">char</span> *vfilters, <a class="code" href="structAVFrame.html">AVFrame</a> *<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>)</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;{</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>[] = { <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a41c64e3682529dd5caca6f7d5d3c19c7">AV_PIX_FMT_BGRA</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a> };</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordtype">char</span> sws_flags_str[512] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordtype">char</span> buffersrc_args[256];</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *filt_src = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *filt_out = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="avfilter_8c.html#a1caf3764305bd151fd31049864fbe2df">last_filter</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="structAVCodecParameters.html">AVCodecParameters</a> *codecpar = is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="structAVRational.html">AVRational</a> fr = <a class="code" href="group__lavf__misc.html#ga12c049178414cc221dfafd4e7f836dea">av_guess_frame_rate</a>(is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>, is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <a class="code" href="structAVDictionaryEntry.html">AVDictionaryEntry</a> *e = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">while</span> ((e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cmdutils_8c.html#afade0b4211259f5d9b11c0ab469adf7b">sws_dict</a>, <span class="stringliteral">&quot;&quot;</span>, e, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>))) {</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        <span class="keywordflow">if</span> (!strcmp(e-&gt;<a class="code" href="structAVDictionaryEntry.html#a38fc80176f8f839282bb61c03392e194">key</a>, <span class="stringliteral">&quot;sws_flags&quot;</span>)) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(sws_flags_str, <span class="keyword">sizeof</span>(sws_flags_str), <span class="stringliteral">&quot;%s=%s:&quot;</span>, <span class="stringliteral">&quot;flags&quot;</span>, e-&gt;<a class="code" href="structAVDictionaryEntry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        } <span class="keywordflow">else</span></div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(sws_flags_str, <span class="keyword">sizeof</span>(sws_flags_str), <span class="stringliteral">&quot;%s=%s:&quot;</span>, e-&gt;<a class="code" href="structAVDictionaryEntry.html#a38fc80176f8f839282bb61c03392e194">key</a>, e-&gt;<a class="code" href="structAVDictionaryEntry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    }</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordflow">if</span> (strlen(sws_flags_str))</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        sws_flags_str[strlen(sws_flags_str)-1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    graph-&gt;<a class="code" href="structAVFilterGraph.html#a17ced656602d33101ec4f46f6a9bdc53">scale_sws_opts</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(sws_flags_str);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(buffersrc_args, <span class="keyword">sizeof</span>(buffersrc_args),</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;             <span class="stringliteral">&quot;video_size=%dx%d:pix_fmt=%d:time_base=%d/%d:pixel_aspect=%d/%d&quot;</span>,</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;             frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>, frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>, frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>,</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;             is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="structAVRational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;             codecpar-&gt;<a class="code" href="structAVCodecParameters.html#a7d6ef91120ffe80040c699e747a1ad68">sample_aspect_ratio</a>.<a class="code" href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(codecpar-&gt;<a class="code" href="structAVCodecParameters.html#a7d6ef91120ffe80040c699e747a1ad68">sample_aspect_ratio</a>.<a class="code" href="structAVRational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, 1));</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <span class="keywordflow">if</span> (fr.<a class="code" href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; fr.<a class="code" href="structAVRational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>)</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(buffersrc_args, <span class="keyword">sizeof</span>(buffersrc_args), <span class="stringliteral">&quot;:frame_rate=%d/%d&quot;</span>, fr.<a class="code" href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, fr.<a class="code" href="structAVRational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavfi.html#gac0788a9ab6966dba9318b5d5c7524fea">avfilter_graph_create_filter</a>(&amp;filt_src,</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                                            <a class="code" href="group__lavfi.html#gadd774ec49e50edf00158248e1bfe4ae6">avfilter_get_by_name</a>(<span class="stringliteral">&quot;buffer&quot;</span>),</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                                            <span class="stringliteral">&quot;ffplay_buffer&quot;</span>, buffersrc_args, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                                            graph)) &lt; 0)</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    ret = <a class="code" href="group__lavfi.html#gac0788a9ab6966dba9318b5d5c7524fea">avfilter_graph_create_filter</a>(&amp;filt_out,</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                       <a class="code" href="group__lavfi.html#gadd774ec49e50edf00158248e1bfe4ae6">avfilter_get_by_name</a>(<span class="stringliteral">&quot;buffersink&quot;</span>),</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                                       <span class="stringliteral">&quot;ffplay_buffersink&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, graph);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="group__opt__set__funcs.html#gac06fc2b2e32f67f067ed7aaec163447f">av_opt_set_int_list</a>(filt_out, <span class="stringliteral">&quot;pix_fmts&quot;</span>, pix_fmts,  AV_PIX_FMT_NONE, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>)) &lt; 0)</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    last_filter = filt_out;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="comment">/* Note: this macro adds a filter before the lastly added filter, so the</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="comment"> * processing order of the filters is in reverse */</span></div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;<span class="preprocessor">#define INSERT_FILT(name, arg) do {                                          \</span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="preprocessor">    AVFilterContext *filt_ctx;                                               \</span></div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;<span class="preprocessor">                                                                             \</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="preprocessor">    ret = avfilter_graph_create_filter(&amp;filt_ctx,                            \</span></div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="preprocessor">                                       avfilter_get_by_name(name),           \</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="preprocessor">                                       &quot;ffplay_&quot; name, arg, NULL, graph);    \</span></div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="preprocessor">    if (ret &lt; 0)                                                             \</span></div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="preprocessor">        goto fail;                                                           \</span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="preprocessor">                                                                             \</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="preprocessor">    ret = avfilter_link(filt_ctx, 0, last_filter, 0);                        \</span></div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="preprocessor">    if (ret &lt; 0)                                                             \</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="preprocessor">        goto fail;                                                           \</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="preprocessor">                                                                             \</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="preprocessor">    last_filter = filt_ctx;                                                  \</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a058bdabea08c743fd59a5ec26fa88bb7">autorotate</a>) {</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keywordtype">double</span> theta  = <a class="code" href="cmdutils_8c.html#a907c42e3f98cc1183a8788033d0aaaf2">get_rotation</a>(is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>);</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        <span class="keywordflow">if</span> (fabs(theta - 90) &lt; 1.0) {</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            INSERT_FILT(<span class="stringliteral">&quot;transpose&quot;</span>, <span class="stringliteral">&quot;clock&quot;</span>);</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(theta - 180) &lt; 1.0) {</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            INSERT_FILT(<span class="stringliteral">&quot;hflip&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            INSERT_FILT(<span class="stringliteral">&quot;vflip&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(theta - 270) &lt; 1.0) {</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            INSERT_FILT(<span class="stringliteral">&quot;transpose&quot;</span>, <span class="stringliteral">&quot;cclock&quot;</span>);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(theta) &gt; 1.0) {</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            <span class="keywordtype">char</span> rotate_buf[64];</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(rotate_buf, <span class="keyword">sizeof</span>(rotate_buf), <span class="stringliteral">&quot;%f*PI/180&quot;</span>, theta);</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            INSERT_FILT(<span class="stringliteral">&quot;rotate&quot;</span>, rotate_buf);</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        }</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    }</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="ffmpeg_8h.html#adfc4727f627c5abd0aa843206d046ec6">configure_filtergraph</a>(graph, vfilters, filt_src, last_filter)) &lt; 0)</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    is-&gt;in_video_filter  = filt_src;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    is-&gt;out_video_filter = filt_out;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;}</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> configure_audio_filters(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keyword">const</span> <span class="keywordtype">char</span> *afilters, <span class="keywordtype">int</span> force_output_format)</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;{</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> <a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>[] = { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>, <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a> };</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ffmpeg__filter_8c.html#a12ee30995b3ac94a573f01870d1289e8">sample_rates</a>[2] = { 0, -1 };</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    int64_t <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>[2] = { 0, -1 };</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keywordtype">int</span> channels[2] = { 0, -1 };</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *filt_asrc = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *filt_asink = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordtype">char</span> aresample_swr_opts[512] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <a class="code" href="structAVDictionaryEntry.html">AVDictionaryEntry</a> *e = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordtype">char</span> asrc_args[256];</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <a class="code" href="group__lavfi.html#ga871684449dac05050df238a18d0d493b">avfilter_graph_free</a>(&amp;is-&gt;agraph);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (!(is-&gt;agraph = <a class="code" href="group__lavfi.html#ga6c778454b86f845805ffd814b4ce51d4">avfilter_graph_alloc</a>()))</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">while</span> ((e = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cmdutils_8c.html#a3ad80f8d494eaf9dc13fd805e222a504">swr_opts</a>, <span class="stringliteral">&quot;&quot;</span>, e, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>)))</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(aresample_swr_opts, <span class="keyword">sizeof</span>(aresample_swr_opts), <span class="stringliteral">&quot;%s=%s:&quot;</span>, e-&gt;<a class="code" href="structAVDictionaryEntry.html#a38fc80176f8f839282bb61c03392e194">key</a>, e-&gt;<a class="code" href="structAVDictionaryEntry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">if</span> (strlen(aresample_swr_opts))</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        aresample_swr_opts[strlen(aresample_swr_opts)-1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <a class="code" href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a>(is-&gt;agraph, <span class="stringliteral">&quot;aresample_swr_opts&quot;</span>, aresample_swr_opts, 0);</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    ret = <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(asrc_args, <span class="keyword">sizeof</span>(asrc_args),</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                   <span class="stringliteral">&quot;sample_rate=%d:sample_fmt=%s:channels=%d:time_base=%d/%d&quot;</span>,</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                   is-&gt;audio_filter_src.freq, <a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(is-&gt;audio_filter_src.fmt),</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                   is-&gt;audio_filter_src.channels,</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                   1, is-&gt;audio_filter_src.freq);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span> (is-&gt;audio_filter_src.channel_layout)</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(asrc_args + ret, <span class="keyword">sizeof</span>(asrc_args) - ret,</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                 <span class="stringliteral">&quot;:channel_layout=0x%&quot;</span>PRIx64,  is-&gt;audio_filter_src.channel_layout);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    ret = <a class="code" href="group__lavfi.html#gac0788a9ab6966dba9318b5d5c7524fea">avfilter_graph_create_filter</a>(&amp;filt_asrc,</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                                       <a class="code" href="group__lavfi.html#gadd774ec49e50edf00158248e1bfe4ae6">avfilter_get_by_name</a>(<span class="stringliteral">&quot;abuffer&quot;</span>), <span class="stringliteral">&quot;ffplay_abuffer&quot;</span>,</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                                       asrc_args, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, is-&gt;agraph);</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    ret = <a class="code" href="group__lavfi.html#gac0788a9ab6966dba9318b5d5c7524fea">avfilter_graph_create_filter</a>(&amp;filt_asink,</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                                       <a class="code" href="group__lavfi.html#gadd774ec49e50edf00158248e1bfe4ae6">avfilter_get_by_name</a>(<span class="stringliteral">&quot;abuffersink&quot;</span>), <span class="stringliteral">&quot;ffplay_abuffersink&quot;</span>,</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                                       <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, is-&gt;agraph);</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="group__opt__set__funcs.html#gac06fc2b2e32f67f067ed7aaec163447f">av_opt_set_int_list</a>(filt_asink, <span class="stringliteral">&quot;sample_fmts&quot;</span>, sample_fmts,  AV_SAMPLE_FMT_NONE, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>)) &lt; 0)</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="group__opt__set__funcs.html#ga3adf7185c21cc080890a5ec02c2e56b2">av_opt_set_int</a>(filt_asink, <span class="stringliteral">&quot;all_channel_counts&quot;</span>, 1, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>)) &lt; 0)</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">if</span> (force_output_format) {</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        channel_layouts[0] = is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">channel_layout</a>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        channels       [0] = is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        sample_rates   [0] = is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="group__opt__set__funcs.html#ga3adf7185c21cc080890a5ec02c2e56b2">av_opt_set_int</a>(filt_asink, <span class="stringliteral">&quot;all_channel_counts&quot;</span>, 0, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>)) &lt; 0)</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="group__opt__set__funcs.html#gac06fc2b2e32f67f067ed7aaec163447f">av_opt_set_int_list</a>(filt_asink, <span class="stringliteral">&quot;channel_layouts&quot;</span>, channel_layouts,  -1, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>)) &lt; 0)</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="group__opt__set__funcs.html#gac06fc2b2e32f67f067ed7aaec163447f">av_opt_set_int_list</a>(filt_asink, <span class="stringliteral">&quot;channel_counts&quot;</span> , channels       ,  -1, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>)) &lt; 0)</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="group__opt__set__funcs.html#gac06fc2b2e32f67f067ed7aaec163447f">av_opt_set_int_list</a>(filt_asink, <span class="stringliteral">&quot;sample_rates&quot;</span>   , sample_rates   ,  -1, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>)) &lt; 0)</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="ffmpeg_8h.html#adfc4727f627c5abd0aa843206d046ec6">configure_filtergraph</a>(is-&gt;agraph, afilters, filt_asrc, filt_asink)) &lt; 0)</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    is-&gt;in_audio_filter  = filt_asrc;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    is-&gt;out_audio_filter = filt_asink;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <a class="code" href="group__lavfi.html#ga871684449dac05050df238a18d0d493b">avfilter_graph_free</a>(&amp;is-&gt;agraph);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;}</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* CONFIG_AVFILTER */</span><span class="preprocessor"></span></div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div><div class="line"><a name="l02022"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a9e52fb3ac57bb21ed32f14311a0634fd"> 2022</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a9e52fb3ac57bb21ed32f14311a0634fd">audio_thread</a>(<span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;{</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <a class="code" href="structAVFrame.html">AVFrame</a> *frame = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *af;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordtype">int</span> last_serial = -1;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    int64_t dec_channel_layout;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordtype">int</span> reconfigure;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keywordtype">int</span> got_frame = 0;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <a class="code" href="structAVRational.html">AVRational</a> <a class="code" href="regdef_8h.html#a70597aa9a5baaa4676f9f8cbe306dae0">tb</a>;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">if</span> (!frame)</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="keywordflow">if</span> ((got_frame = <a class="code" href="ffplay_8c.html#a09fd32cf1173473a29fd8a3d9eb3a785">decoder_decode_frame</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>, frame, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        <span class="keywordflow">if</span> (got_frame) {</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                tb = (<a class="code" href="structAVRational.html">AVRational</a>){1, frame-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>};</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                dec_channel_layout = <a class="code" href="ffplay_8c.html#a176a1c44dc8ca94bead4fab557cc4901">get_valid_channel_layout</a>(frame-&gt;<a class="code" href="structAVFrame.html#a5f343e0325e3e9d9ed20e34c9e156aef">channel_layout</a>, <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(frame));</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                reconfigure =</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                    <a class="code" href="ffplay_8c.html#ad24afec29aebfd9eb8a5e775765fdf52">cmp_audio_fmts</a>(is-&gt;audio_filter_src.fmt, is-&gt;audio_filter_src.channels,</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                                   frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>, <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(frame))    ||</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;                    is-&gt;audio_filter_src.channel_layout != dec_channel_layout ||</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;                    is-&gt;audio_filter_src.freq           != frame-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a> ||</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>               != last_serial;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                <span class="keywordflow">if</span> (reconfigure) {</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                    <span class="keywordtype">char</span> buf1[1024], buf2[1024];</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                    <a class="code" href="group__channel__mask__c.html#ga99d0b5bb80534d13a6cc96336cf9076a">av_get_channel_layout_string</a>(buf1, <span class="keyword">sizeof</span>(buf1), -1, is-&gt;audio_filter_src.channel_layout);</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                    <a class="code" href="group__channel__mask__c.html#ga99d0b5bb80534d13a6cc96336cf9076a">av_get_channel_layout_string</a>(buf2, <span class="keyword">sizeof</span>(buf2), -1, dec_channel_layout);</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                           <span class="stringliteral">&quot;Audio frame changed from rate:%d ch:%d fmt:%s layout:%s serial:%d to rate:%d ch:%d fmt:%s layout:%s serial:%d\n&quot;</span>,</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;                           is-&gt;audio_filter_src.freq, is-&gt;audio_filter_src.channels, <a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(is-&gt;audio_filter_src.fmt), buf1, last_serial,</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;                           frame-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>, <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(frame), <a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>), buf2, is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>);</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                    is-&gt;audio_filter_src.fmt            = frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                    is-&gt;audio_filter_src.channels       = <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(frame);</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                    is-&gt;audio_filter_src.channel_layout = dec_channel_layout;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                    is-&gt;audio_filter_src.freq           = frame-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                    last_serial                         = is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                    <span class="keywordflow">if</span> ((ret = configure_audio_filters(is, afilters, 1)) &lt; 0)</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                        <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                }</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavfi__buffersrc.html#ga8fc71cb48c1ad1aa78b48f87daa4cf19">av_buffersrc_add_frame</a>(is-&gt;in_audio_filter, frame)) &lt; 0)</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <span class="keywordflow">while</span> ((ret = <a class="code" href="group__lavfi__buffersink.html#ga71ae9c529c8da51681e12faa37d1a395">av_buffersink_get_frame_flags</a>(is-&gt;out_audio_filter, frame, 0)) &gt;= 0) {</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                tb = is-&gt;out_audio_filter-&gt;inputs[0]-&gt;time_base;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                <span class="keywordflow">if</span> (!(af = <a class="code" href="ffplay_8c.html#a2df97f65b455c4a9af5b15f33cab4ed8">frame_queue_peek_writable</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>)))</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                    <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                af-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> = (frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) ? <a class="code" href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a> : frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(tb);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                af-&gt;<a class="code" href="structFrame.html#acb133932800fcbccbe5e3c8e6010ceb9">pos</a> = <a class="code" href="group__lavu__frame.html#ga2f09c3e454ca78320a8f3be17d0473c1">av_frame_get_pkt_pos</a>(frame);</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                af-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> = is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                af-&gt;<a class="code" href="structFrame.html#a63cca62f715bae11fb5db7e50a896105">duration</a> = <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>((<a class="code" href="structAVRational.html">AVRational</a>){frame-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>, frame-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>});</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                <a class="code" href="group__lavu__frame.html#ga709e62bc2917ffd84c5c0f4e1dfc48f7">av_frame_move_ref</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>, frame);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                <a class="code" href="ffplay_8c.html#a9b2e8b0d879d7179f62a94edf7ab92e7">frame_queue_push</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>);</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a> != is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>)</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            }</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            <span class="keywordflow">if</span> (ret == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>)</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a> = is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        }</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    } <span class="keywordflow">while</span> (ret &gt;= 0 || ret == <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EAGAIN) || ret == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160; the_end:</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <a class="code" href="group__lavfi.html#ga871684449dac05050df238a18d0d493b">avfilter_graph_free</a>(&amp;is-&gt;agraph);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;frame);</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;}</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;</div><div class="line"><a name="l02109"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ab2336d565e3f800a9bb0d05ce8c3ee5a"> 2109</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ab2336d565e3f800a9bb0d05ce8c3ee5a">decoder_start</a>(<a class="code" href="structDecoder.html">Decoder</a> *d, <span class="keywordtype">int</span> (*<a class="code" href="colorspacedsp__template_8c.html#a2bba01bdbab204f0c8a88211aadf2d77">fn</a>)(<span class="keywordtype">void</span> *), <span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;{</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <a class="code" href="ffplay_8c.html#ac502ea61a2fcb3652a004c39e747574a">packet_queue_start</a>(d-&gt;<a class="code" href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">queue</a>);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    d-&gt;<a class="code" href="structDecoder.html#a5dc52438ebc91ec6b928d402a82d7316">decoder_tid</a> = SDL_CreateThread(<a class="code" href="colorspacedsp__template_8c.html#a2bba01bdbab204f0c8a88211aadf2d77">fn</a>, <span class="stringliteral">&quot;decoder&quot;</span>, arg);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="structDecoder.html#a5dc52438ebc91ec6b928d402a82d7316">decoder_tid</a>) {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;SDL_CreateThread(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    }</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;}</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div><div class="line"><a name="l02120"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa3dbd1716b69dfbd2c698ec7e0cc1240"> 2120</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aa3dbd1716b69dfbd2c698ec7e0cc1240">video_thread</a>(<span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;{</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <a class="code" href="structAVFrame.html">AVFrame</a> *frame = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <a class="code" href="structAVRational.html">AVRational</a> <a class="code" href="regdef_8h.html#a70597aa9a5baaa4676f9f8cbe306dae0">tb</a> = is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <a class="code" href="structAVRational.html">AVRational</a> frame_rate = <a class="code" href="group__lavf__misc.html#ga12c049178414cc221dfafd4e7f836dea">av_guess_frame_rate</a>(is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>, is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <a class="code" href="structAVFilterGraph.html">AVFilterGraph</a> *graph = <a class="code" href="group__lavfi.html#ga6c778454b86f845805ffd814b4ce51d4">avfilter_graph_alloc</a>();</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <a class="code" href="structAVFilterContext.html">AVFilterContext</a> *filt_out = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *filt_in = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordtype">int</span> last_w = 0;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="keywordtype">int</span> last_h = 0;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> last_format = -2;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keywordtype">int</span> last_serial = -1;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="keywordtype">int</span> last_vfilter_idx = 0;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="keywordflow">if</span> (!graph) {</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;frame);</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    }</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">if</span> (!frame) {</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <a class="code" href="group__lavfi.html#ga871684449dac05050df238a18d0d493b">avfilter_graph_free</a>(&amp;graph);</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    }</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        ret = <a class="code" href="ffplay_8c.html#a6cc04b5f00e00954f3cfc3eda2a89d59">get_video_frame</a>(is, frame);</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;            <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <span class="keywordflow">if</span> (!ret)</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="keywordflow">if</span> (   last_w != frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            || last_h != frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a></div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            || last_format != frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a></div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            || last_serial != is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            || last_vfilter_idx != is-&gt;vfilter_idx) {</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                   <span class="stringliteral">&quot;Video frame changed from size:%dx%d format:%s serial:%d to size:%dx%d format:%s serial:%d\n&quot;</span>,</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                   last_w, last_h,</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;                   (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="group__lavu__misc.html#ga87458dccf9ab1444c363df5fa8a3f28f">av_x_if_null</a>(<a class="code" href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a>(last_format), <span class="stringliteral">&quot;none&quot;</span>), last_serial,</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;                   frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>, frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>,</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;                   (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="group__lavu__misc.html#ga87458dccf9ab1444c363df5fa8a3f28f">av_x_if_null</a>(<a class="code" href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a>(frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>), <span class="stringliteral">&quot;none&quot;</span>), is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            <a class="code" href="group__lavfi.html#ga871684449dac05050df238a18d0d493b">avfilter_graph_free</a>(&amp;graph);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            graph = <a class="code" href="group__lavfi.html#ga6c778454b86f845805ffd814b4ce51d4">avfilter_graph_alloc</a>();</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            <span class="keywordflow">if</span> ((ret = configure_video_filters(graph, is, vfilters_list ? vfilters_list[is-&gt;vfilter_idx] : <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, frame)) &lt; 0) {</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;                SDL_Event event;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                <span class="keyword">event</span>.type = <a class="code" href="ffplay_8c.html#ac1040cd1bf00985c6ed227b77c9b73b2">FF_QUIT_EVENT</a>;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                <span class="keyword">event</span>.user.data1 = is;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                SDL_PushEvent(&amp;event);</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            }</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;            filt_in  = is-&gt;in_video_filter;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            filt_out = is-&gt;out_video_filter;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;            last_w = frame-&gt;<a class="code" href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            last_h = frame-&gt;<a class="code" href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            last_format = frame-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            last_serial = is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            last_vfilter_idx = is-&gt;vfilter_idx;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;            frame_rate = filt_out-&gt;<a class="code" href="structAVFilterContext.html#a6837bf4b3d70c0a2bd3122f9daadc0d4">inputs</a>[0]-&gt;<a class="code" href="structAVFilterLink.html#a9711515003bff06b74d02adb751e8c78">frame_rate</a>;</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        }</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        ret = <a class="code" href="group__lavfi__buffersrc.html#ga8fc71cb48c1ad1aa78b48f87daa4cf19">av_buffersrc_add_frame</a>(filt_in, frame);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        <span class="keywordflow">while</span> (ret &gt;= 0) {</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a78d6d8f53054c1f4799e23ae1927e6dd">frame_last_returned_time</a> = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() / 1000000.0;</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            ret = <a class="code" href="group__lavfi__buffersink.html#ga71ae9c529c8da51681e12faa37d1a395">av_buffersink_get_frame_flags</a>(filt_out, frame, 0);</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                <span class="keywordflow">if</span> (ret == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>)</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a> = is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                ret = 0;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            }</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#abf7f37ec79ebcb5247e82f9f50f3c38d">frame_last_filter_delay</a> = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() / 1000000.0 - is-&gt;<a class="code" href="structVideoState.html#a78d6d8f53054c1f4799e23ae1927e6dd">frame_last_returned_time</a>;</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            <span class="keywordflow">if</span> (fabs(is-&gt;<a class="code" href="structVideoState.html#abf7f37ec79ebcb5247e82f9f50f3c38d">frame_last_filter_delay</a>) &gt; <a class="code" href="ffplay_8c.html#acf97e1f169c9faedcaf115ec6e17406c">AV_NOSYNC_THRESHOLD</a> / 10.0)</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#abf7f37ec79ebcb5247e82f9f50f3c38d">frame_last_filter_delay</a> = 0;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            tb = filt_out-&gt;<a class="code" href="structAVFilterContext.html#a6837bf4b3d70c0a2bd3122f9daadc0d4">inputs</a>[0]-&gt;<a class="code" href="structAVFilterLink.html#a5d947aa9541b02e25db472656d69ea53">time_base</a>;</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;            duration = (frame_rate.<a class="code" href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; frame_rate.<a class="code" href="structAVRational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> ? <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>((<a class="code" href="structAVRational.html">AVRational</a>){frame_rate.<a class="code" href="structAVRational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, frame_rate.<a class="code" href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>}) : 0);</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            pts = (frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) ? <a class="code" href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a> : frame-&gt;<a class="code" href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a> * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(tb);</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;            ret = <a class="code" href="ffplay_8c.html#aeb36d2c84818a189f97d38d4348e1e5b">queue_picture</a>(is, frame, pts, duration, <a class="code" href="group__lavu__frame.html#ga2f09c3e454ca78320a8f3be17d0473c1">av_frame_get_pkt_pos</a>(frame), is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>);</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;            <a class="code" href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a>(frame);</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        }</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;            <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    }</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160; the_end:</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <a class="code" href="group__lavfi.html#ga871684449dac05050df238a18d0d493b">avfilter_graph_free</a>(&amp;graph);</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;frame);</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;}</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div><div class="line"><a name="l02229"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a678e233c40bfc99996df1a52f51d1b4b"> 2229</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a678e233c40bfc99996df1a52f51d1b4b">subtitle_thread</a>(<span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;{</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="keywordtype">int</span> got_subtitle;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <span class="keywordflow">if</span> (!(sp = <a class="code" href="ffplay_8c.html#a2df97f65b455c4a9af5b15f33cab4ed8">frame_queue_peek_writable</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>)))</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        <span class="keywordflow">if</span> ((got_subtitle = <a class="code" href="ffplay_8c.html#a09fd32cf1173473a29fd8a3d9eb3a785">decoder_decode_frame</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>)) &lt; 0)</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        pts = 0;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <span class="keywordflow">if</span> (got_subtitle &amp;&amp; sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#a03cabc402df10e7ee9b92df6284b09c1">format</a> == 0) {</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;            <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#af7cc390bba4f9d6c32e391ca59d117a2">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                pts = sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>.<a class="code" href="structAVSubtitle.html#af7cc390bba4f9d6c32e391ca59d117a2">pts</a> / (double)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;            sp-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> = <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            sp-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> = is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>.<a class="code" href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">pkt_serial</a>;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            sp-&gt;<a class="code" href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">width</a> = is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>.<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;            sp-&gt;<a class="code" href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">height</a> = is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>.<a class="code" href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">avctx</a>-&gt;<a class="code" href="structAVCodecContext.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;            sp-&gt;<a class="code" href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">uploaded</a> = 0;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <span class="comment">/* now we can update the picture count */</span></div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            <a class="code" href="ffplay_8c.html#a9b2e8b0d879d7179f62a94edf7ab92e7">frame_queue_push</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>);</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (got_subtitle) {</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            <a class="code" href="group__lavc__core.html#gaa2c3e02a761d9fc0c5c9b2340408c332">avsubtitle_free</a>(&amp;sp-&gt;<a class="code" href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">sub</a>);</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        }</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    }</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;}</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="comment">/* copy samples for viewing in editor window */</span></div><div class="line"><a name="l02264"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ad09cb57414863a8f8c0442320a20574f"> 2264</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#ad09cb57414863a8f8c0442320a20574f">update_sample_display</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">short</span> *samples, <span class="keywordtype">int</span> samples_size)</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;{</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    size = samples_size / <span class="keyword">sizeof</span>(short);</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keywordflow">while</span> (size &gt; 0) {</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        len = <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a> - is-&gt;<a class="code" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">sample_array_index</a>;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <span class="keywordflow">if</span> (len &gt; size)</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            len = <a class="code" href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        memcpy(is-&gt;<a class="code" href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">sample_array</a> + is-&gt;<a class="code" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">sample_array_index</a>, samples, len * <span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        samples += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">sample_array_index</a> += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">sample_array_index</a> &gt;= <a class="code" href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a>)</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">sample_array_index</a> = 0;</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        size -= <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    }</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;}</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment">/* return the wanted number of samples to get better sync if sync_type is video</span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment"> * or external master clock */</span></div><div class="line"><a name="l02284"></a><span class="lineno"><a class="line" href="ffplay_8c.html#af96730093feb8a2e78bf47c632a0f93c"> 2284</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#af96730093feb8a2e78bf47c632a0f93c">synchronize_audio</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">int</span> nb_samples)</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;{</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <span class="keywordtype">int</span> wanted_nb_samples = nb_samples;</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="comment">/* if not master, then we try to remove or add samples to correct the clock */</span></div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a>(is) != <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>) {</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>, avg_diff;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        <span class="keywordtype">int</span> min_nb_samples, max_nb_samples;</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        diff = <a class="code" href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>) - <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(is);</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(diff) &amp;&amp; fabs(diff) &lt; <a class="code" href="ffplay_8c.html#acf97e1f169c9faedcaf115ec6e17406c">AV_NOSYNC_THRESHOLD</a>) {</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a5a38557686964f8ad1c48de94414b133">audio_diff_cum</a> = diff + is-&gt;<a class="code" href="structVideoState.html#a63f0b85be8b74e13eacbc44cca07816c">audio_diff_avg_coef</a> * is-&gt;<a class="code" href="structVideoState.html#a5a38557686964f8ad1c48de94414b133">audio_diff_cum</a>;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a983a5e219b6f873afb0e7137cc1936e8">audio_diff_avg_count</a> &lt; <a class="code" href="ffplay_8c.html#a996f890c6cfe7a0ad3bc98a999c2cbb7">AUDIO_DIFF_AVG_NB</a>) {</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                <span class="comment">/* not enough measures to have a correct estimate */</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#a983a5e219b6f873afb0e7137cc1936e8">audio_diff_avg_count</a>++;</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                <span class="comment">/* estimate the A-V difference */</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;                avg_diff = is-&gt;<a class="code" href="structVideoState.html#a5a38557686964f8ad1c48de94414b133">audio_diff_cum</a> * (1.0 - is-&gt;<a class="code" href="structVideoState.html#a63f0b85be8b74e13eacbc44cca07816c">audio_diff_avg_coef</a>);</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;                <span class="keywordflow">if</span> (fabs(avg_diff) &gt;= is-&gt;<a class="code" href="structVideoState.html#a5def703507c8ca5ac806166b1f22ea28">audio_diff_threshold</a>) {</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;                    wanted_nb_samples = nb_samples + (<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(diff * is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>);</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                    min_nb_samples = ((nb_samples * (100 - <a class="code" href="ffplay_8c.html#ae0b4db738508a390710a4a4402b2d86b">SAMPLE_CORRECTION_PERCENT_MAX</a>) / 100));</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                    max_nb_samples = ((nb_samples * (100 + <a class="code" href="ffplay_8c.html#ae0b4db738508a390710a4a4402b2d86b">SAMPLE_CORRECTION_PERCENT_MAX</a>) / 100));</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;                    wanted_nb_samples = av_clip(wanted_nb_samples, min_nb_samples, max_nb_samples);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;                }</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;diff=%f adiff=%f sample_diff=%d apts=%0.3f %f\n&quot;</span>,</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;                        diff, avg_diff, wanted_nb_samples - nb_samples,</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;                        is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a>, is-&gt;<a class="code" href="structVideoState.html#a5def703507c8ca5ac806166b1f22ea28">audio_diff_threshold</a>);</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;            }</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <span class="comment">/* too big difference : may be initial PTS errors, so</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;<span class="comment">               reset A-V filter */</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a983a5e219b6f873afb0e7137cc1936e8">audio_diff_avg_count</a> = 0;</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a5a38557686964f8ad1c48de94414b133">audio_diff_cum</a>       = 0;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        }</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    }</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">return</span> wanted_nb_samples;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;}</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="comment"> * Decode one audio frame and return its uncompressed size.</span></div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="comment"> * The processed audio frame is decoded, converted if required, and</span></div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="comment"> * stored in is-&gt;audio_buf, with size in bytes given by the return</span></div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="comment"> * value.</span></div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02332"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a2eedf5ef2448c6e0e30f36a8d4b73aae"> 2332</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a2eedf5ef2448c6e0e30f36a8d4b73aae">audio_decode_frame</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;{</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <span class="keywordtype">int</span> data_size, resampled_data_size;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    int64_t dec_channel_layout;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <a class="code" href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a> <span class="keywordtype">double</span> audio_clock0;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="keywordtype">int</span> wanted_nb_samples;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <a class="code" href="structFrame.html">Frame</a> *af;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>)</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="preprocessor">#if defined(_WIN32)</span></div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>) == 0) {</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() - <a class="code" href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">audio_callback_time</a>) &gt; 1000000<a class="code" href="ff__glob_8c.html#a4bbb2f081a64bd1133aa6ba6f29525ab">LL</a> * is-&gt;<a class="code" href="structVideoState.html#a8a075ca48d17c746b9b1ee9a15bd60ca">audio_hw_buf_size</a> / is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">bytes_per_sec</a> / 2)</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;            <a class="code" href="time_8c.html#a4eee9c65835652a808973f4bc1641a51">av_usleep</a> (1000);</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        }</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        <span class="keywordflow">if</span> (!(af = <a class="code" href="ffplay_8c.html#a7aff76f8071bb6a27cad2772b5f2799d">frame_queue_peek_readable</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>)))</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        <a class="code" href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">frame_queue_next</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>);</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    } <span class="keywordflow">while</span> (af-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a> != is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>);</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    data_size = <a class="code" href="group__lavu__sampfmts.html#gaa7368bc4e3a366b688e81938ed55eb06">av_samples_get_buffer_size</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>),</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                                           af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>,</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                                           af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>, 1);</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    dec_channel_layout =</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;        (af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a5f343e0325e3e9d9ed20e34c9e156aef">channel_layout</a> &amp;&amp; <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>) == <a class="code" href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a5f343e0325e3e9d9ed20e34c9e156aef">channel_layout</a>)) ?</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;        af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a5f343e0325e3e9d9ed20e34c9e156aef">channel_layout</a> : <a class="code" href="group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2">av_get_default_channel_layout</a>(<a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>));</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    wanted_nb_samples = <a class="code" href="ffplay_8c.html#af96730093feb8a2e78bf47c632a0f93c">synchronize_audio</a>(is, af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>);</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="keywordflow">if</span> (af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>        != is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a>            ||</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        dec_channel_layout       != is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">channel_layout</a> ||</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>   != is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>           ||</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        (wanted_nb_samples       != af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a> &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>)) {</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;        <a class="code" href="group__lswr.html#ga818f7d78b1ad7d8d5b70de374b668c34">swr_free</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a> = <a class="code" href="group__lswr.html#gad7f29022726c871aadf935281a9813bc">swr_alloc_set_opts</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                                         is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">channel_layout</a>, is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a>, is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>,</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                                         dec_channel_layout,           af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>, af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>,</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                                         0, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a> || <a class="code" href="group__lswr.html#gae173e8ed91717700471a1dcd06f00f67">swr_init</a>(is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>) &lt; 0) {</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                   <span class="stringliteral">&quot;Cannot create sample rate converter for conversion of %d Hz %s %d channels to %d Hz %s %d channels!\n&quot;</span>,</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;                    af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>, <a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>), <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>),</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>, <a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a>), is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>);</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            <a class="code" href="group__lswr.html#ga818f7d78b1ad7d8d5b70de374b668c34">swr_free</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;        }</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">channel_layout</a> = dec_channel_layout;</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>       = <a class="code" href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a>(af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a> = af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a>.<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a> = af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">format</a>;</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    }</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>) {</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **<a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> = (<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **)af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#afca04d808393822625e09b5ba91c6756">extended_data</a>;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a> = &amp;is-&gt;<a class="code" href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">audio_buf1</a>;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="keywordtype">int</span> out_count = (int64_t)wanted_nb_samples * is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a> / af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a> + 256;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a6b2e93f2f2db9a65b19a2487c6b1f78b">out_size</a>  = <a class="code" href="group__lavu__sampfmts.html#gaa7368bc4e3a366b688e81938ed55eb06">av_samples_get_buffer_size</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>, out_count, is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a>, 0);</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="keywordtype">int</span> len2;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        <span class="keywordflow">if</span> (out_size &lt; 0) {</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;av_samples_get_buffer_size() failed\n&quot;</span>);</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        }</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        <span class="keywordflow">if</span> (wanted_nb_samples != af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>) {</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lswr.html#gab7f21690522b85d7757e13fa9853d4d8">swr_set_compensation</a>(is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>, (wanted_nb_samples - af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>) * is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a> / af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>,</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;                                        wanted_nb_samples * is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a> / af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>) &lt; 0) {</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;swr_set_compensation() failed\n&quot;</span>);</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;            }</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        }</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga29d0252b981f157e713a68ffca52f003">av_fast_malloc</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">audio_buf1</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#ac566552a44eea599642d781691738197">audio_buf1_size</a>, out_size);</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">audio_buf1</a>)</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        len2 = <a class="code" href="swresample_8c.html#a51b7594d861f8b79a717743c585e413b">swr_convert</a>(is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>, <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, out_count, in, af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>);</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <span class="keywordflow">if</span> (len2 &lt; 0) {</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;swr_convert() failed\n&quot;</span>);</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        }</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        <span class="keywordflow">if</span> (len2 == out_count) {</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;audio buffer is probably too small\n&quot;</span>);</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lswr.html#gae173e8ed91717700471a1dcd06f00f67">swr_init</a>(is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>) &lt; 0)</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                <a class="code" href="group__lswr.html#ga818f7d78b1ad7d8d5b70de374b668c34">swr_free</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">swr_ctx</a>);</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        }</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a> = is-&gt;<a class="code" href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">audio_buf1</a>;</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        resampled_data_size = len2 * is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a> * <a class="code" href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a>(is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a>);</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a> = af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0];</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        resampled_data_size = data_size;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    }</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    audio_clock0 = is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a>;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="comment">/* update the audio clock with the pts */</span></div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(af-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a>))</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a> = af-&gt;<a class="code" href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">pts</a> + (double) af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a> / af-&gt;<a class="code" href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">frame</a>-&gt;<a class="code" href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">sample_rate</a>;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a> = <a class="code" href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ac0784c264a50efe01145667f4124e65d">audio_clock_serial</a> = af-&gt;<a class="code" href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">serial</a>;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;#ifdef <a class="code" href="vf__framerate_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    {</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> last_clock;</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        printf(<span class="stringliteral">&quot;audio: delay=%0.3f clock=%0.3f clock0=%0.3f\n&quot;</span>,</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;               is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a> - last_clock,</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;               is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a>, audio_clock0);</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;        last_clock = is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a>;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    }</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">return</span> resampled_data_size;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;}</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;<span class="comment">/* prepare a new audio buffer */</span></div><div class="line"><a name="l02445"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a2e1afaed2f153859a7382b2a5449292d"> 2445</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a2e1afaed2f153859a7382b2a5449292d">sdl_audio_callback</a>(<span class="keywordtype">void</span> *opaque, Uint8 *stream, <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;{</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is = opaque;</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="keywordtype">int</span> audio_size, len1;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    <a class="code" href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">audio_callback_time</a> = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>();</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">while</span> (len &gt; 0) {</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a> &gt;= is-&gt;<a class="code" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">audio_buf_size</a>) {</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;           audio_size = <a class="code" href="ffplay_8c.html#a2eedf5ef2448c6e0e30f36a8d4b73aae">audio_decode_frame</a>(is);</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;           <span class="keywordflow">if</span> (audio_size &lt; 0) {</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                <span class="comment">/* if error, just output silence */</span></div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;               is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;               is-&gt;<a class="code" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">audio_buf_size</a> = <a class="code" href="ffplay_8c.html#aa1d9c10197a7f3c6a2d26879ee3e55d9">SDL_AUDIO_MIN_BUFFER_SIZE</a> / is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#ac1c209ac6920670d067ddff37408b545">frame_size</a> * is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#ac1c209ac6920670d067ddff37408b545">frame_size</a>;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;           } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;               <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> != SHOW_MODE_VIDEO)</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                   <a class="code" href="ffplay_8c.html#ad09cb57414863a8f8c0442320a20574f">update_sample_display</a>(is, (int16_t *)is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a>, audio_size);</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;               is-&gt;<a class="code" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">audio_buf_size</a> = audio_size;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;           }</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;           is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a> = 0;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        }</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        len1 = is-&gt;<a class="code" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">audio_buf_size</a> - is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a>;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;        <span class="keywordflow">if</span> (len1 &gt; len)</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;            len1 = <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">muted</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">audio_volume</a> == SDL_MIX_MAXVOLUME)</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;            memcpy(stream, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *)is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a> + is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a>, len1);</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;            memset(stream, 0, len1);</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;            <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">muted</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a>)</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;                SDL_MixAudio(stream, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *)is-&gt;<a class="code" href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">audio_buf</a> + is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a>, len1, is-&gt;<a class="code" href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">audio_volume</a>);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        }</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        len -= len1;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        stream += len1;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a> += len1;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    }</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ae20bb85c4d7f28f47af1c12a7aa5043c">audio_write_buf_size</a> = is-&gt;<a class="code" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">audio_buf_size</a> - is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a>;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="comment">/* Let&#39;s assume the audio driver that is used by SDL has two periods. */</span></div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a>)) {</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        <a class="code" href="ffplay_8c.html#a226c80ed049d5f123df4407b19839094">set_clock_at</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>, is-&gt;<a class="code" href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">audio_clock</a> - (<span class="keywordtype">double</span>)(2 * is-&gt;<a class="code" href="structVideoState.html#a8a075ca48d17c746b9b1ee9a15bd60ca">audio_hw_buf_size</a> + is-&gt;<a class="code" href="structVideoState.html#ae20bb85c4d7f28f47af1c12a7aa5043c">audio_write_buf_size</a>) / is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">bytes_per_sec</a>, is-&gt;<a class="code" href="structVideoState.html#ac0784c264a50efe01145667f4124e65d">audio_clock_serial</a>, <a class="code" href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">audio_callback_time</a> / 1000000.0);</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;        <a class="code" href="ffplay_8c.html#aee40f9e95a2467195ddefff0c417606b">sync_clock_to_slave</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>);</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    }</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;}</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a74b575ea52802ae98be73435125b7710"> 2488</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a74b575ea52802ae98be73435125b7710">audio_open</a>(<span class="keywordtype">void</span> *opaque, int64_t wanted_channel_layout, <span class="keywordtype">int</span> wanted_nb_channels, <span class="keywordtype">int</span> wanted_sample_rate, <span class="keyword">struct</span> <a class="code" href="structAudioParams.html">AudioParams</a> *audio_hw_params)</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;{</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    SDL_AudioSpec wanted_spec, spec;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *env;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> next_nb_channels[] = {0, 0, 1, 6, 2, 6, 4, 6};</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> next_sample_rates[] = {0, 44100, 48000, 96000, 192000};</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <span class="keywordtype">int</span> next_sample_rate_idx = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(next_sample_rates) - 1;</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    env = SDL_getenv(<span class="stringliteral">&quot;SDL_AUDIO_CHANNELS&quot;</span>);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="keywordflow">if</span> (env) {</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        wanted_nb_channels = atoi(env);</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        wanted_channel_layout = <a class="code" href="group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2">av_get_default_channel_layout</a>(wanted_nb_channels);</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    }</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="keywordflow">if</span> (!wanted_channel_layout || wanted_nb_channels != <a class="code" href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a>(wanted_channel_layout)) {</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        wanted_channel_layout = <a class="code" href="group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2">av_get_default_channel_layout</a>(wanted_nb_channels);</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        wanted_channel_layout &amp;= ~<a class="code" href="group__channel__mask__c.html#ga3004e784b29fd907a0d4aebeca0e6933">AV_CH_LAYOUT_STEREO_DOWNMIX</a>;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    }</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    wanted_nb_channels = <a class="code" href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a>(wanted_channel_layout);</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    wanted_spec.channels = wanted_nb_channels;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    wanted_spec.freq = wanted_sample_rate;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordflow">if</span> (wanted_spec.freq &lt;= 0 || wanted_spec.channels &lt;= 0) {</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid sample rate or channel count!\n&quot;</span>);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    }</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <span class="keywordflow">while</span> (next_sample_rate_idx &amp;&amp; next_sample_rates[next_sample_rate_idx] &gt;= wanted_spec.freq)</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        next_sample_rate_idx--;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    wanted_spec.format = AUDIO_S16SYS;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    wanted_spec.silence = 0;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    wanted_spec.samples = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="ffplay_8c.html#aa1d9c10197a7f3c6a2d26879ee3e55d9">SDL_AUDIO_MIN_BUFFER_SIZE</a>, 2 &lt;&lt; <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(wanted_spec.freq / <a class="code" href="ffplay_8c.html#a048518dec3903cb5e3f0a53721534445">SDL_AUDIO_MAX_CALLBACKS_PER_SEC</a>));</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    wanted_spec.callback = <a class="code" href="ffplay_8c.html#a2e1afaed2f153859a7382b2a5449292d">sdl_audio_callback</a>;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    wanted_spec.userdata = opaque;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">while</span> (SDL_OpenAudio(&amp;wanted_spec, &amp;spec) &lt; 0) {</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;SDL_OpenAudio (%d channels, %d Hz): %s\n&quot;</span>,</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;               wanted_spec.channels, wanted_spec.freq, SDL_GetError());</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        wanted_spec.channels = next_nb_channels[<a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(7, wanted_spec.channels)];</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;        <span class="keywordflow">if</span> (!wanted_spec.channels) {</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;            wanted_spec.freq = next_sample_rates[next_sample_rate_idx--];</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;            wanted_spec.channels = wanted_nb_channels;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;            <span class="keywordflow">if</span> (!wanted_spec.freq) {</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                       <span class="stringliteral">&quot;No more combinations to try, audio open failed\n&quot;</span>);</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;            }</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        }</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        wanted_channel_layout = <a class="code" href="group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2">av_get_default_channel_layout</a>(wanted_spec.channels);</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    }</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    <span class="keywordflow">if</span> (spec.format != AUDIO_S16SYS) {</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;               <span class="stringliteral">&quot;SDL advised audio format %d is not supported!\n&quot;</span>, spec.format);</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    }</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="keywordflow">if</span> (spec.channels != wanted_spec.channels) {</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        wanted_channel_layout = <a class="code" href="group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2">av_get_default_channel_layout</a>(spec.channels);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        <span class="keywordflow">if</span> (!wanted_channel_layout) {</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                   <span class="stringliteral">&quot;SDL advised channel count %d is not supported!\n&quot;</span>, spec.channels);</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        }</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    }</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    audio_hw_params-&gt;<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a> = <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    audio_hw_params-&gt;<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a> = spec.freq;</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    audio_hw_params-&gt;<a class="code" href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">channel_layout</a> = wanted_channel_layout;</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    audio_hw_params-&gt;<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a> =  spec.channels;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    audio_hw_params-&gt;<a class="code" href="structAudioParams.html#ac1c209ac6920670d067ddff37408b545">frame_size</a> = <a class="code" href="group__lavu__sampfmts.html#gaa7368bc4e3a366b688e81938ed55eb06">av_samples_get_buffer_size</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, audio_hw_params-&gt;<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>, 1, audio_hw_params-&gt;<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a>, 1);</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    audio_hw_params-&gt;<a class="code" href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">bytes_per_sec</a> = <a class="code" href="group__lavu__sampfmts.html#gaa7368bc4e3a366b688e81938ed55eb06">av_samples_get_buffer_size</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, audio_hw_params-&gt;<a class="code" href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">channels</a>, audio_hw_params-&gt;<a class="code" href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">freq</a>, audio_hw_params-&gt;<a class="code" href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">fmt</a>, 1);</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="keywordflow">if</span> (audio_hw_params-&gt;<a class="code" href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">bytes_per_sec</a> &lt;= 0 || audio_hw_params-&gt;<a class="code" href="structAudioParams.html#ac1c209ac6920670d067ddff37408b545">frame_size</a> &lt;= 0) {</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;av_samples_get_buffer_size failed\n&quot;</span>);</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    }</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="keywordflow">return</span> spec.size;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;}</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;<span class="comment">/* open a given stream. Return 0 if OK */</span></div><div class="line"><a name="l02562"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aace6c0812813972836bb4ff5ba50ef9c"> 2562</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aace6c0812813972836bb4ff5ba50ef9c">stream_component_open</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">int</span> stream_index)</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;{</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <a class="code" href="structAVFormatContext.html">AVFormatContext</a> *ic = is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <a class="code" href="structAVCodecContext.html">AVCodecContext</a> *avctx;</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <a class="code" href="structAVCodec.html">AVCodec</a> *codec;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *forced_codec_name = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <a class="code" href="structAVDictionary.html">AVDictionary</a> *<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <a class="code" href="structAVDictionaryEntry.html">AVDictionaryEntry</a> *t = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>, <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>;</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    int64_t channel_layout;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keywordtype">int</span> stream_lowres = <a class="code" href="ffplay_8c.html#aa17db53707ff07836c83b270c7613c1f">lowres</a>;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keywordflow">if</span> (stream_index &lt; 0 || stream_index &gt;= ic-&gt;<a class="code" href="structAVFormatContext.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>)</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    avctx = <a class="code" href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="keywordflow">if</span> (!avctx)</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    ret = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(avctx, ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index]-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    <a class="code" href="group__lavc__core.html#ga89c6c7cf5717165b8751aa84bf397557">av_codec_set_pkt_timebase</a>(avctx, ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index]-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    codec = <a class="code" href="group__lavc__decoding.html#ga19a0ca553277f019dd5b0fec6e1f9dca">avcodec_find_decoder</a>(avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>);</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keywordflow">switch</span>(avctx-&gt;<a class="code" href="structAVCodecContext.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a>){</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>   : is-&gt;<a class="code" href="structVideoState.html#ac7b1fd07ce01d234ff33f3da630e7a1c">last_audio_stream</a>    = stream_index; forced_codec_name =    <a class="code" href="ffplay_8c.html#a765905fd1694893cf8523999e58c88c6">audio_codec_name</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>: is-&gt;<a class="code" href="structVideoState.html#aa07580e0a04b1feb51e246adbd52d326">last_subtitle_stream</a> = stream_index; forced_codec_name = <a class="code" href="ffplay_8c.html#ae11ee1a372bd6516e484c0643d450e04">subtitle_codec_name</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>   : is-&gt;<a class="code" href="structVideoState.html#ac00f66760b47071a9db6e3a2c1b2dc5d">last_video_stream</a>    = stream_index; forced_codec_name =    <a class="code" href="ffplay_8c.html#a591a324cad0ca94e4a84dbdf229e5a02">video_codec_name</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    }</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <span class="keywordflow">if</span> (forced_codec_name)</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        codec = <a class="code" href="group__lavc__decoding.html#ga776f2359007e8457799503068419e791">avcodec_find_decoder_by_name</a>(forced_codec_name);</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <span class="keywordflow">if</span> (!codec) {</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        <span class="keywordflow">if</span> (forced_codec_name) <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;                                      <span class="stringliteral">&quot;No codec could be found with name &#39;%s&#39;\n&quot;</span>, forced_codec_name);</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <span class="keywordflow">else</span>                   <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;                                      <span class="stringliteral">&quot;No codec could be found with id %d\n&quot;</span>, avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EINVAL);</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    }</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> = codec-&gt;<a class="code" href="structAVCodec.html#a01a53d07936f4c7ee280444793b6967b">id</a>;</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="keywordflow">if</span>(stream_lowres &gt; <a class="code" href="group__lavc__core.html#gafda0a87bc29a129cd12e858b4609cccd">av_codec_get_max_lowres</a>(codec)){</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;The maximum value for lowres supported by the decoder is %d\n&quot;</span>,</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;                <a class="code" href="group__lavc__core.html#gafda0a87bc29a129cd12e858b4609cccd">av_codec_get_max_lowres</a>(codec));</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;        stream_lowres = <a class="code" href="group__lavc__core.html#gafda0a87bc29a129cd12e858b4609cccd">av_codec_get_max_lowres</a>(codec);</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    }</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <a class="code" href="group__lavc__core.html#gaf4af025ede1f451152486b8f2805f544">av_codec_set_lowres</a>(avctx, stream_lowres);</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="preprocessor">#if FF_API_EMU_EDGE</span></div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordflow">if</span>(stream_lowres) avctx-&gt;<a class="code" href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">flags</a> |= <a class="code" href="group__lavc__core.html#ga59f363ca5d22ad82adab3a5e6f520d10">CODEC_FLAG_EMU_EDGE</a>;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aa18328079ae64794c5c9af8b32901004">fast</a>)</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#a1944f9a4f8f2e123c087e1fe7613d571">flags2</a> |= <a class="code" href="group__lavc__core.html#ga1a6a486e686ab6c581ffffcb88cb31b3">AV_CODEC_FLAG2_FAST</a>;</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<span class="preprocessor">#if FF_API_EMU_EDGE</span></div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="keywordflow">if</span>(codec-&gt;<a class="code" href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a> &amp; <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>)</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        avctx-&gt;<a class="code" href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">flags</a> |= <a class="code" href="group__lavc__core.html#ga59f363ca5d22ad82adab3a5e6f520d10">CODEC_FLAG_EMU_EDGE</a>;</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    opts = <a class="code" href="cmdutils_8c.html#a98c102ceb9bca5531e6d43f951e9afed">filter_codec_opts</a>(<a class="code" href="cmdutils_8c.html#aade971c14ebd8eacf328845208aad523">codec_opts</a>, avctx-&gt;<a class="code" href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>, ic, ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index], codec);</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(opts, <span class="stringliteral">&quot;threads&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;opts, <span class="stringliteral">&quot;threads&quot;</span>, <span class="stringliteral">&quot;auto&quot;</span>, 0);</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="keywordflow">if</span> (stream_lowres)</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(&amp;opts, <span class="stringliteral">&quot;lowres&quot;</span>, stream_lowres, 0);</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> || avctx-&gt;<a class="code" href="structAVCodecContext.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;opts, <span class="stringliteral">&quot;refcounted_frames&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, 0);</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a>(avctx, codec, &amp;opts)) &lt; 0) {</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    }</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordflow">if</span> ((t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(opts, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>))) {</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Option %s not found.\n&quot;</span>, t-&gt;<a class="code" href="structAVDictionaryEntry.html#a38fc80176f8f839282bb61c03392e194">key</a>);</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;        ret =  <a class="code" href="group__lavu__error.html#gaf5a8745befceddae26f2dc11ecf21679">AVERROR_OPTION_NOT_FOUND</a>;</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    }</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">eof</a> = 0;</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index]-&gt;<a class="code" href="structAVStream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> = <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b">AVDISCARD_DEFAULT</a>;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="structAVCodecContext.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a>) {</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;        {</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;            <a class="code" href="structAVFilterLink.html">AVFilterLink</a> *link;</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;            is-&gt;audio_filter_src.freq           = avctx-&gt;<a class="code" href="structAVCodecContext.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a>;</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;            is-&gt;audio_filter_src.channels       = avctx-&gt;<a class="code" href="structAVCodecContext.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;            is-&gt;audio_filter_src.channel_layout = <a class="code" href="ffplay_8c.html#a176a1c44dc8ca94bead4fab557cc4901">get_valid_channel_layout</a>(avctx-&gt;<a class="code" href="structAVCodecContext.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a>, avctx-&gt;<a class="code" href="structAVCodecContext.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>);</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;            is-&gt;audio_filter_src.fmt            = avctx-&gt;<a class="code" href="structAVCodecContext.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a>;</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;            <span class="keywordflow">if</span> ((ret = configure_audio_filters(is, afilters, 0)) &lt; 0)</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;            link = is-&gt;out_audio_filter-&gt;inputs[0];</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;            sample_rate    = link-&gt;<a class="code" href="structAVFilterLink.html#a677fc96f61176fe6505e3a06452a064e">sample_rate</a>;</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;            nb_channels    = <a class="code" href="group__lavfi.html#ga8c75ac0df01ef6fbab65b8a92d2af944">avfilter_link_get_channels</a>(link);</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;            channel_layout = link-&gt;<a class="code" href="structAVFilterLink.html#aab7e446d3a652438d8a9d7c72a800f5b">channel_layout</a>;</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        }</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        sample_rate    = avctx-&gt;<a class="code" href="structAVCodecContext.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a>;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        nb_channels    = avctx-&gt;<a class="code" href="structAVCodecContext.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        channel_layout = avctx-&gt;<a class="code" href="structAVCodecContext.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a>;</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <span class="comment">/* prepare audio output */</span></div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="ffplay_8c.html#a74b575ea52802ae98be73435125b7710">audio_open</a>(is, channel_layout, nb_channels, sample_rate, &amp;is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>)) &lt; 0)</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a8a075ca48d17c746b9b1ee9a15bd60ca">audio_hw_buf_size</a> = ret;</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">audio_src</a> = is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">audio_buf_size</a>  = 0;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">audio_buf_index</a> = 0;</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        <span class="comment">/* init averaging filter */</span></div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a63f0b85be8b74e13eacbc44cca07816c">audio_diff_avg_coef</a>  = <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>(log(0.01) / <a class="code" href="ffplay_8c.html#a996f890c6cfe7a0ad3bc98a999c2cbb7">AUDIO_DIFF_AVG_NB</a>);</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a983a5e219b6f873afb0e7137cc1936e8">audio_diff_avg_count</a> = 0;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        <span class="comment">/* since we do not have a precise anough audio FIFO fullness,</span></div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;<span class="comment">           we correct audio sync only if larger than this threshold */</span></div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a5def703507c8ca5ac806166b1f22ea28">audio_diff_threshold</a> = (double)(is-&gt;<a class="code" href="structVideoState.html#a8a075ca48d17c746b9b1ee9a15bd60ca">audio_hw_buf_size</a>) / is-&gt;<a class="code" href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">audio_tgt</a>.<a class="code" href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">bytes_per_sec</a>;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> = stream_index;</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a> = ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index];</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        <a class="code" href="ffplay_8c.html#aa8ec890d4b82ec96dbc5db8ab81cbe95">decoder_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>, avctx, &amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>, is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>);</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;        <span class="keywordflow">if</span> ((is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a1b30f6647d0c2faf38ba8786d7c3a838">flags</a> &amp; (<a class="code" href="avformat_8h.html#a8f47c7c3b5763fc7199f41741d759a70">AVFMT_NOBINSEARCH</a> | <a class="code" href="avformat_8h.html#a860dc077e9c782de0d49a2d4d968b64a">AVFMT_NOGENSEARCH</a> | <a class="code" href="avformat_8h.html#a6286e2977286a22b622cb51cf4106541">AVFMT_NO_BYTE_SEEK</a>)) &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a04a3b9ba459666bdb43628c472fa29bf">read_seek</a>) {</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#a1a28eb68d3e5d3ae20c286e5d32da4f1">start_pts</a> = is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>-&gt;<a class="code" href="structAVStream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#ab6209d8e965103ce5aeab564c71e9e4c">start_pts_tb</a> = is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;        }</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="ffplay_8c.html#ab2336d565e3f800a9bb0d05ce8c3ee5a">decoder_start</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>, <a class="code" href="ffplay_8c.html#a9e52fb3ac57bb21ed32f14311a0634fd">audio_thread</a>, is)) &lt; 0)</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;        SDL_PauseAudio(0);</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> = stream_index;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> = ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index];</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        <a class="code" href="ffplay_8c.html#aa8ec890d4b82ec96dbc5db8ab81cbe95">decoder_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>, avctx, &amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>, is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>);</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="ffplay_8c.html#ab2336d565e3f800a9bb0d05ce8c3ee5a">decoder_start</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>, <a class="code" href="ffplay_8c.html#aa3dbd1716b69dfbd2c698ec7e0cc1240">video_thread</a>, is)) &lt; 0)</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#af1e30a55716b4157320d6b808bbfe492">queue_attachments_req</a> = 1;</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a> = stream_index;</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">subtitle_st</a> = ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index];</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <a class="code" href="ffplay_8c.html#aa8ec890d4b82ec96dbc5db8ab81cbe95">decoder_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>, avctx, &amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>, is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>);</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <span class="keywordflow">if</span> ((ret = <a class="code" href="ffplay_8c.html#ab2336d565e3f800a9bb0d05ce8c3ee5a">decoder_start</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">subdec</a>, <a class="code" href="ffplay_8c.html#a678e233c40bfc99996df1a52f51d1b4b">subtitle_thread</a>, is)) &lt; 0)</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    }</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <a class="code" href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a>(&amp;avctx);</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>:</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;opts);</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;}</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div><div class="line"><a name="l02721"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a9beebdd76e933c60de0e18629bc9fc2e"> 2721</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a9beebdd76e933c60de0e18629bc9fc2e">decode_interrupt_cb</a>(<span class="keywordtype">void</span> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;{</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordflow">return</span> is-&gt;<a class="code" href="structVideoState.html#a2b1ec0afe367d6aad04ad31e8c64b74b">abort_request</a>;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;}</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;</div><div class="line"><a name="l02727"></a><span class="lineno"><a class="line" href="ffplay_8c.html#af6d51db52af6826ea82f49aa4f0e8a89"> 2727</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#af6d51db52af6826ea82f49aa4f0e8a89">stream_has_enough_packets</a>(<a class="code" href="structAVStream.html">AVStream</a> *st, <span class="keywordtype">int</span> stream_id, <a class="code" href="structPacketQueue.html">PacketQueue</a> *queue) {</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <span class="keywordflow">return</span> stream_id &lt; 0 ||</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;           queue-&gt;<a class="code" href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">abort_request</a> ||</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;           (st-&gt;<a class="code" href="structAVStream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>) ||</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;           queue-&gt;<a class="code" href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">nb_packets</a> &gt; <a class="code" href="ffplay_8c.html#a3bf728db793aeeecafda8f970ccb36e6">MIN_FRAMES</a> &amp;&amp; (!queue-&gt;<a class="code" href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">duration</a> || <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) * queue-&gt;<a class="code" href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">duration</a> &gt; 1.0);</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;}</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;</div><div class="line"><a name="l02734"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a06e2098cddf2ea5a26708b63e5c83a3a"> 2734</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a06e2098cddf2ea5a26708b63e5c83a3a">is_realtime</a>(<a class="code" href="structAVFormatContext.html">AVFormatContext</a> *<a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>)</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;{</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    <span class="keywordflow">if</span>(   !strcmp(s-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;rtp&quot;</span>)</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;       || !strcmp(s-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;rtsp&quot;</span>)</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;       || !strcmp(s-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;sdp&quot;</span>)</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    )</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">if</span>(s-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> &amp;&amp; (   !strncmp(s-&gt;<a class="code" href="structAVFormatContext.html#aaf1ef435f30fce3cd0872467267512d0">filename</a>, <span class="stringliteral">&quot;rtp:&quot;</span>, 4)</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                 || !strncmp(s-&gt;<a class="code" href="structAVFormatContext.html#aaf1ef435f30fce3cd0872467267512d0">filename</a>, <span class="stringliteral">&quot;udp:&quot;</span>, 4)</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                )</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    )</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;}</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="comment">/* this thread gets the stream from the disk or the network */</span></div><div class="line"><a name="l02751"></a><span class="lineno"><a class="line" href="ffplay_8c.html#af98aa71e5ca6bab13a4b5659518acd71"> 2751</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#af98aa71e5ca6bab13a4b5659518acd71">read_thread</a>(<span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;{</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>;</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <a class="code" href="structAVFormatContext.html">AVFormatContext</a> *ic = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <span class="keywordtype">int</span> err, i, ret;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <span class="keywordtype">int</span> st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a>];</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <a class="code" href="structAVPacket.html">AVPacket</a> pkt1, *<a class="code" href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">pkt</a> = &amp;pkt1;</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    int64_t stream_start_time;</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <span class="keywordtype">int</span> pkt_in_play_range = 0;</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    <a class="code" href="structAVDictionaryEntry.html">AVDictionaryEntry</a> *t;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <a class="code" href="structAVDictionary.html">AVDictionary</a> **<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>;</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="keywordtype">int</span> orig_nb_streams;</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    SDL_mutex *wait_mutex = SDL_CreateMutex();</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <span class="keywordtype">int</span> scan_all_pmts_set = 0;</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    int64_t pkt_ts;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">if</span> (!wait_mutex) {</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateMutex(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;        ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    }</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    memset(st_index, -1, <span class="keyword">sizeof</span>(st_index));</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ac00f66760b47071a9db6e3a2c1b2dc5d">last_video_stream</a> = is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> = -1;</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ac7b1fd07ce01d234ff33f3da630e7a1c">last_audio_stream</a> = is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> = -1;</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#aa07580e0a04b1feb51e246adbd52d326">last_subtitle_stream</a> = is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a> = -1;</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">eof</a> = 0;</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    ic = <a class="code" href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a>();</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    <span class="keywordflow">if</span> (!ic) {</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Could not allocate context.\n&quot;</span>);</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        ret = <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(ENOMEM);</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    }</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    ic-&gt;<a class="code" href="structAVFormatContext.html#a5b37acfe4024d92ee510064e80920b40">interrupt_callback</a>.<a class="code" href="structAVIOInterruptCB.html#ac5de25559a8b29f3e55a3e956115e54a">callback</a> = <a class="code" href="ffplay_8c.html#a9beebdd76e933c60de0e18629bc9fc2e">decode_interrupt_cb</a>;</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    ic-&gt;<a class="code" href="structAVFormatContext.html#a5b37acfe4024d92ee510064e80920b40">interrupt_callback</a>.<a class="code" href="structAVIOInterruptCB.html#a873ae56fef71d27dca1088dfd55c2197">opaque</a> = is;</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cmdutils_8c.html#a943d0199a3f44df589324a8fe9365c48">format_opts</a>, <span class="stringliteral">&quot;scan_all_pmts&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__dict.html#gad9cbc53cec515b72ae7caa2e194c6bc0">AV_DICT_MATCH_CASE</a>)) {</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cmdutils_8c.html#a943d0199a3f44df589324a8fe9365c48">format_opts</a>, <span class="stringliteral">&quot;scan_all_pmts&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <a class="code" href="group__lavu__dict.html#ga8ed4237acfc3d68484301a5d1859936c">AV_DICT_DONT_OVERWRITE</a>);</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;        scan_all_pmts_set = 1;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    }</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    err = <a class="code" href="group__lavf__decoding.html#ga31d601155e9035d5b0e7efedc894ee49">avformat_open_input</a>(&amp;ic, is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>, is-&gt;<a class="code" href="structVideoState.html#ad407b6b1d65b5bd32c47dc6433eaa31d">iformat</a>, &amp;<a class="code" href="cmdutils_8c.html#a943d0199a3f44df589324a8fe9365c48">format_opts</a>);</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0) {</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        <a class="code" href="cmdutils_8c.html#a2911387e778b01a25f0e65eabadf1b7b">print_error</a>(is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>, err);</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;        ret = -1;</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    }</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">if</span> (scan_all_pmts_set)</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cmdutils_8c.html#a943d0199a3f44df589324a8fe9365c48">format_opts</a>, <span class="stringliteral">&quot;scan_all_pmts&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__dict.html#gad9cbc53cec515b72ae7caa2e194c6bc0">AV_DICT_MATCH_CASE</a>);</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <span class="keywordflow">if</span> ((t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cmdutils_8c.html#a943d0199a3f44df589324a8fe9365c48">format_opts</a>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a>))) {</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Option %s not found.\n&quot;</span>, t-&gt;<a class="code" href="structAVDictionaryEntry.html#a38fc80176f8f839282bb61c03392e194">key</a>);</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;        ret = <a class="code" href="group__lavu__error.html#gaf5a8745befceddae26f2dc11ecf21679">AVERROR_OPTION_NOT_FOUND</a>;</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    }</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a> = ic;</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">genpts</a>)</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;        ic-&gt;<a class="code" href="structAVFormatContext.html#a32379cc371463b235d54235d4af06a15">flags</a> |= <a class="code" href="avformat_8h.html#a69e2c8bc119c0245ff6092f9db4d12ae">AVFMT_FLAG_GENPTS</a>;</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <a class="code" href="avformat_8h.html#aa3a096ee52bc6b1e0f31278d26996777">av_format_inject_global_side_data</a>(ic);</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    opts = <a class="code" href="cmdutils_8c.html#a6246f47f8e3ef9a3e99e5d1457c7d197">setup_find_stream_info_opts</a>(ic, <a class="code" href="cmdutils_8c.html#aade971c14ebd8eacf328845208aad523">codec_opts</a>);</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    orig_nb_streams = ic-&gt;<a class="code" href="structAVFormatContext.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>;</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    err = <a class="code" href="group__lavf__decoding.html#gad42172e27cddafb81096939783b157bb">avformat_find_stream_info</a>(ic, opts);</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; orig_nb_streams; i++)</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;opts[i]);</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;opts);</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0) {</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;               <span class="stringliteral">&quot;%s: could not find codec parameters\n&quot;</span>, is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>);</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;        ret = -1;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    }</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        ic-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="structAVIOContext.html#aa9214f54c01f07076e0a0718b2e9c27b">eof_reached</a> = 0; <span class="comment">// FIXME hack, ffplay maybe should not use avio_feof() to test for the end</span></div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a> &lt; 0)</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <a class="code" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a> = !!(ic-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a1b30f6647d0c2faf38ba8786d7c3a838">flags</a> &amp; <a class="code" href="avformat_8h.html#a4d232408e799fa2b2f2705a3e8e0b4b8">AVFMT_TS_DISCONT</a>) &amp;&amp; strcmp(<span class="stringliteral">&quot;ogg&quot;</span>, ic-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a850db3eb225e22b64f3304d72134ca0c">name</a>);</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a72cada3134dac1118f0762ba7fbdb6ab">max_frame_duration</a> = (ic-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a1b30f6647d0c2faf38ba8786d7c3a838">flags</a> &amp; <a class="code" href="avformat_8h.html#a4d232408e799fa2b2f2705a3e8e0b4b8">AVFMT_TS_DISCONT</a>) ? 10.0 : 3600.0;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a> &amp;&amp; (t = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(ic-&gt;<a class="code" href="structAVFormatContext.html#a3019a56080ed2e3297ff25bc2ff88adf">metadata</a>, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0)))</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;        <a class="code" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a> = <a class="code" href="avstring_8c.html#a8cee948e00ad684c285e0f98639fcd21">av_asprintf</a>(<span class="stringliteral">&quot;%s - %s&quot;</span>, t-&gt;<a class="code" href="structAVDictionaryEntry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>);</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <span class="comment">/* if seeking requested, we execute it */</span></div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;        int64_t timestamp;</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        timestamp = <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a>;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;        <span class="comment">/* add the stream start time */</span></div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="structAVFormatContext.html#a2590129e00adfa726ab2033a10e905e9">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;            timestamp += ic-&gt;<a class="code" href="structAVFormatContext.html#a2590129e00adfa726ab2033a10e905e9">start_time</a>;</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;        ret = <a class="code" href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a>(ic, -1, INT64_MIN, timestamp, INT64_MAX, 0);</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;%s: could not seek to position %0.3f\n&quot;</span>,</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                    is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>, (<span class="keywordtype">double</span>)timestamp / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>);</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;        }</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    }</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#aabfee6f1cd9c45c19493e97511e49fd9">realtime</a> = <a class="code" href="ffplay_8c.html#a06e2098cddf2ea5a26708b63e5c83a3a">is_realtime</a>(ic);</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a6768a966a1f5b884d86d910a5fc45fc4">show_status</a>)</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        <a class="code" href="group__lavf__misc.html#gae2645941f2dc779c307eb6314fd39f10">av_dump_format</a>(ic, 0, is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>, 0);</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; ic-&gt;<a class="code" href="structAVFormatContext.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; i++) {</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        <a class="code" href="structAVStream.html">AVStream</a> *st = ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[i];</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> type = st-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="structAVCodecParameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>;</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;        st-&gt;<a class="code" href="structAVStream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> = <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        <span class="keywordflow">if</span> (type &gt;= 0 &amp;&amp; <a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[type] &amp;&amp; st_index[type] == -1)</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavf__misc.html#ga7e45597834e9ef3098ddb74bc5e1550c">avformat_match_stream_specifier</a>(ic, st, <a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[type]) &gt; 0)</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                st_index[type] = i;</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    }</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a>; i++) {</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[i] &amp;&amp; st_index[i] == -1) {</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Stream specifier %s does not match any %s stream\n&quot;</span>, <a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[i], <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(i));</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;            st_index[i] = INT_MAX;</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;        }</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    }</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a351d6f966d54613c33de018b8b7c2ad7">video_disable</a>)</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;        st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>] =</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            <a class="code" href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a>(ic, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                                st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>], -1, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#aeb63829233379523f0b199931e546001">audio_disable</a>)</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>] =</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;            <a class="code" href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a>(ic, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;                                st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>],</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                                st_index[AVMEDIA_TYPE_VIDEO],</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                                <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a351d6f966d54613c33de018b8b7c2ad7">video_disable</a> &amp;&amp; !<a class="code" href="ffplay_8c.html#a46f678005768f8e888b4f1b1c460d41c">subtitle_disable</a>)</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>] =</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;            <a class="code" href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a>(ic, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>,</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                                st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>],</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;                                (st_index[AVMEDIA_TYPE_AUDIO] &gt;= 0 ?</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                                 st_index[AVMEDIA_TYPE_AUDIO] :</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;                                 st_index[AVMEDIA_TYPE_VIDEO]),</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                                <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> = <a class="code" href="ffplay_8c.html#a66b572e55c43891529a9a96f1af5099c">show_mode</a>;</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="keywordflow">if</span> (st_index[AVMEDIA_TYPE_VIDEO] &gt;= 0) {</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        <a class="code" href="structAVStream.html">AVStream</a> *st = ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[st_index[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>]];</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        <a class="code" href="structAVCodecParameters.html">AVCodecParameters</a> *codecpar = st-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;        <a class="code" href="structAVRational.html">AVRational</a> sar = <a class="code" href="group__lavf__misc.html#ga0f62da0e809045bb21166013c404ce43">av_guess_sample_aspect_ratio</a>(ic, st, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        <span class="keywordflow">if</span> (codecpar-&gt;<a class="code" href="structAVCodecParameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>)</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;            <a class="code" href="ffplay_8c.html#a824efda2dffbf8b6d1f3efa67cb5d750">set_default_window_size</a>(codecpar-&gt;<a class="code" href="structAVCodecParameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>, codecpar-&gt;<a class="code" href="structAVCodecParameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>, sar);</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    }</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="comment">/* open the streams */</span></div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">if</span> (st_index[AVMEDIA_TYPE_AUDIO] &gt;= 0) {</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;        <a class="code" href="ffplay_8c.html#aace6c0812813972836bb4ff5ba50ef9c">stream_component_open</a>(is, st_index[AVMEDIA_TYPE_AUDIO]);</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    }</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    ret = -1;</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="keywordflow">if</span> (st_index[AVMEDIA_TYPE_VIDEO] &gt;= 0) {</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        ret = <a class="code" href="ffplay_8c.html#aace6c0812813972836bb4ff5ba50ef9c">stream_component_open</a>(is, st_index[AVMEDIA_TYPE_VIDEO]);</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    }</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> == SHOW_MODE_NONE)</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> = ret &gt;= 0 ? SHOW_MODE_VIDEO : SHOW_MODE_RDFT;</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    <span class="keywordflow">if</span> (st_index[AVMEDIA_TYPE_SUBTITLE] &gt;= 0) {</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;        <a class="code" href="ffplay_8c.html#aace6c0812813972836bb4ff5ba50ef9c">stream_component_open</a>(is, st_index[AVMEDIA_TYPE_SUBTITLE]);</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    }</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> &lt; 0 &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> &lt; 0) {</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Failed to open file &#39;%s&#39; or configure filtergraph\n&quot;</span>,</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;               is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>);</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;        ret = -1;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    }</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <span class="keywordflow">if</span> (infinite_buffer &lt; 0 &amp;&amp; is-&gt;realtime)</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;        <a class="code" href="ffplay_8c.html#a1826741c5819eefb25ea63427304e4b9">infinite_buffer</a> = 1;</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a2b1ec0afe367d6aad04ad31e8c64b74b">abort_request</a>)</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a> != is-&gt;<a class="code" href="structVideoState.html#a20ade47f8180bc49ee1217bffa53a07b">last_paused</a>) {</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#a20ade47f8180bc49ee1217bffa53a07b">last_paused</a> = is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>;</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>)</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#a5fa754db63425dfc7a9762a162637564">read_pause_return</a> = <a class="code" href="group__lavf__decoding.html#ga27db687592d99f25ccf81a3b3ee8da9c">av_read_pause</a>(ic);</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                <a class="code" href="group__lavf__decoding.html#ga7494bb63a59e79e9fe88eb1682d4d7b3">av_read_play</a>(ic);</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        }</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;<span class="preprocessor">#if CONFIG_RTSP_DEMUXER || CONFIG_MMSH_PROTOCOL</span></div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a> &amp;&amp;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                (!strcmp(ic-&gt;<a class="code" href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">iformat</a>-&gt;<a class="code" href="structAVInputFormat.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;rtsp&quot;</span>) ||</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                 (ic-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> &amp;&amp; !strncmp(<a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>, <span class="stringliteral">&quot;mmsh:&quot;</span>, 5)))) {</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;            <span class="comment">/* wait 10 ms to avoid trying to get another packet */</span></div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;            <span class="comment">/* XXX: horrible */</span></div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;            SDL_Delay(10);</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;        }</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#aeaf6f7038c99dfee380266dbfeab187c">seek_req</a>) {</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;            int64_t seek_target = is-&gt;<a class="code" href="structVideoState.html#a72a4754ebe0a02c8c56b6007352e122d">seek_pos</a>;</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;            int64_t seek_min    = is-&gt;<a class="code" href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">seek_rel</a> &gt; 0 ? seek_target - is-&gt;<a class="code" href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">seek_rel</a> + 2: INT64_MIN;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;            int64_t seek_max    = is-&gt;<a class="code" href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">seek_rel</a> &lt; 0 ? seek_target - is-&gt;<a class="code" href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">seek_rel</a> - 2: INT64_MAX;</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;<span class="comment">// FIXME the +-2 is due to rounding being not done in the correct direction in generation</span></div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;<span class="comment">//      of the seek_pos/seek_rel variables</span></div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;            ret = <a class="code" href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a>(is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>, -1, seek_min, seek_target, seek_max, is-&gt;<a class="code" href="structVideoState.html#ab4b5a3933d23072d98bbe56ab44036af">seek_flags</a>);</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                       <span class="stringliteral">&quot;%s: error while seeking\n&quot;</span>, is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#aaf1ef435f30fce3cd0872467267512d0">filename</a>);</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> &gt;= 0) {</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                    <a class="code" href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">packet_queue_flush</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>);</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;                    <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>, &amp;flush_pkt);</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;                }</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a> &gt;= 0) {</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                    <a class="code" href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">packet_queue_flush</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>);</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                    <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>, &amp;flush_pkt);</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;                }</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> &gt;= 0) {</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;                    <a class="code" href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">packet_queue_flush</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>);</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;                    <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>, &amp;flush_pkt);</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                }</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#ab4b5a3933d23072d98bbe56ab44036af">seek_flags</a> &amp; <a class="code" href="avformat_8h.html#a754de906e0da116c009846547741f869">AVSEEK_FLAG_BYTE</a>) {</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                   <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, <a class="code" href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>, 0);</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                   <a class="code" href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, seek_target / (<span class="keywordtype">double</span>)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>, 0);</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                }</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;            }</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#aeaf6f7038c99dfee380266dbfeab187c">seek_req</a> = 0;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#af1e30a55716b4157320d6b808bbfe492">queue_attachments_req</a> = 1;</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">eof</a> = 0;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a>)</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;                <a class="code" href="ffplay_8c.html#ac7d5324a55d2b6414402b232db5e16ac">step_to_next_frame</a>(is);</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;        }</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#af1e30a55716b4157320d6b808bbfe492">queue_attachments_req</a>) {</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;            <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>) {</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                <a class="code" href="structAVPacket.html">AVPacket</a> <a class="code" href="vf__vaguedenoiser_8c.html#a119184041ca9d38a2ef373e1227323f9">copy</a>;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                <span class="keywordflow">if</span> ((ret = <a class="code" href="group__lavc__packet.html#ga917dac9e139893510532c9bea475ef11">av_copy_packet</a>(&amp;copy, &amp;is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#a8c689ee00c0dfe4313891f8a2ea21f4d">attached_pic</a>)) &lt; 0)</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>, &amp;copy);</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                <a class="code" href="ffplay_8c.html#afd99073713bccafe07d746a1834533b1">packet_queue_put_nullpacket</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>, is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a>);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;            }</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#af1e30a55716b4157320d6b808bbfe492">queue_attachments_req</a> = 0;</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;        }</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        <span class="comment">/* if the queue are full, no need to read more */</span></div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a1826741c5819eefb25ea63427304e4b9">infinite_buffer</a>&lt;1 &amp;&amp;</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;              (is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a> + is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a> + is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>.<a class="code" href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">size</a> &gt; <a class="code" href="ffplay_8c.html#a623ec78b7909090dbedac4af1d52abb4">MAX_QUEUE_SIZE</a></div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;            || (<a class="code" href="ffplay_8c.html#af6d51db52af6826ea82f49aa4f0e8a89">stream_has_enough_packets</a>(is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>, is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>) &amp;&amp;</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                <a class="code" href="ffplay_8c.html#af6d51db52af6826ea82f49aa4f0e8a89">stream_has_enough_packets</a>(is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>, is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>) &amp;&amp;</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                <a class="code" href="ffplay_8c.html#af6d51db52af6826ea82f49aa4f0e8a89">stream_has_enough_packets</a>(is-&gt;<a class="code" href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">subtitle_st</a>, is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>)))) {</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;            <span class="comment">/* wait 10 ms */</span></div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;            SDL_LockMutex(wait_mutex);</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;            SDL_CondWaitTimeout(is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>, wait_mutex, 10);</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;            SDL_UnlockMutex(wait_mutex);</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        }</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a> &amp;&amp;</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;            (!is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a> || (is-&gt;<a class="code" href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">auddec</a>.<a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a> == is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a> &amp;&amp; <a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>) == 0)) &amp;&amp;</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;            (!is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> || (is-&gt;<a class="code" href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">viddec</a>.<a class="code" href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">finished</a> == is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a> &amp;&amp; <a class="code" href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>) == 0))) {</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ad667f040f2932c8097435492fbd10d76">loop</a> != 1 &amp;&amp; (!<a class="code" href="ffplay_8c.html#ad667f040f2932c8097435492fbd10d76">loop</a> || --<a class="code" href="ffplay_8c.html#ad667f040f2932c8097435492fbd10d76">loop</a>)) {</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                <a class="code" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a>(is, <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ? <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> : 0, 0, 0);</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a735d0125ea56ba80cdf2742b765f8ea5">autoexit</a>) {</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;                ret = <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;            }</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;        }</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;        ret = <a class="code" href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61">av_read_frame</a>(ic, pkt);</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;            <span class="keywordflow">if</span> ((ret == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a> || <a class="code" href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a>(ic-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)) &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">eof</a>) {</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> &gt;= 0)</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                    <a class="code" href="ffplay_8c.html#afd99073713bccafe07d746a1834533b1">packet_queue_put_nullpacket</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>, is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a>);</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> &gt;= 0)</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                    <a class="code" href="ffplay_8c.html#afd99073713bccafe07d746a1834533b1">packet_queue_put_nullpacket</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>, is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a>);</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a> &gt;= 0)</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                    <a class="code" href="ffplay_8c.html#afd99073713bccafe07d746a1834533b1">packet_queue_put_nullpacket</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>, is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a>);</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">eof</a> = 1;</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;            }</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;            <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> &amp;&amp; ic-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="structAVIOContext.html#afb903b1d9614bfb59e8cc5213de3777b">error</a>)</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            SDL_LockMutex(wait_mutex);</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;            SDL_CondWaitTimeout(is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a>, wait_mutex, 10);</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;            SDL_UnlockMutex(wait_mutex);</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;            is-&gt;<a class="code" href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">eof</a> = 0;</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;        }</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        <span class="comment">/* check if packet is in play range specified by user, then queue, otherwise discard */</span></div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        stream_start_time = ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[pkt-&gt;<a class="code" href="structAVPacket.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;<a class="code" href="structAVStream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>;</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;        pkt_ts = pkt-&gt;<a class="code" href="structAVPacket.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ? pkt-&gt;<a class="code" href="structAVPacket.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> : pkt-&gt;<a class="code" href="structAVPacket.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;        pkt_in_play_range = <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;                (pkt_ts - (stream_start_time != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ? stream_start_time : 0)) *</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;                <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ic-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[pkt-&gt;<a class="code" href="structAVPacket.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;<a class="code" href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) -</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;                (double)(<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ? <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> : 0) / 1000000</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;                &lt;= ((double)<a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> / 1000000);</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="structAVPacket.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a> &amp;&amp; pkt_in_play_range) {</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;            <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>, pkt);</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="structAVPacket.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> &amp;&amp; pkt_in_play_range</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;                   &amp;&amp; !(is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a>-&gt;<a class="code" href="structAVStream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>)) {</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;            <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>, pkt);</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pkt-&gt;<a class="code" href="structAVPacket.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a> &amp;&amp; pkt_in_play_range) {</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;            <a class="code" href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>, pkt);</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(pkt);</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;        }</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    }</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    ret = 0;</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160; <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    <span class="keywordflow">if</span> (ic &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>)</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;        <a class="code" href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a>(&amp;ic);</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">if</span> (ret != 0) {</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        SDL_Event event;</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;        <span class="keyword">event</span>.type = <a class="code" href="ffplay_8c.html#ac1040cd1bf00985c6ed227b77c9b73b2">FF_QUIT_EVENT</a>;</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;        <span class="keyword">event</span>.user.data1 = is;</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        SDL_PushEvent(&amp;event);</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    }</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    SDL_DestroyMutex(wait_mutex);</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;}</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;</div><div class="line"><a name="l03073"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a62f22eedef6450392c68dbbbc8cde715"> 3073</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structVideoState.html">VideoState</a> *<a class="code" href="ffplay_8c.html#a62f22eedef6450392c68dbbbc8cde715">stream_open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <a class="code" href="structAVInputFormat.html">AVInputFormat</a> *<a class="code" href="ffprobe_8c.html#ab6ecddf7aac1dca5ba09db20886f66f2">iformat</a>)</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;{</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is;</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    is = <a class="code" href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a>(<span class="keyword">sizeof</span>(<a class="code" href="structVideoState.html">VideoState</a>));</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="keywordflow">if</span> (!is)</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(filename);</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">filename</a>)</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ad407b6b1d65b5bd32c47dc6433eaa31d">iformat</a> = <a class="code" href="ffprobe_8c.html#ab6ecddf7aac1dca5ba09db20886f66f2">iformat</a>;</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a8d2a6affd3cbc2a20249c8acf883d6f7">ytop</a>    = 0;</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a35a0bdf36181c07b0126f045066a7c17">xleft</a>   = 0;</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="comment">/* start video display */</span></div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a855ab2375fbb1acfb5b52096dafafb72">frame_queue_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>, <a class="code" href="ffplay_8c.html#ae2e6d105454e523ab34feaf641467dd9">VIDEO_PICTURE_QUEUE_SIZE</a>, 1) &lt; 0)</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a855ab2375fbb1acfb5b52096dafafb72">frame_queue_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">subpq</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>, <a class="code" href="ffplay_8c.html#a81a28a9c371323c2df96ba7ef15aa4d4">SUBPICTURE_QUEUE_SIZE</a>, 0) &lt; 0)</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a855ab2375fbb1acfb5b52096dafafb72">frame_queue_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>, <a class="code" href="ffplay_8c.html#a3ae3137ba6a2d6181e843a768334238c">SAMPLE_QUEUE_SIZE</a>, 1) &lt; 0)</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a7e7701f9560d9154b0c036d9ca2b36f1">packet_queue_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>) &lt; 0 ||</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        <a class="code" href="ffplay_8c.html#a7e7701f9560d9154b0c036d9ca2b36f1">packet_queue_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>) &lt; 0 ||</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        <a class="code" href="ffplay_8c.html#a7e7701f9560d9154b0c036d9ca2b36f1">packet_queue_init</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">subtitleq</a>) &lt; 0)</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">if</span> (!(is-&gt;<a class="code" href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">continue_read_thread</a> = SDL_CreateCond())) {</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateCond(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    }</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <a class="code" href="ffplay_8c.html#a895b9cf6548d0a1ede4c74aa9f0db214">init_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#afd62fb3315163a701605b0edfe683761">vidclk</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">videoq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>);</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <a class="code" href="ffplay_8c.html#a895b9cf6548d0a1ede4c74aa9f0db214">init_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">audclk</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">audioq</a>.<a class="code" href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">serial</a>);</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    <a class="code" href="ffplay_8c.html#a895b9cf6548d0a1ede4c74aa9f0db214">init_clock</a>(&amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>, &amp;is-&gt;<a class="code" href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">extclk</a>.<a class="code" href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">serial</a>);</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ac0784c264a50efe01145667f4124e65d">audio_clock_serial</a> = -1;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a> &lt; 0)</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;-volume=%d &lt; 0, setting to 0\n&quot;</span>, <a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a>);</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a> &gt; 100)</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;-volume=%d &gt; 100, setting to 100\n&quot;</span>, <a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a>);</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a> = av_clip(<a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a>, 0, 100);</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a> = av_clip(SDL_MIX_MAXVOLUME * <a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a> / 100, 0, SDL_MIX_MAXVOLUME);</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">audio_volume</a> = <a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a>;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">muted</a> = 0;</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#a32e2a00023c77f85fa6d781a6b4a9f16">av_sync_type</a> = <a class="code" href="ffplay_8c.html#a4de645858d1c582d871644b355266130">av_sync_type</a>;</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    is-&gt;<a class="code" href="structVideoState.html#af2ac8777b258e78112799a39e1794d20">read_tid</a>     = SDL_CreateThread(<a class="code" href="ffplay_8c.html#af98aa71e5ca6bab13a4b5659518acd71">read_thread</a>, <span class="stringliteral">&quot;read_thread&quot;</span>, is);</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#af2ac8777b258e78112799a39e1794d20">read_tid</a>) {</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateThread(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;        <a class="code" href="ffplay_8c.html#aa360646fd7dbb0acf1f2ab8de57ff23f">stream_close</a>(is);</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    }</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">return</span> is;</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;}</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;</div><div class="line"><a name="l03128"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0"> 3128</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">int</span> <a class="code" href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a>)</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;{</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <a class="code" href="structAVFormatContext.html">AVFormatContext</a> *ic = is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>;</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <span class="keywordtype">int</span> start_index, stream_index;</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    <span class="keywordtype">int</span> old_index;</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <a class="code" href="structAVStream.html">AVStream</a> *st;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <a class="code" href="structAVProgram.html">AVProgram</a> *p = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a> = is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>;</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    <span class="keywordflow">if</span> (codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        start_index = is-&gt;<a class="code" href="structVideoState.html#ac00f66760b47071a9db6e3a2c1b2dc5d">last_video_stream</a>;</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;        old_index = is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a>;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        start_index = is-&gt;<a class="code" href="structVideoState.html#ac7b1fd07ce01d234ff33f3da630e7a1c">last_audio_stream</a>;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;        old_index = is-&gt;<a class="code" href="structVideoState.html#a488ea010af91f029952a907a204edc9a">audio_stream</a>;</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;        start_index = is-&gt;<a class="code" href="structVideoState.html#aa07580e0a04b1feb51e246adbd52d326">last_subtitle_stream</a>;</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;        old_index = is-&gt;<a class="code" href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">subtitle_stream</a>;</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    }</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    stream_index = start_index;</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <span class="keywordflow">if</span> (codec_type != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a> != -1) {</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;        p = <a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(ic, <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, is-&gt;<a class="code" href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">video_stream</a>);</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;        <span class="keywordflow">if</span> (p) {</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;            nb_streams = p-&gt;<a class="code" href="structAVProgram.html#a136cf29d2aa5b0e4c6d743406c5e39d1">nb_stream_indexes</a>;</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            <span class="keywordflow">for</span> (start_index = 0; start_index &lt; <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>; start_index++)</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structAVProgram.html#a7967d41af4812ed61a28762e988c7a02">stream_index</a>[start_index] == stream_index)</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;            <span class="keywordflow">if</span> (start_index == nb_streams)</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                start_index = -1;</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;            stream_index = start_index;</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;        }</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    }</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        <span class="keywordflow">if</span> (++stream_index &gt;= nb_streams)</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;        {</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;            <span class="keywordflow">if</span> (codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>)</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;            {</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                stream_index = -1;</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;                is-&gt;<a class="code" href="structVideoState.html#aa07580e0a04b1feb51e246adbd52d326">last_subtitle_stream</a> = -1;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;            }</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;            <span class="keywordflow">if</span> (start_index == -1)</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;            stream_index = 0;</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;        }</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;        <span class="keywordflow">if</span> (stream_index == start_index)</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        st = is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[p ? p-&gt;<a class="code" href="structAVProgram.html#a7967d41af4812ed61a28762e988c7a02">stream_index</a>[stream_index] : stream_index];</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="structAVCodecParameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == codec_type) {</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;            <span class="comment">/* check that parameters are OK */</span></div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;            <span class="keywordflow">switch</span> (codec_type) {</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="structAVCodecParameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a> != 0 &amp;&amp;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;                    st-&gt;<a class="code" href="structAVStream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="structAVCodecParameters.html#a4d418b807283607a231d2d8cdf559f00">channels</a> != 0)</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                    <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                <span class="keywordflow">goto</span> the_end;</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;            }</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;        }</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    }</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160; the_end:</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="keywordflow">if</span> (p &amp;&amp; stream_index != -1)</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;        stream_index = p-&gt;<a class="code" href="structAVProgram.html#a7967d41af4812ed61a28762e988c7a02">stream_index</a>[stream_index];</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Switch %s stream from #%d to #%d\n&quot;</span>,</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;           <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(codec_type),</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;           old_index,</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;           stream_index);</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <a class="code" href="ffplay_8c.html#ab39ba3de373b117fc0d43e0302d9e43a">stream_component_close</a>(is, old_index);</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <a class="code" href="ffplay_8c.html#aace6c0812813972836bb4ff5ba50ef9c">stream_component_open</a>(is, stream_index);</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;}</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;</div><div class="line"><a name="l03207"></a><span class="lineno"><a class="line" href="ffplay_8c.html#af039633271ca4f9cfaab5b8acf8183ba"> 3207</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#af039633271ca4f9cfaab5b8acf8183ba">toggle_full_screen</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;{</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <a class="code" href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">is_full_screen</a> = !<a class="code" href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">is_full_screen</a>;</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    SDL_SetWindowFullscreen(<a class="code" href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a>, <a class="code" href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">is_full_screen</a> ? SDL_WINDOW_FULLSCREEN_DESKTOP : 0);</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;}</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;</div><div class="line"><a name="l03213"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a5fc7ff2bda788d48603574dd3a256815"> 3213</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a5fc7ff2bda788d48603574dd3a256815">toggle_audio_display</a>(<a class="code" href="structVideoState.html">VideoState</a> *is)</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;{</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">next</a> = is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a>;</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;        next = (next + 1) % SHOW_MODE_NB;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    } <span class="keywordflow">while</span> (next != is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> &amp;&amp; (next == SHOW_MODE_VIDEO &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">video_st</a> || next != SHOW_MODE_VIDEO &amp;&amp; !is-&gt;<a class="code" href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">audio_st</a>));</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> != next) {</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> = 1;</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;        is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> = <a class="code" href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">next</a>;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    }</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;}</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;</div><div class="line"><a name="l03225"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a62f477a3137a662ef8521d0e2da3875f"> 3225</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a62f477a3137a662ef8521d0e2da3875f">refresh_loop_wait_event</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, SDL_Event *event) {</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;    <span class="keywordtype">double</span> remaining_time = 0.0;</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    SDL_PumpEvents();</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    <span class="keywordflow">while</span> (!SDL_PeepEvents(event, 1, SDL_GETEVENT, SDL_FIRSTEVENT, SDL_LASTEVENT)) {</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#ae074c197aa9a728d037468a19d9817e7">cursor_hidden</a> &amp;&amp; <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() - <a class="code" href="ffplay_8c.html#aa08b1ef042a5d640455e981851d96af9">cursor_last_shown</a> &gt; <a class="code" href="ffplay_8c.html#ac1ab6b3b175d6614ab3151157ec92340">CURSOR_HIDE_DELAY</a>) {</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;            SDL_ShowCursor(0);</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;            <a class="code" href="ffplay_8c.html#ae074c197aa9a728d037468a19d9817e7">cursor_hidden</a> = 1;</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;        }</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        <span class="keywordflow">if</span> (remaining_time &gt; 0.0)</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;            <a class="code" href="time_8c.html#a4eee9c65835652a808973f4bc1641a51">av_usleep</a>((int64_t)(remaining_time * 1000000.0));</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        remaining_time = <a class="code" href="ffplay_8c.html#abc2b684fcc127e93aee54a3a45e25a7c">REFRESH_RATE</a>;</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;        <span class="keywordflow">if</span> (is-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> != SHOW_MODE_NONE &amp;&amp; (!is-&gt;<a class="code" href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">paused</a> || is-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a>))</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;            <a class="code" href="ffplay_8c.html#adb446761df3da75676353604508f4f3d">video_refresh</a>(is, &amp;remaining_time);</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        SDL_PumpEvents();</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    }</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;}</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;</div><div class="line"><a name="l03242"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a79f2eb86814cd405d97a1f9cb95830db"> 3242</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a79f2eb86814cd405d97a1f9cb95830db">seek_chapter</a>(<a class="code" href="structVideoState.html">VideoState</a> *is, <span class="keywordtype">int</span> incr)</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;{</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    int64_t pos = <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(is) * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordflow">if</span> (!is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a6f60043baf4abd0d201ccefc27bb4306">nb_chapters</a>)</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <span class="comment">/* find the current chapter */</span></div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a6f60043baf4abd0d201ccefc27bb4306">nb_chapters</a>; i++) {</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <a class="code" href="structAVChapter.html">AVChapter</a> *<a class="code" href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a> = is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#ac17d5fc2dcdb00806cc83b02d9f940f3">chapters</a>[i];</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math.html#ga151744358fff630942b926e67e67c415">av_compare_ts</a>(pos, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>, ch-&gt;<a class="code" href="structAVChapter.html#a499a5062224e22249be6f2d16f74c449">start</a>, ch-&gt;<a class="code" href="structAVChapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">time_base</a>) &lt; 0) {</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;            i--;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        }</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    }</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    i += incr;</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    i = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(i, 0);</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    <span class="keywordflow">if</span> (i &gt;= is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a6f60043baf4abd0d201ccefc27bb4306">nb_chapters</a>)</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Seeking to chapter %d.\n&quot;</span>, i);</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <a class="code" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a>(is, <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#ac17d5fc2dcdb00806cc83b02d9f940f3">chapters</a>[i]-&gt;<a class="code" href="structAVChapter.html#a499a5062224e22249be6f2d16f74c449">start</a>, is-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#ac17d5fc2dcdb00806cc83b02d9f940f3">chapters</a>[i]-&gt;<a class="code" href="structAVChapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">time_base</a>,</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                                 <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>), 0, 0);</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;}</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;<span class="comment">/* handle an event sent by the GUI */</span></div><div class="line"><a name="l03270"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a2fd6b2edd7dd7de8c4590cf2c606f507"> 3270</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a2fd6b2edd7dd7de8c4590cf2c606f507">event_loop</a>(<a class="code" href="structVideoState.html">VideoState</a> *cur_stream)</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;{</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    SDL_Event event;</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    <span class="keywordtype">double</span> incr, pos, frac;</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;        <span class="keywordtype">double</span> x;</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        <a class="code" href="ffplay_8c.html#a62f477a3137a662ef8521d0e2da3875f">refresh_loop_wait_event</a>(cur_stream, &amp;event);</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;        <span class="keywordflow">switch</span> (event.type) {</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;        <span class="keywordflow">case</span> SDL_KEYDOWN:</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ad29c5271508d71de584dc96fec8fa31d">exit_on_keydown</a>) {</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(cur_stream);</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;            }</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;            <span class="keywordflow">switch</span> (event.key.keysym.sym) {</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;            <span class="keywordflow">case</span> SDLK_ESCAPE:</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;            <span class="keywordflow">case</span> SDLK_q:</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;                <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(cur_stream);</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;            <span class="keywordflow">case</span> SDLK_f:</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;                <a class="code" href="ffplay_8c.html#af039633271ca4f9cfaab5b8acf8183ba">toggle_full_screen</a>(cur_stream);</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;                cur_stream-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> = 1;</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;            <span class="keywordflow">case</span> SDLK_p:</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;            <span class="keywordflow">case</span> SDLK_SPACE:</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                <a class="code" href="ffplay_8c.html#ac8b8aba40979d3059387561807c7dff0">toggle_pause</a>(cur_stream);</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;            <span class="keywordflow">case</span> SDLK_m:</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                <a class="code" href="ffplay_8c.html#a52db648ff1c8059ad6ffb66a6cf0fdda">toggle_mute</a>(cur_stream);</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;            <span class="keywordflow">case</span> SDLK_KP_MULTIPLY:</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;            <span class="keywordflow">case</span> SDLK_0:</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                <a class="code" href="ffplay_8c.html#a7b547ce26fcc3c0f0a79b293fa8b49d5">update_volume</a>(cur_stream, 1, <a class="code" href="ffplay_8c.html#a60008c6774fb193a2a43a2c1f65f2bed">SDL_VOLUME_STEP</a>);</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;            <span class="keywordflow">case</span> SDLK_KP_DIVIDE:</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;            <span class="keywordflow">case</span> SDLK_9:</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                <a class="code" href="ffplay_8c.html#a7b547ce26fcc3c0f0a79b293fa8b49d5">update_volume</a>(cur_stream, -1, <a class="code" href="ffplay_8c.html#a60008c6774fb193a2a43a2c1f65f2bed">SDL_VOLUME_STEP</a>);</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;            <span class="keywordflow">case</span> SDLK_s: <span class="comment">// S: Step to next frame</span></div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                <a class="code" href="ffplay_8c.html#ac7d5324a55d2b6414402b232db5e16ac">step_to_next_frame</a>(cur_stream);</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;            <span class="keywordflow">case</span> SDLK_a:</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                <a class="code" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a>(cur_stream, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>);</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;            <span class="keywordflow">case</span> SDLK_v:</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                <a class="code" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a>(cur_stream, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>);</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;            <span class="keywordflow">case</span> SDLK_c:</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                <a class="code" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a>(cur_stream, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>);</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                <a class="code" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a>(cur_stream, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>);</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                <a class="code" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a>(cur_stream, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>);</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;            <span class="keywordflow">case</span> SDLK_t:</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                <a class="code" href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a>(cur_stream, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>);</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;            <span class="keywordflow">case</span> SDLK_w:</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                <span class="keywordflow">if</span> (cur_stream-&gt;<a class="code" href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">show_mode</a> == SHOW_MODE_VIDEO &amp;&amp; cur_stream-&gt;vfilter_idx &lt; nb_vfilters - 1) {</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;                    <span class="keywordflow">if</span> (++cur_stream-&gt;vfilter_idx &gt;= nb_vfilters)</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;                        cur_stream-&gt;vfilter_idx = 0;</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                    cur_stream-&gt;vfilter_idx = 0;</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                    <a class="code" href="ffplay_8c.html#a5fc7ff2bda788d48603574dd3a256815">toggle_audio_display</a>(cur_stream);</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                }</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                <a class="code" href="ffplay_8c.html#a5fc7ff2bda788d48603574dd3a256815">toggle_audio_display</a>(cur_stream);</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;            <span class="keywordflow">case</span> SDLK_PAGEUP:</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                <span class="keywordflow">if</span> (cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a6f60043baf4abd0d201ccefc27bb4306">nb_chapters</a> &lt;= 1) {</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;                    incr = 600.0;</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;                    <span class="keywordflow">goto</span> do_seek;</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                }</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                <a class="code" href="ffplay_8c.html#a79f2eb86814cd405d97a1f9cb95830db">seek_chapter</a>(cur_stream, 1);</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;            <span class="keywordflow">case</span> SDLK_PAGEDOWN:</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;                <span class="keywordflow">if</span> (cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a6f60043baf4abd0d201ccefc27bb4306">nb_chapters</a> &lt;= 1) {</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;                    incr = -600.0;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;                    <span class="keywordflow">goto</span> do_seek;</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;                }</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;                <a class="code" href="ffplay_8c.html#a79f2eb86814cd405d97a1f9cb95830db">seek_chapter</a>(cur_stream, -1);</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;            <span class="keywordflow">case</span> SDLK_LEFT:</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;                incr = -10.0;</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;                <span class="keywordflow">goto</span> do_seek;</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;            <span class="keywordflow">case</span> SDLK_RIGHT:</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;                incr = 10.0;</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                <span class="keywordflow">goto</span> do_seek;</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;            <span class="keywordflow">case</span> SDLK_UP:</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                incr = 60.0;</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;                <span class="keywordflow">goto</span> do_seek;</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;            <span class="keywordflow">case</span> SDLK_DOWN:</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;                incr = -60.0;</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;            do_seek:</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a>) {</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;                        pos = -1;</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                        <span class="keywordflow">if</span> (pos &lt; 0 &amp;&amp; cur_stream-&gt;<a class="code" href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a> &gt;= 0)</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                            pos = <a class="code" href="ffplay_8c.html#a720519e85482190779a6adcb941e3605">frame_queue_last_pos</a>(&amp;cur_stream-&gt;<a class="code" href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">pictq</a>);</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;                        <span class="keywordflow">if</span> (pos &lt; 0 &amp;&amp; cur_stream-&gt;<a class="code" href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a> &gt;= 0)</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                            pos = <a class="code" href="ffplay_8c.html#a720519e85482190779a6adcb941e3605">frame_queue_last_pos</a>(&amp;cur_stream-&gt;<a class="code" href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">sampq</a>);</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                        <span class="keywordflow">if</span> (pos &lt; 0)</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                            pos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                        <span class="keywordflow">if</span> (cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a>)</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                            incr *= cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a> / 8.0;</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                            incr *= 180000.0;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                        pos += incr;</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                        <a class="code" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a>(cur_stream, pos, incr, 1);</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                        pos = <a class="code" href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a>(cur_stream);</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a>(pos))</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                            pos = (double)cur_stream-&gt;<a class="code" href="structVideoState.html#a72a4754ebe0a02c8c56b6007352e122d">seek_pos</a> / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                        pos += incr;</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                        <a class="code" href="vf__mcdeint_8c.html#a22dd5e4b362bda39fe025467d2d1ecf5">if</a> (cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a2590129e00adfa726ab2033a10e905e9">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; pos &lt; cur_stream-&gt;ic-&gt;start_time / (<span class="keywordtype">double</span>)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>)</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                            pos = cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a2590129e00adfa726ab2033a10e905e9">start_time</a> / (<span class="keywordtype">double</span>)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                        <a class="code" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a>(cur_stream, (int64_t)(pos * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>), (int64_t)(incr * AV_TIME_BASE), 0);</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                    }</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;            }</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;        <span class="keywordflow">case</span> SDL_MOUSEBUTTONDOWN:</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aa49ebbd788965b0f9cdef91d47a2a659">exit_on_mousedown</a>) {</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;                <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(cur_stream);</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;            }</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;            <span class="keywordflow">if</span> (event.button.button == SDL_BUTTON_LEFT) {</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;                <span class="keyword">static</span> int64_t last_mouse_left_click = 0;</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>() - last_mouse_left_click &lt;= 500000) {</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;                    <a class="code" href="ffplay_8c.html#af039633271ca4f9cfaab5b8acf8183ba">toggle_full_screen</a>(cur_stream);</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                    cur_stream-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> = 1;</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                    last_mouse_left_click = 0;</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;                    last_mouse_left_click = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>();</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;                }</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;            }</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;        <span class="keywordflow">case</span> SDL_MOUSEMOTION:</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ae074c197aa9a728d037468a19d9817e7">cursor_hidden</a>) {</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;                SDL_ShowCursor(1);</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                <a class="code" href="ffplay_8c.html#ae074c197aa9a728d037468a19d9817e7">cursor_hidden</a> = 0;</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;            }</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;            <a class="code" href="ffplay_8c.html#aa08b1ef042a5d640455e981851d96af9">cursor_last_shown</a> = <a class="code" href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a>();</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;            <span class="keywordflow">if</span> (event.type == SDL_MOUSEBUTTONDOWN) {</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;                <span class="keywordflow">if</span> (event.button.button != SDL_BUTTON_RIGHT)</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;                x = <span class="keyword">event</span>.button.x;</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;                <span class="keywordflow">if</span> (!(event.motion.state &amp; SDL_BUTTON_RMASK))</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;                x = <span class="keyword">event</span>.motion.x;</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;            }</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a> || cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> &lt;= 0) {</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;                    uint64_t <a class="code" href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a> =  <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;                    <a class="code" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a>(cur_stream, size*x/cur_stream-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>, 0, 1);</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;                    int64_t ts;</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                    <span class="keywordtype">int</span> ns, hh, mm, <a class="code" href="colorspacedsp__template_8c.html#a74d3c3c85d450f9238a162d015c0b407">ss</a>;</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;                    <span class="keywordtype">int</span> tns, thh, tmm, tss;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                    tns  = cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> / 1000000<a class="code" href="ff__glob_8c.html#a4bbb2f081a64bd1133aa6ba6f29525ab">LL</a>;</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;                    thh  = tns / 3600;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;                    tmm  = (tns % 3600) / 60;</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;                    tss  = (tns % 60);</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;                    frac = x / cur_stream-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>;</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;                    ns   = frac * tns;</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                    hh   = ns / 3600;</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;                    mm   = (ns % 3600) / 60;</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;                    ss   = (ns % 60);</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>,</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;                           <span class="stringliteral">&quot;Seek to %2.0f%% (%2d:%02d:%02d) of total duration (%2d:%02d:%02d)       \n&quot;</span>, frac*100,</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                            hh, mm, ss, thh, tmm, tss);</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;                    ts = frac * cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a>;</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;                    <span class="keywordflow">if</span> (cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a2590129e00adfa726ab2033a10e905e9">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;                        ts += cur_stream-&gt;<a class="code" href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">ic</a>-&gt;<a class="code" href="structAVFormatContext.html#a2590129e00adfa726ab2033a10e905e9">start_time</a>;</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;                    <a class="code" href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a>(cur_stream, ts, 0, 0);</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                }</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        <span class="keywordflow">case</span> SDL_WINDOWEVENT:</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;            <span class="keywordflow">switch</span> (event.window.event) {</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;                <span class="keywordflow">case</span> SDL_WINDOWEVENT_RESIZED:</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;                    <a class="code" href="ffplay_8c.html#aa4d434a8b93410ea0ed660e48dac41c6">screen_width</a>  = cur_stream-&gt;<a class="code" href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">width</a>  = <span class="keyword">event</span>.window.data1;</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;                    <a class="code" href="ffplay_8c.html#a3b4a1bd850991355b91c7bfc15247d49">screen_height</a> = cur_stream-&gt;<a class="code" href="structVideoState.html#a197856526d148514afaf3697ef2089b6">height</a> = <span class="keyword">event</span>.window.data2;</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;                    <span class="keywordflow">if</span> (cur_stream-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>) {</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;                        SDL_DestroyTexture(cur_stream-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a>);</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                        cur_stream-&gt;<a class="code" href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">vis_texture</a> = <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;                    }</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;                <span class="keywordflow">case</span> SDL_WINDOWEVENT_EXPOSED:</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;                    cur_stream-&gt;<a class="code" href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">force_refresh</a> = 1;</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;            }</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        <span class="keywordflow">case</span> SDL_QUIT:</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ffplay_8c.html#ac1040cd1bf00985c6ed227b77c9b73b2">FF_QUIT_EVENT</a>:</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;            <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(cur_stream);</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ffplay_8c.html#a1d23f3b4b0b5c1d96380f0a42ffa1890">FF_ALLOC_EVENT</a>:</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;            <a class="code" href="ffplay_8c.html#a891f56ffb3c6fb8e9c61df4d4828f1fd">alloc_picture</a>(event.user.data1);</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;        }</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    }</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;}</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;</div><div class="line"><a name="l03473"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a466ed77cf72c1c1476d5714a9b2380c4"> 3473</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a466ed77cf72c1c1476d5714a9b2380c4">opt_frame_size</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;{</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Option -s is deprecated, use -video_size.\n&quot;</span>);</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cmdutils_8c.html#a24c4e9b816e053a3facd267d56daf1ed">opt_default</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;video_size&quot;</span>, arg);</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;}</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;</div><div class="line"><a name="l03479"></a><span class="lineno"><a class="line" href="ffplay_8c.html#ac40c38281086ec376a1ac70d8c1adfb9"> 3479</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#ac40c38281086ec376a1ac70d8c1adfb9">opt_width</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;{</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <a class="code" href="ffplay_8c.html#aa4d434a8b93410ea0ed660e48dac41c6">screen_width</a> = <a class="code" href="cmdutils_8c.html#aee611299e84dab23d614366f993e96ae">parse_number_or_die</a>(opt, arg, <a class="code" href="cmdutils_8h.html#a1e6d562f7f8c2883ddc3847a003dc804">OPT_INT64</a>, 1, INT_MAX);</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;}</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;</div><div class="line"><a name="l03485"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aca6b66a008a6404f173a086bd07a982e"> 3485</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aca6b66a008a6404f173a086bd07a982e">opt_height</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;{</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <a class="code" href="ffplay_8c.html#a3b4a1bd850991355b91c7bfc15247d49">screen_height</a> = <a class="code" href="cmdutils_8c.html#aee611299e84dab23d614366f993e96ae">parse_number_or_die</a>(opt, arg, <a class="code" href="cmdutils_8h.html#a1e6d562f7f8c2883ddc3847a003dc804">OPT_INT64</a>, 1, INT_MAX);</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;}</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;</div><div class="line"><a name="l03491"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a30b725c5e42860674f678532e83aebbd"> 3491</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a30b725c5e42860674f678532e83aebbd">opt_format</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;{</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    file_iformat = <a class="code" href="group__lavf__decoding.html#ga7d2f532c6653c2419b17956712fdf3da">av_find_input_format</a>(arg);</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <span class="keywordflow">if</span> (!file_iformat) {</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Unknown input format: %s\n&quot;</span>, arg);</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EINVAL);</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    }</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;}</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a547c6a804dc022672f8d9bfc0b94f84e"> 3501</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a547c6a804dc022672f8d9bfc0b94f84e">opt_frame_pix_fmt</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;{</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Option -pix_fmt is deprecated, use -pixel_format.\n&quot;</span>);</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cmdutils_8c.html#a24c4e9b816e053a3facd267d56daf1ed">opt_default</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;pixel_format&quot;</span>, arg);</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;}</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;</div><div class="line"><a name="l03507"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a8e1a69ce5aaf9ccfc7a03b7a48e5a3a5"> 3507</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a8e1a69ce5aaf9ccfc7a03b7a48e5a3a5">opt_sync</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;{</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;    <span class="keywordflow">if</span> (!strcmp(arg, <span class="stringliteral">&quot;audio&quot;</span>))</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        <a class="code" href="ffplay_8c.html#a4de645858d1c582d871644b355266130">av_sync_type</a> = <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a>;</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(arg, <span class="stringliteral">&quot;video&quot;</span>))</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        <a class="code" href="ffplay_8c.html#a4de645858d1c582d871644b355266130">av_sync_type</a> = <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a>;</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(arg, <span class="stringliteral">&quot;ext&quot;</span>))</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        <a class="code" href="ffplay_8c.html#a4de645858d1c582d871644b355266130">av_sync_type</a> = <a class="code" href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b">AV_SYNC_EXTERNAL_CLOCK</a>;</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown value for %s: %s\n&quot;</span>, opt, arg);</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;        exit(1);</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    }</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;}</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;</div><div class="line"><a name="l03522"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a24f2899ac8599f88fb98a08b2bbee4c2"> 3522</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a24f2899ac8599f88fb98a08b2bbee4c2">opt_seek</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;{</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> = <a class="code" href="cmdutils_8c.html#aa60d6deab0047c29fc1f6602f812774f">parse_time_or_die</a>(opt, arg, 1);</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;}</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;</div><div class="line"><a name="l03528"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a9cecb67d201bca032258b92fc61e7015"> 3528</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a9cecb67d201bca032258b92fc61e7015">opt_duration</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;{</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <a class="code" href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="cmdutils_8c.html#aa60d6deab0047c29fc1f6602f812774f">parse_time_or_die</a>(opt, arg, 1);</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;}</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;</div><div class="line"><a name="l03534"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a8ca35b18fde7041ea86fa7f0eb9af33f"> 3534</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a8ca35b18fde7041ea86fa7f0eb9af33f">opt_show_mode</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;{</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <a class="code" href="ffplay_8c.html#a66b572e55c43891529a9a96f1af5099c">show_mode</a> = !strcmp(arg, <span class="stringliteral">&quot;video&quot;</span>) ? SHOW_MODE_VIDEO :</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;                !strcmp(arg, <span class="stringliteral">&quot;waves&quot;</span>) ? SHOW_MODE_WAVES :</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;                !strcmp(arg, <span class="stringliteral">&quot;rdft&quot;</span> ) ? SHOW_MODE_RDFT  :</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;                <a class="code" href="cmdutils_8c.html#aee611299e84dab23d614366f993e96ae">parse_number_or_die</a>(opt, arg, <a class="code" href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a>, 0, SHOW_MODE_NB-1);</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;}</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;</div><div class="line"><a name="l03543"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa75a6881b8a23f5e49b7f6667e00cc5e"> 3543</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#aa75a6881b8a23f5e49b7f6667e00cc5e">opt_input_file</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename)</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;{</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>) {</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>,</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;               <span class="stringliteral">&quot;Argument &#39;%s&#39; provided as input filename, but &#39;%s&#39; was already specified.\n&quot;</span>,</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;                filename, <a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>);</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        exit(1);</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    }</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="keywordflow">if</span> (!strcmp(filename, <span class="stringliteral">&quot;-&quot;</span>))</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;        filename = <span class="stringliteral">&quot;pipe:&quot;</span>;</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a> = filename;</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;}</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;</div><div class="line"><a name="l03556"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a3f29cc92743ffe584bf73c5fcb8875e6"> 3556</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a3f29cc92743ffe584bf73c5fcb8875e6">opt_codec</a>(<span class="keywordtype">void</span> *optctx, <span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;{</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *spec = strchr(opt, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;   <span class="keywordflow">if</span> (!spec) {</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;       <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;              <span class="stringliteral">&quot;No media specifier was specified in &#39;%s&#39; in option &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;               arg, opt);</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;       <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EINVAL);</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;   }</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;   spec++;</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;   <span class="keywordflow">switch</span> (spec[0]) {</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span> :    <a class="code" href="ffplay_8c.html#a765905fd1694893cf8523999e58c88c6">audio_codec_name</a> = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span> : <a class="code" href="ffplay_8c.html#ae11ee1a372bd6516e484c0643d450e04">subtitle_codec_name</a> = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span> :    <a class="code" href="ffplay_8c.html#a591a324cad0ca94e4a84dbdf229e5a02">video_codec_name</a> = <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;       <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;              <span class="stringliteral">&quot;Invalid media specifier &#39;%s&#39; in option &#39;%s&#39;\n&quot;</span>, spec, opt);</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;       <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a>(EINVAL);</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;   }</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;}</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;</div><div class="line"><a name="l03578"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a7c1d654b7b6114d7a0abc8d351dd1bcd"> 3578</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a7c1d654b7b6114d7a0abc8d351dd1bcd">dummy</a>;</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;</div><div class="line"><a name="l03580"></a><span class="lineno"><a class="line" href="ffplay_8c.html#affee77914991e4f6048c708556a7edbe"> 3580</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structOptionDef.html">OptionDef</a> <a class="code" href="ffplay_8c.html#affee77914991e4f6048c708556a7edbe">options</a>[] = {</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cmdutils__common__opts_8h.html">cmdutils_common_opts.h</a>&quot;</span></div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    { <span class="stringliteral">&quot;x&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = <a class="code" href="ffplay_8c.html#ac40c38281086ec376a1ac70d8c1adfb9">opt_width</a> }, <span class="stringliteral">&quot;force displayed width&quot;</span>, <span class="stringliteral">&quot;width&quot;</span> },</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    { <span class="stringliteral">&quot;y&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = <a class="code" href="ffplay_8c.html#aca6b66a008a6404f173a086bd07a982e">opt_height</a> }, <span class="stringliteral">&quot;force displayed height&quot;</span>, <span class="stringliteral">&quot;height&quot;</span> },</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    { <span class="stringliteral">&quot;s&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#a0654bdd8f429df3aaf1f532968783bbc">OPT_VIDEO</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a466ed77cf72c1c1476d5714a9b2380c4">opt_frame_size</a> }, <span class="stringliteral">&quot;set frame size (WxH or abbreviation)&quot;</span>, <span class="stringliteral">&quot;size&quot;</span> },</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    { <span class="stringliteral">&quot;fs&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a>, { &amp;<a class="code" href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">is_full_screen</a> }, <span class="stringliteral">&quot;force full screen&quot;</span> },</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    { <span class="stringliteral">&quot;an&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a>, { &amp;<a class="code" href="ffplay_8c.html#aeb63829233379523f0b199931e546001">audio_disable</a> }, <span class="stringliteral">&quot;disable audio&quot;</span> },</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    { <span class="stringliteral">&quot;vn&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a>, { &amp;<a class="code" href="ffplay_8c.html#a351d6f966d54613c33de018b8b7c2ad7">video_disable</a> }, <span class="stringliteral">&quot;disable video&quot;</span> },</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    { <span class="stringliteral">&quot;sn&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a>, { &amp;<a class="code" href="ffplay_8c.html#a46f678005768f8e888b4f1b1c460d41c">subtitle_disable</a> }, <span class="stringliteral">&quot;disable subtitling&quot;</span> },</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    { <span class="stringliteral">&quot;ast&quot;</span>, <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>] }, <span class="stringliteral">&quot;select desired audio stream&quot;</span>, <span class="stringliteral">&quot;stream_specifier&quot;</span> },</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    { <span class="stringliteral">&quot;vst&quot;</span>, <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>] }, <span class="stringliteral">&quot;select desired video stream&quot;</span>, <span class="stringliteral">&quot;stream_specifier&quot;</span> },</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    { <span class="stringliteral">&quot;sst&quot;</span>, <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a>[<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>] }, <span class="stringliteral">&quot;select desired subtitle stream&quot;</span>, <span class="stringliteral">&quot;stream_specifier&quot;</span> },</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    { <span class="stringliteral">&quot;ss&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a24f2899ac8599f88fb98a08b2bbee4c2">opt_seek</a> }, <span class="stringliteral">&quot;seek to a given position in seconds&quot;</span>, <span class="stringliteral">&quot;pos&quot;</span> },</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    { <span class="stringliteral">&quot;t&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a9cecb67d201bca032258b92fc61e7015">opt_duration</a> }, <span class="stringliteral">&quot;play  \&quot;duration\&quot; seconds of audio/video&quot;</span>, <span class="stringliteral">&quot;duration&quot;</span> },</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;    { <span class="stringliteral">&quot;bytes&quot;</span>, <a class="code" href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { &amp;<a class="code" href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a> }, <span class="stringliteral">&quot;seek by bytes 0=off 1=on -1=auto&quot;</span>, <span class="stringliteral">&quot;val&quot;</span> },</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    { <span class="stringliteral">&quot;nodisp&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a>, { &amp;<a class="code" href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">display_disable</a> }, <span class="stringliteral">&quot;disable graphical display&quot;</span> },</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    { <span class="stringliteral">&quot;volume&quot;</span>, <a class="code" href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { &amp;<a class="code" href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a>}, <span class="stringliteral">&quot;set startup volume 0=min 100=max&quot;</span>, <span class="stringliteral">&quot;volume&quot;</span> },</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    { <span class="stringliteral">&quot;f&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a30b725c5e42860674f678532e83aebbd">opt_format</a> }, <span class="stringliteral">&quot;force format&quot;</span>, <span class="stringliteral">&quot;fmt&quot;</span> },</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    { <span class="stringliteral">&quot;pix_fmt&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a> | <a class="code" href="cmdutils_8h.html#a0654bdd8f429df3aaf1f532968783bbc">OPT_VIDEO</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a547c6a804dc022672f8d9bfc0b94f84e">opt_frame_pix_fmt</a> }, <span class="stringliteral">&quot;set pixel format&quot;</span>, <span class="stringliteral">&quot;format&quot;</span> },</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    { <span class="stringliteral">&quot;stats&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#a6768a966a1f5b884d86d910a5fc45fc4">show_status</a> }, <span class="stringliteral">&quot;show status&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    { <span class="stringliteral">&quot;fast&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#aa18328079ae64794c5c9af8b32901004">fast</a> }, <span class="stringliteral">&quot;non spec compliant optimizations&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;    { <span class="stringliteral">&quot;genpts&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">genpts</a> }, <span class="stringliteral">&quot;generate pts&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    { <span class="stringliteral">&quot;drp&quot;</span>, <a class="code" href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#a46e22ec3f8bc3e64701f3470e9874a5d">decoder_reorder_pts</a> }, <span class="stringliteral">&quot;let decoder reorder pts 0=off 1=on -1=auto&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    { <span class="stringliteral">&quot;lowres&quot;</span>, <a class="code" href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#aa17db53707ff07836c83b270c7613c1f">lowres</a> }, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;    { <span class="stringliteral">&quot;sync&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a8e1a69ce5aaf9ccfc7a03b7a48e5a3a5">opt_sync</a> }, <span class="stringliteral">&quot;set audio-video sync. type (type=audio/video/ext)&quot;</span>, <span class="stringliteral">&quot;type&quot;</span> },</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    { <span class="stringliteral">&quot;autoexit&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#a735d0125ea56ba80cdf2742b765f8ea5">autoexit</a> }, <span class="stringliteral">&quot;exit at the end&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    { <span class="stringliteral">&quot;exitonkeydown&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#ad29c5271508d71de584dc96fec8fa31d">exit_on_keydown</a> }, <span class="stringliteral">&quot;exit on key down&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    { <span class="stringliteral">&quot;exitonmousedown&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#aa49ebbd788965b0f9cdef91d47a2a659">exit_on_mousedown</a> }, <span class="stringliteral">&quot;exit on mouse down&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    { <span class="stringliteral">&quot;loop&quot;</span>, <a class="code" href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#ad667f040f2932c8097435492fbd10d76">loop</a> }, <span class="stringliteral">&quot;set number of times the playback shall be looped&quot;</span>, <span class="stringliteral">&quot;loop count&quot;</span> },</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    { <span class="stringliteral">&quot;framedrop&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">framedrop</a> }, <span class="stringliteral">&quot;drop frames when cpu is too slow&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    { <span class="stringliteral">&quot;infbuf&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#a1826741c5819eefb25ea63427304e4b9">infinite_buffer</a> }, <span class="stringliteral">&quot;don&#39;t limit the input buffer size (useful with realtime streams)&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    { <span class="stringliteral">&quot;window_title&quot;</span>, <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { &amp;<a class="code" href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a> }, <span class="stringliteral">&quot;set window title&quot;</span>, <span class="stringliteral">&quot;window title&quot;</span> },</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;    { <span class="stringliteral">&quot;vf&quot;</span>, <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = opt_add_vfilter }, <span class="stringliteral">&quot;set video filters&quot;</span>, <span class="stringliteral">&quot;filter_graph&quot;</span> },</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    { <span class="stringliteral">&quot;af&quot;</span>, <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { &amp;afilters }, <span class="stringliteral">&quot;set audio filters&quot;</span>, <span class="stringliteral">&quot;filter_graph&quot;</span> },</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    { <span class="stringliteral">&quot;rdftspeed&quot;</span>, <a class="code" href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a> | <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>| <a class="code" href="cmdutils_8h.html#aac1f37101001610dfbf8c6c679b786da">OPT_AUDIO</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#aefe253b88dd984bfdf762bff02f1c8d5">rdftspeed</a> }, <span class="stringliteral">&quot;rdft speed&quot;</span>, <span class="stringliteral">&quot;msecs&quot;</span> },</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    { <span class="stringliteral">&quot;showmode&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a8ca35b18fde7041ea86fa7f0eb9af33f">opt_show_mode</a>}, <span class="stringliteral">&quot;select show mode (0 = video, 1 = waves, 2 = RDFT)&quot;</span>, <span class="stringliteral">&quot;mode&quot;</span> },</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    { <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#aac1f37101001610dfbf8c6c679b786da">OPT_AUDIO</a> | <a class="code" href="cmdutils_8h.html#a0654bdd8f429df3aaf1f532968783bbc">OPT_VIDEO</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { .func_arg = <a class="code" href="cmdutils_8c.html#a24c4e9b816e053a3facd267d56daf1ed">opt_default</a> }, <span class="stringliteral">&quot;generic catch all option&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    { <span class="stringliteral">&quot;i&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a>, { &amp;dummy}, <span class="stringliteral">&quot;read specified file&quot;</span>, <span class="stringliteral">&quot;input_file&quot;</span>},</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    { <span class="stringliteral">&quot;codec&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a>, { .func_arg = <a class="code" href="ffplay_8c.html#a3f29cc92743ffe584bf73c5fcb8875e6">opt_codec</a>}, <span class="stringliteral">&quot;force decoder&quot;</span>, <span class="stringliteral">&quot;decoder_name&quot;</span> },</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;    { <span class="stringliteral">&quot;acodec&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, {    &amp;<a class="code" href="ffplay_8c.html#a765905fd1694893cf8523999e58c88c6">audio_codec_name</a> }, <span class="stringliteral">&quot;force audio decoder&quot;</span>,    <span class="stringliteral">&quot;decoder_name&quot;</span> },</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    { <span class="stringliteral">&quot;scodec&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, { &amp;<a class="code" href="ffplay_8c.html#ae11ee1a372bd6516e484c0643d450e04">subtitle_codec_name</a> }, <span class="stringliteral">&quot;force subtitle decoder&quot;</span>, <span class="stringliteral">&quot;decoder_name&quot;</span> },</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    { <span class="stringliteral">&quot;vcodec&quot;</span>, <a class="code" href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a> | <a class="code" href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a> | <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, {    &amp;<a class="code" href="ffplay_8c.html#a591a324cad0ca94e4a84dbdf229e5a02">video_codec_name</a> }, <span class="stringliteral">&quot;force video decoder&quot;</span>,    <span class="stringliteral">&quot;decoder_name&quot;</span> },</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    { <span class="stringliteral">&quot;autorotate&quot;</span>, <a class="code" href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a>, { &amp;<a class="code" href="ffplay_8c.html#a058bdabea08c743fd59a5ec26fa88bb7">autorotate</a> }, <span class="stringliteral">&quot;automatically rotate video&quot;</span>, <span class="stringliteral">&quot;&quot;</span> },</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    { <a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, },</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;};</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div><div class="line"><a name="l03628"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a017a6f5b075277289cca0b4158a0b7a6"> 3628</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a017a6f5b075277289cca0b4158a0b7a6">show_usage</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;{</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Simple media player\n&quot;</span>);</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;usage: %s [options] input_file\n&quot;</span>, <a class="code" href="ffplay_8c.html#a01a73e823e0892841a4fd2f900b85688">program_name</a>);</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;}</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;</div><div class="line"><a name="l03635"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a86b0b3c5097befa080e58ccbafe289c3"> 3635</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="ffplay_8c.html#a86b0b3c5097befa080e58ccbafe289c3">show_help_default</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *opt, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>)</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;{</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    <a class="code" href="group__lavu__log.html#ga14034761faf581a8b9ed6ef19b313708">av_log_set_callback</a>(<a class="code" href="cmdutils_8c.html#a90b81dc3f851b1894d3c0aecd85d66c2">log_callback_help</a>);</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    <a class="code" href="ffplay_8c.html#a017a6f5b075277289cca0b4158a0b7a6">show_usage</a>();</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <a class="code" href="cmdutils_8c.html#a13fba56a5674556e879f5733f9b1dd55">show_help_options</a>(options, <span class="stringliteral">&quot;Main options:&quot;</span>, 0, <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, 0);</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <a class="code" href="cmdutils_8c.html#a13fba56a5674556e879f5733f9b1dd55">show_help_options</a>(options, <span class="stringliteral">&quot;Advanced options:&quot;</span>, <a class="code" href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a>, 0, 0);</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <a class="code" href="cmdutils_8c.html#a0833f5d4481c5c8c2362b0e5d65af5f3">show_help_children</a>(<a class="code" href="group__lavc__core.html#gae8ab0faa9a07901c48e07e5feee82626">avcodec_get_class</a>(), <a class="code" href="opt_8h.html#aad820197915e73441f76f5e0c384d78a">AV_OPT_FLAG_DECODING_PARAM</a>);</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    <a class="code" href="cmdutils_8c.html#a0833f5d4481c5c8c2362b0e5d65af5f3">show_help_children</a>(<a class="code" href="group__lavf__core.html#ga6030789ce395ef543306bbe933619749">avformat_get_class</a>(), <a class="code" href="opt_8h.html#aad820197915e73441f76f5e0c384d78a">AV_OPT_FLAG_DECODING_PARAM</a>);</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;<span class="preprocessor">#if !CONFIG_AVFILTER</span></div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    <a class="code" href="cmdutils_8c.html#a0833f5d4481c5c8c2362b0e5d65af5f3">show_help_children</a>(<a class="code" href="group__libsws.html#ga14ed8a7188230d908f9f28ae9f7ba459">sws_get_class</a>(), <a class="code" href="opt_8h.html#aba0d5e41287b6fbeae5dd59f643695cc">AV_OPT_FLAG_ENCODING_PARAM</a>);</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    <a class="code" href="cmdutils_8c.html#a0833f5d4481c5c8c2362b0e5d65af5f3">show_help_children</a>(<a class="code" href="group__lavfi.html#ga47ab3c56888ecc8ced403cbf39c35a4d">avfilter_get_class</a>(), <a class="code" href="opt_8h.html#a1fa5f9ced9142668142f316b0aad2cfc">AV_OPT_FLAG_FILTERING_PARAM</a>);</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;    printf(<span class="stringliteral">&quot;\nWhile playing:\n&quot;</span></div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;           <span class="stringliteral">&quot;q, ESC              quit\n&quot;</span></div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;           <span class="stringliteral">&quot;f                   toggle full screen\n&quot;</span></div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;           <span class="stringliteral">&quot;p, SPC              pause\n&quot;</span></div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;           <span class="stringliteral">&quot;m                   toggle mute\n&quot;</span></div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;           <span class="stringliteral">&quot;9, 0                decrease and increase volume respectively\n&quot;</span></div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;           <span class="stringliteral">&quot;/, *                decrease and increase volume respectively\n&quot;</span></div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;           <span class="stringliteral">&quot;a                   cycle audio channel in the current program\n&quot;</span></div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;           <span class="stringliteral">&quot;v                   cycle video channel\n&quot;</span></div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;           <span class="stringliteral">&quot;t                   cycle subtitle channel in the current program\n&quot;</span></div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;           <span class="stringliteral">&quot;c                   cycle program\n&quot;</span></div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;           <span class="stringliteral">&quot;w                   cycle video filters or show modes\n&quot;</span></div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;           <span class="stringliteral">&quot;s                   activate frame-step mode\n&quot;</span></div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;           <span class="stringliteral">&quot;left/right          seek backward/forward 10 seconds\n&quot;</span></div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;           <span class="stringliteral">&quot;down/up             seek backward/forward 1 minute\n&quot;</span></div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;           <span class="stringliteral">&quot;page down/page up   seek backward/forward 10 minutes\n&quot;</span></div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;           <span class="stringliteral">&quot;right mouse click   seek to percentage in file corresponding to fraction of width\n&quot;</span></div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;           <span class="stringliteral">&quot;left double-click   toggle full screen\n&quot;</span></div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;           );</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;}</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;</div><div class="line"><a name="l03670"></a><span class="lineno"><a class="line" href="ffplay_8c.html#aa95c8aad8274305498eacb099e74d421"> 3670</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#aa95c8aad8274305498eacb099e74d421">lockmgr</a>(<span class="keywordtype">void</span> **mtx, <span class="keyword">enum</span> <a class="code" href="group__lavc__misc.html#ga7a013315e444069ec9630ddf3edce3f8">AVLockOp</a> <a class="code" href="libavcodec_2anm_8c.html#ac14d0b5f175e1c1c06f33693d8567695">op</a>)</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;{</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;   <span class="keywordflow">switch</span>(op) {</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8a486a4a2d7a97554c2e073536c038465d">AV_LOCK_CREATE</a>:</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;          *mtx = SDL_CreateMutex();</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;          <span class="keywordflow">if</span>(!*mtx) {</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;              <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;SDL_CreateMutex(): %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;              <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;          }</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;          <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8af684bbd8575f2686f42346f5e43be673">AV_LOCK_OBTAIN</a>:</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;          <span class="keywordflow">return</span> !!SDL_LockMutex(*mtx);</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8a7c470cd815cdef3b16a977e9a8c89c69">AV_LOCK_RELEASE</a>:</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;          <span class="keywordflow">return</span> !!SDL_UnlockMutex(*mtx);</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8aee9ae55e2efe16565998e473c2a18935">AV_LOCK_DESTROY</a>:</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;          SDL_DestroyMutex(*mtx);</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;          <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;   }</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;}</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;<span class="comment">/* Called from the main */</span></div><div class="line"><a name="l03692"></a><span class="lineno"><a class="line" href="ffplay_8c.html#a3c04138a5bfe5d72780bb7e82a18e627"> 3692</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;{</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="log_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>;</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <a class="code" href="structVideoState.html">VideoState</a> *is;</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    <a class="code" href="cmdutils_8c.html#a0f4db71e6407040a01316c537db5040c">init_dynload</a>();</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    <a class="code" href="group__lavu__log.html#gaf8143cc9a7cd364af1ff525c6181c0ce">av_log_set_flags</a>(<a class="code" href="group__lavu__log.html#ga6cdf5cd331b17e80e8308124f05a6db8">AV_LOG_SKIP_REPEATED</a>);</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <a class="code" href="cmdutils_8c.html#a812390811ecf2673409d4d2191b3696a">parse_loglevel</a>(argc, argv, options);</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <span class="comment">/* register all codecs, demux and protocols */</span></div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="preprocessor">#if CONFIG_AVDEVICE</span></div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <a class="code" href="group__lavd.html#ga7c90a3585267b55941ae2f7388c006b6">avdevice_register_all</a>();</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;<span class="preprocessor">#if CONFIG_AVFILTER</span></div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <a class="code" href="group__lavfi.html#ga2bf8f0a6e2599faf4bf97b04a5a25149">avfilter_register_all</a>();</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    <a class="code" href="group__lavf__core.html#ga917265caec45ef5a0646356ed1a507e3">av_register_all</a>();</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <a class="code" href="group__lavf__core.html#ga84542023693d61e8564c5d457979c932">avformat_network_init</a>();</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <a class="code" href="cmdutils_8c.html#aeb11173c4516257ff8fa004ad388e41a">init_opts</a>();</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    signal(SIGINT , <a class="code" href="ffplay_8c.html#af80faacdb2157777c247deee29765d79">sigterm_handler</a>); <span class="comment">/* Interrupt (ANSI).    */</span></div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    signal(SIGTERM, <a class="code" href="ffplay_8c.html#af80faacdb2157777c247deee29765d79">sigterm_handler</a>); <span class="comment">/* Termination (ANSI).  */</span></div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <a class="code" href="cmdutils_8c.html#a976c7dc9afeb4b0f6ec009a7a084e701">show_banner</a>(argc, argv, options);</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    <a class="code" href="cmdutils_8c.html#a8863e994be95bc81bbedff194aa2842f">parse_options</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, argc, argv, options, <a class="code" href="ffplay_8c.html#aa75a6881b8a23f5e49b7f6667e00cc5e">opt_input_file</a>);</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>) {</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        <a class="code" href="ffplay_8c.html#a017a6f5b075277289cca0b4158a0b7a6">show_usage</a>();</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;An input file must be specified\n&quot;</span>);</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>,</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;               <span class="stringliteral">&quot;Use -h to get full help or, even better, run &#39;man %s&#39;\n&quot;</span>, <a class="code" href="ffplay_8c.html#a01a73e823e0892841a4fd2f900b85688">program_name</a>);</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        exit(1);</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    }</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">display_disable</a>) {</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;        <a class="code" href="ffplay_8c.html#a351d6f966d54613c33de018b8b7c2ad7">video_disable</a> = 1;</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    }</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    flags = SDL_INIT_VIDEO | SDL_INIT_AUDIO | SDL_INIT_TIMER;</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aeb63829233379523f0b199931e546001">audio_disable</a>)</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;        flags &amp;= ~SDL_INIT_AUDIO;</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;        <span class="comment">/* Try to work around an occasional ALSA buffer underflow issue when the</span></div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;<span class="comment">         * period size is NPOT due to ALSA resampling by forcing the buffer size. */</span></div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;        <span class="keywordflow">if</span> (!SDL_getenv(<span class="stringliteral">&quot;SDL_AUDIO_ALSA_SET_BUFFER_SIZE&quot;</span>))</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;            SDL_setenv(<span class="stringliteral">&quot;SDL_AUDIO_ALSA_SET_BUFFER_SIZE&quot;</span>,<span class="stringliteral">&quot;1&quot;</span>, 1);</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    }</div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">display_disable</a>)</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;        flags &amp;= ~SDL_INIT_VIDEO;</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    <span class="keywordflow">if</span> (SDL_Init (flags)) {</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Could not initialize SDL - %s\n&quot;</span>, SDL_GetError());</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;(Did you set the DISPLAY variable?)\n&quot;</span>);</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;        exit(1);</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    }</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    SDL_EventState(SDL_SYSWMEVENT, SDL_IGNORE);</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    SDL_EventState(SDL_USEREVENT, SDL_IGNORE);</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavc__misc.html#gae120ec60cdf49cf0f793eff3ec731bcc">av_lockmgr_register</a>(<a class="code" href="ffplay_8c.html#aa95c8aad8274305498eacb099e74d421">lockmgr</a>)) {</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Could not initialize lock manager!\n&quot;</span>);</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;        <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    }</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(&amp;flush_pkt);</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    flush_pkt.<a class="code" href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *)&amp;flush_pkt;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    is = <a class="code" href="ffplay_8c.html#a62f22eedef6450392c68dbbbc8cde715">stream_open</a>(<a class="code" href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a>, file_iformat);</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="keywordflow">if</span> (!is) {</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Failed to initialize VideoState!\n&quot;</span>);</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;        <a class="code" href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a>(<a class="code" href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    }</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    <a class="code" href="ffplay_8c.html#a2fd6b2edd7dd7de8c4590cf2c606f507">event_loop</a>(is);</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    <span class="comment">/* never returns */</span></div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;}</div><div class="ttc" id="structAVFormatContext_html_a6f60043baf4abd0d201ccefc27bb4306"><div class="ttname"><a href="structAVFormatContext.html#a6f60043baf4abd0d201ccefc27bb4306">AVFormatContext::nb_chapters</a></div><div class="ttdeci">unsigned int nb_chapters</div><div class="ttdoc">Number of chapters in AVChapter array. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01543">avformat.h:1543</a></div></div>
<div class="ttc" id="ffplay_8c_html_a33337a4597f14dfa5efdb9f0ca42752f"><div class="ttname"><a href="ffplay_8c.html#a33337a4597f14dfa5efdb9f0ca42752f">EXTERNAL_CLOCK_SPEED_STEP</a></div><div class="ttdeci">#define EXTERNAL_CLOCK_SPEED_STEP</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00094">ffplay.c:94</a></div></div>
<div class="ttc" id="structAVFilterGraph_html_a1dafd3d239f7c2f5e3ac109578ef926d"><div class="ttname"><a href="structAVFilterGraph.html#a1dafd3d239f7c2f5e3ac109578ef926d">AVFilterGraph::filters</a></div><div class="ttdeci">AVFilterContext ** filters</div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00821">avfilter.h:821</a></div></div>
<div class="ttc" id="ffplay_8c_html_a5cfd9182ab1eea455e4c4f681973e504"><div class="ttname"><a href="ffplay_8c.html#a5cfd9182ab1eea455e4c4f681973e504">packet_queue_abort</a></div><div class="ttdeci">static void packet_queue_abort(PacketQueue *q)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00493">ffplay.c:493</a></div></div>
<div class="ttc" id="ffplay_8c_html_a8ca35b18fde7041ea86fa7f0eb9af33f"><div class="ttname"><a href="ffplay_8c.html#a8ca35b18fde7041ea86fa7f0eb9af33f">opt_show_mode</a></div><div class="ttdeci">static int opt_show_mode(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03534">ffplay.c:3534</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a0f4db71e6407040a01316c537db5040c"><div class="ttname"><a href="cmdutils_8c.html#a0f4db71e6407040a01316c537db5040c">init_dynload</a></div><div class="ttdeci">void init_dynload(void)</div><div class="ttdoc">Initialize dynamic library loading. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00119">cmdutils.c:119</a></div></div>
<div class="ttc" id="ffplay_8c_html_a9b2e8b0d879d7179f62a94edf7ab92e7"><div class="ttname"><a href="ffplay_8c.html#a9b2e8b0d879d7179f62a94edf7ab92e7">frame_queue_push</a></div><div class="ttdeci">static void frame_queue_push(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00740">ffplay.c:740</a></div></div>
<div class="ttc" id="ffplay_8c_html_a41385bc260f9d76071283c4e6cdd9ca6"><div class="ttname"><a href="ffplay_8c.html#a41385bc260f9d76071283c4e6cdd9ca6">video_image_display</a></div><div class="ttdeci">static void video_image_display(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00903">ffplay.c:903</a></div></div>
<div class="ttc" id="structVideoState_html_a5681367ba0a0685919ffb348939d516b"><div class="ttname"><a href="structVideoState.html#a5681367ba0a0685919ffb348939d516b">VideoState::audclk</a></div><div class="ttdeci">Clock audclk</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00222">ffplay.c:222</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_ad823be0325cd396723f2c37c16b3aaa2"><div class="ttname"><a href="avisynth__c_8h.html#ad823be0325cd396723f2c37c16b3aaa2">val</a></div><div class="ttdeci">const char const char void * val</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00771">avisynth_c.h:771</a></div></div>
<div class="ttc" id="avformat_8h_html_a8f47c7c3b5763fc7199f41741d759a70"><div class="ttname"><a href="avformat_8h.html#a8f47c7c3b5763fc7199f41741d759a70">AVFMT_NOBINSEARCH</a></div><div class="ttdeci">#define AVFMT_NOBINSEARCH</div><div class="ttdoc">Format does not allow to fall back on binary search via read_timestamp. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00492">avformat.h:492</a></div></div>
<div class="ttc" id="ffplay_8c_html_aba8c3403d249f0a42b6e0b2c7c21fff4"><div class="ttname"><a href="ffplay_8c.html#aba8c3403d249f0a42b6e0b2c7c21fff4">packet_queue_flush</a></div><div class="ttdeci">static void packet_queue_flush(PacketQueue *q)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00468">ffplay.c:468</a></div></div>
<div class="ttc" id="ffplay_8c_html_a741cc06cf030e23e1fe90797eff1e283"><div class="ttname"><a href="ffplay_8c.html#a741cc06cf030e23e1fe90797eff1e283">upload_texture</a></div><div class="ttdeci">static int upload_texture(SDL_Texture *tex, AVFrame *frame, struct SwsContext **img_convert_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00862">ffplay.c:862</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_ab87f55bd0280d90925050a4188c14ab5"><div class="ttname"><a href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a></div><div class="ttdeci">const char * s</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00768">avisynth_c.h:768</a></div></div>
<div class="ttc" id="structVideoState_html_a2b7a483de3f84c873ed10531b522c836"><div class="ttname"><a href="structVideoState.html#a2b7a483de3f84c873ed10531b522c836">VideoState::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00294">ffplay.c:294</a></div></div>
<div class="ttc" id="cmdutils_8h_html_ab8b1131ea532a43a07296dd04c8c9693"><div class="ttname"><a href="cmdutils_8h.html#ab8b1131ea532a43a07296dd04c8c9693">OPT_EXPERT</a></div><div class="ttdeci">#define OPT_EXPERT</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00170">cmdutils.h:170</a></div></div>
<div class="ttc" id="structVideoState_html_a950d812c3d72d9a0511f9473af774658ac4f177d75f0d16c5a53db7a66274897f"><div class="ttname"><a href="structVideoState.html#a950d812c3d72d9a0511f9473af774658ac4f177d75f0d16c5a53db7a66274897f">VideoState::SHOW_MODE_WAVES</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00265">ffplay.c:265</a></div></div>
<div class="ttc" id="ffplay_8c_html_adcd5c43f7358ebe88c2e745345683758"><div class="ttname"><a href="ffplay_8c.html#adcd5c43f7358ebe88c2e745345683758">get_clock</a></div><div class="ttdeci">static double get_clock(Clock *c)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01325">ffplay.c:1325</a></div></div>
<div class="ttc" id="avio_8h_html_a375f057e315dd2273579555128a070fb"><div class="ttname"><a href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a></div><div class="ttdeci">int64_t avio_size(AVIOContext *s)</div><div class="ttdoc">Get the filesize. </div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00309">aviobuf.c:309</a></div></div>
<div class="ttc" id="structAudioParams_html_ad5b8d7500834b787f6c54673e695fb5d"><div class="ttname"><a href="structAudioParams.html#ad5b8d7500834b787f6c54673e695fb5d">AudioParams::fmt</a></div><div class="ttdeci">enum AVSampleFormat fmt</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00138">ffplay.c:138</a></div></div>
<div class="ttc" id="ffplay_8c_html_aca6b66a008a6404f173a086bd07a982e"><div class="ttname"><a href="ffplay_8c.html#aca6b66a008a6404f173a086bd07a982e">opt_height</a></div><div class="ttdeci">static int opt_height(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03485">ffplay.c:3485</a></div></div>
<div class="ttc" id="ffplay_8c_html_adb047c8ef284577de88f3a64fe7638e0"><div class="ttname"><a href="ffplay_8c.html#adb047c8ef284577de88f3a64fe7638e0">program_birth_year</a></div><div class="ttdeci">const int program_birth_year</div><div class="ttdoc">program birth year, defined by the program for show_banner() </div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00064">ffplay.c:64</a></div></div>
<div class="ttc" id="vf__vaguedenoiser_8c_html_a119184041ca9d38a2ef373e1227323f9"><div class="ttname"><a href="vf__vaguedenoiser_8c.html#a119184041ca9d38a2ef373e1227323f9">copy</a></div><div class="ttdeci">static void copy(const float *p1, float *p2, const int length)</div><div class="ttdef"><b>Definition:</b> <a href="vf__vaguedenoiser_8c_source.html#l00183">vf_vaguedenoiser.c:183</a></div></div>
<div class="ttc" id="structFrameQueue_html_a3214f3b4ed9bbc834db555600c048788"><div class="ttname"><a href="structFrameQueue.html#a3214f3b4ed9bbc834db555600c048788">FrameQueue::cond</a></div><div class="ttdeci">SDL_cond * cond</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00180">ffplay.c:180</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a0de395898981d1bc1edad3198fb64b30"><div class="ttname"><a href="structAVCodecContext.html#a0de395898981d1bc1edad3198fb64b30">AVCodecContext::pts_correction_num_faulty_dts</a></div><div class="ttdeci">int64_t pts_correction_num_faulty_dts</div><div class="ttdoc">Number of incorrect PTS values so far. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03430">avcodec.h:3430</a></div></div>
<div class="ttc" id="ffplay_8c_html_a74b575ea52802ae98be73435125b7710"><div class="ttname"><a href="ffplay_8c.html#a74b575ea52802ae98be73435125b7710">audio_open</a></div><div class="ttdeci">static int audio_open(void *opaque, int64_t wanted_channel_layout, int wanted_nb_channels, int wanted_sample_rate, struct AudioParams *audio_hw_params)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02488">ffplay.c:2488</a></div></div>
<div class="ttc" id="twinvq__data_8h_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="twinvq__data_8h.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="structVideoState_html_a99694a5e016a2a2bf7ccde9cd8021ef9"><div class="ttname"><a href="structVideoState.html#a99694a5e016a2a2bf7ccde9cd8021ef9">VideoState::pictq</a></div><div class="ttdeci">FrameQueue pictq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00226">ffplay.c:226</a></div></div>
<div class="ttc" id="structVideoState_html_a29f05b44dd1e7840712f98094ab6dbcf"><div class="ttname"><a href="structVideoState.html#a29f05b44dd1e7840712f98094ab6dbcf">VideoState::auddec</a></div><div class="ttdeci">Decoder auddec</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00230">ffplay.c:230</a></div></div>
<div class="ttc" id="ffplay_8c_html_a8f0a8c485b0b7e7207aa31db91813c76"><div class="ttname"><a href="ffplay_8c.html#a8f0a8c485b0b7e7207aa31db91813c76">EXTERNAL_CLOCK_SPEED_MIN</a></div><div class="ttdeci">#define EXTERNAL_CLOCK_SPEED_MIN</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00092">ffplay.c:92</a></div></div>
<div class="ttc" id="structVideoState_html_ac304bed8bbe19cc0f86624af4c23b047"><div class="ttname"><a href="structVideoState.html#ac304bed8bbe19cc0f86624af4c23b047">VideoState::subtitle_st</a></div><div class="ttdeci">AVStream * subtitle_st</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00279">ffplay.c:279</a></div></div>
<div class="ttc" id="structAVFrame_html"><div class="ttname"><a href="structAVFrame.html">AVFrame</a></div><div class="ttdoc">This structure describes decoded (raw) audio or video data. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00190">frame.h:190</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00061">pixfmt.h:61</a></div></div>
<div class="ttc" id="ffplay_8c_html_ae2e6d105454e523ab34feaf641467dd9"><div class="ttname"><a href="ffplay_8c.html#ae2e6d105454e523ab34feaf641467dd9">VIDEO_PICTURE_QUEUE_SIZE</a></div><div class="ttdeci">#define VIDEO_PICTURE_QUEUE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00129">ffplay.c:129</a></div></div>
<div class="ttc" id="ffplay_8c_html_a966da7a60c4ea3ba301e26ccc5efe452"><div class="ttname"><a href="ffplay_8c.html#a966da7a60c4ea3ba301e26ccc5efe452">renderer</a></div><div class="ttdeci">static SDL_Renderer * renderer</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00364">ffplay.c:364</a></div></div>
<div class="ttc" id="structAVSubtitleRect_html_a0059c986f1ee3aab45c0f62f0709621b"><div class="ttname"><a href="structAVSubtitleRect.html#a0059c986f1ee3aab45c0f62f0709621b">AVSubtitleRect::x</a></div><div class="ttdeci">int x</div><div class="ttdoc">top left corner of pict, undefined when pict is not set </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03941">avcodec.h:3941</a></div></div>
<div class="ttc" id="structAVDictionaryEntry_html"><div class="ttname"><a href="structAVDictionaryEntry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00085">dict.h:85</a></div></div>
<div class="ttc" id="vp9dsp__template_8c_html_a5e36941b3d856737e81516acd45edc50"><div class="ttname"><a href="vp9dsp__template_8c.html#a5e36941b3d856737e81516acd45edc50">h</a></div><div class="ttdeci">h</div><div class="ttdef"><b>Definition:</b> <a href="vp9dsp__template_8c_source.html#l02038">vp9dsp_template.c:2038</a></div></div>
<div class="ttc" id="group__libsws_html_ga02a4ee9d3c158e842941873d2cf83b9f"><div class="ttname"><a href="group__libsws.html#ga02a4ee9d3c158e842941873d2cf83b9f">SWS_BICUBIC</a></div><div class="ttdeci">#define SWS_BICUBIC</div><div class="ttdef"><b>Definition:</b> <a href="swscale_8h_source.html#l00060">swscale.h:60</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a5b37acfe4024d92ee510064e80920b40"><div class="ttname"><a href="structAVFormatContext.html#a5b37acfe4024d92ee510064e80920b40">AVFormatContext::interrupt_callback</a></div><div class="ttdeci">AVIOInterruptCB interrupt_callback</div><div class="ttdoc">Custom interrupt callbacks for the I/O layer. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01592">avformat.h:1592</a></div></div>
<div class="ttc" id="ffplay_8c_html_aefe253b88dd984bfdf762bff02f1c8d5"><div class="ttname"><a href="ffplay_8c.html#aefe253b88dd984bfdf762bff02f1c8d5">rdftspeed</a></div><div class="ttdeci">double rdftspeed</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00344">ffplay.c:344</a></div></div>
<div class="ttc" id="structVideoState_html_a6e4224316c9742a9265c77a077ced24d"><div class="ttname"><a href="structVideoState.html#a6e4224316c9742a9265c77a077ced24d">VideoState::frame_timer</a></div><div class="ttdeci">double frame_timer</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00282">ffplay.c:282</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa4a9d80cbccb6f2db4833665108ed05c"><div class="ttname"><a href="ffplay_8c.html#aa4a9d80cbccb6f2db4833665108ed05c">file_iformat</a></div><div class="ttdeci">static AVInputFormat * file_iformat</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00312">ffplay.c:312</a></div></div>
<div class="ttc" id="cmdutils_8h_html_a0654bdd8f429df3aaf1f532968783bbc"><div class="ttname"><a href="cmdutils_8h.html#a0654bdd8f429df3aaf1f532968783bbc">OPT_VIDEO</a></div><div class="ttdeci">#define OPT_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00172">cmdutils.h:172</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa75a6881b8a23f5e49b7f6667e00cc5e"><div class="ttname"><a href="ffplay_8c.html#aa75a6881b8a23f5e49b7f6667e00cc5e">opt_input_file</a></div><div class="ttdeci">static void opt_input_file(void *optctx, const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03543">ffplay.c:3543</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a907c42e3f98cc1183a8788033d0aaaf2"><div class="ttname"><a href="cmdutils_8c.html#a907c42e3f98cc1183a8788033d0aaaf2">get_rotation</a></div><div class="ttdeci">double get_rotation(AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l02198">cmdutils.c:2198</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a868274bcce53dba81808c75d008593b4"><div class="ttname"><a href="avisynth__c_8h.html#a868274bcce53dba81808c75d008593b4">fmt</a></div><div class="ttdeci">const char * fmt</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00769">avisynth_c.h:769</a></div></div>
<div class="ttc" id="group__lavc__misc_html_gae120ec60cdf49cf0f793eff3ec731bcc"><div class="ttname"><a href="group__lavc__misc.html#gae120ec60cdf49cf0f793eff3ec731bcc">av_lockmgr_register</a></div><div class="ttdeci">int av_lockmgr_register(int(*cb)(void **mutex, enum AVLockOp op))</div><div class="ttdoc">Register a user provided lock manager supporting the operations specified by AVLockOp. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l03834">utils.c:3834</a></div></div>
<div class="ttc" id="imgutils_8h_html"><div class="ttname"><a href="imgutils_8h.html">imgutils.h</a></div><div class="ttdoc">misc image utilities </div></div>
<div class="ttc" id="ffplay_8c_html_a30b725c5e42860674f678532e83aebbd"><div class="ttname"><a href="ffplay_8c.html#a30b725c5e42860674f678532e83aebbd">opt_format</a></div><div class="ttdeci">static int opt_format(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03491">ffplay.c:3491</a></div></div>
<div class="ttc" id="group__lavfi_html_ga6c778454b86f845805ffd814b4ce51d4"><div class="ttname"><a href="group__lavfi.html#ga6c778454b86f845805ffd814b4ce51d4">avfilter_graph_alloc</a></div><div class="ttdeci">AVFilterGraph * avfilter_graph_alloc(void)</div><div class="ttdoc">Allocate a filter graph. </div><div class="ttdef"><b>Definition:</b> <a href="avfiltergraph_8c_source.html#l00079">avfiltergraph.c:79</a></div></div>
<div class="ttc" id="group__lavc__misc_html_gga7a013315e444069ec9630ddf3edce3f8a7c470cd815cdef3b16a977e9a8c89c69"><div class="ttname"><a href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8a7c470cd815cdef3b16a977e9a8c89c69">AV_LOCK_RELEASE</a></div><div class="ttdoc">Unlock the mutex. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l06168">avcodec.h:6168</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdoc">Something somehow does not look correct. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00182">log.h:182</a></div></div>
<div class="ttc" id="structDecoder_html_aad6c09049ffe63ec332f60d0d7c4dc3e"><div class="ttname"><a href="structDecoder.html#aad6c09049ffe63ec332f60d0d7c4dc3e">Decoder::next_pts_tb</a></div><div class="ttdeci">AVRational next_pts_tb</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00202">ffplay.c:202</a></div></div>
<div class="ttc" id="structRDFTContext_html"><div class="ttname"><a href="structRDFTContext.html">RDFTContext</a></div><div class="ttdef"><b>Definition:</b> <a href="rdft_8h_source.html#l00051">rdft.h:51</a></div></div>
<div class="ttc" id="ffplay_8c_html_a40eda185ca5b0f197cb1eb1d2f4813e4"><div class="ttname"><a href="ffplay_8c.html#a40eda185ca5b0f197cb1eb1d2f4813e4">get_master_sync_type</a></div><div class="ttdeci">static int get_master_sync_type(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01373">ffplay.c:1373</a></div></div>
<div class="ttc" id="avfilter_8h_html"><div class="ttname"><a href="avfilter_8h.html">avfilter.h</a></div><div class="ttdoc">Main libavfilter public API header. </div></div>
<div class="ttc" id="structFrameQueue_html_a6747afad605468a26e23d6ead8d4d7c2"><div class="ttname"><a href="structFrameQueue.html#a6747afad605468a26e23d6ead8d4d7c2">FrameQueue::rindex</a></div><div class="ttdeci">int rindex</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00173">ffplay.c:173</a></div></div>
<div class="ttc" id="ffplay_8c_html_af8022a2b672af835fe40c54d1b362c62"><div class="ttname"><a href="ffplay_8c.html#af8022a2b672af835fe40c54d1b362c62">AV_SYNC_FRAMEDUP_THRESHOLD</a></div><div class="ttdeci">#define AV_SYNC_FRAMEDUP_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00084">ffplay.c:84</a></div></div>
<div class="ttc" id="group__lavu__dict_html_ga8ed4237acfc3d68484301a5d1859936c"><div class="ttname"><a href="group__lavu__dict.html#ga8ed4237acfc3d68484301a5d1859936c">AV_DICT_DONT_OVERWRITE</a></div><div class="ttdeci">#define AV_DICT_DONT_OVERWRITE</div><div class="ttdoc">Don&amp;#39;t overwrite existing entries. </div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00079">dict.h:79</a></div></div>
<div class="ttc" id="ffplay_8c_html_a04c1b4abd3e0ad1146519ad4cdc7e914"><div class="ttname"><a href="ffplay_8c.html#a04c1b4abd3e0ad1146519ad4cdc7e914">default_height</a></div><div class="ttdeci">static int default_height</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00316">ffplay.c:316</a></div></div>
<div class="ttc" id="buffersrc_8h_html"><div class="ttname"><a href="buffersrc_8h.html">buffersrc.h</a></div><div class="ttdoc">Memory buffer source API. </div></div>
<div class="ttc" id="structVideoState_html_abf7f37ec79ebcb5247e82f9f50f3c38d"><div class="ttname"><a href="structVideoState.html#abf7f37ec79ebcb5247e82f9f50f3c38d">VideoState::frame_last_filter_delay</a></div><div class="ttdeci">double frame_last_filter_delay</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00284">ffplay.c:284</a></div></div>
<div class="ttc" id="structVideoState_html"><div class="ttname"><a href="structVideoState.html">VideoState</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00206">ffplay.c:206</a></div></div>
<div class="ttc" id="structVideoState_html_af7bffe2af5ab857a685b2b60044a3531"><div class="ttname"><a href="structVideoState.html#af7bffe2af5ab857a685b2b60044a3531">VideoState::sampq</a></div><div class="ttdeci">FrameQueue sampq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00228">ffplay.c:228</a></div></div>
<div class="ttc" id="structVideoState_html_a1b2e1ee07d13ea613320aab0bf109187"><div class="ttname"><a href="structVideoState.html#a1b2e1ee07d13ea613320aab0bf109187">VideoState::show_mode</a></div><div class="ttdeci">enum VideoState::ShowMode show_mode</div></div>
<div class="ttc" id="group__lavfi_html_ga1896c46b7bc6ff1bdb1a4815faa9ad07"><div class="ttname"><a href="group__lavfi.html#ga1896c46b7bc6ff1bdb1a4815faa9ad07">avfilter_graph_config</a></div><div class="ttdeci">int avfilter_graph_config(AVFilterGraph *graphctx, void *log_ctx)</div><div class="ttdoc">Check validity and configure all the links and formats in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="avfiltergraph_8c_source.html#l01259">avfiltergraph.c:1259</a></div></div>
<div class="ttc" id="group__lavfi_html_ga294500a9856260eb1552354fd9d9a6c4"><div class="ttname"><a href="group__lavfi.html#ga294500a9856260eb1552354fd9d9a6c4">avfilter_inout_free</a></div><div class="ttdeci">void avfilter_inout_free(AVFilterInOut **inout)</div><div class="ttdoc">Free the supplied list of AVFilterInOut and set *inout to NULL. </div><div class="ttdef"><b>Definition:</b> <a href="graphparser_8c_source.html#l00187">graphparser.c:187</a></div></div>
<div class="ttc" id="structAVCodecParameters_html_a7d6ef91120ffe80040c699e747a1ad68"><div class="ttname"><a href="structAVCodecParameters.html#a7d6ef91120ffe80040c699e747a1ad68">AVCodecParameters::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdoc">Video only. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l04075">avcodec.h:4075</a></div></div>
<div class="ttc" id="structVideoState_html_ab4b5a3933d23072d98bbe56ab44036af"><div class="ttname"><a href="structVideoState.html#ab4b5a3933d23072d98bbe56ab44036af">VideoState::seek_flags</a></div><div class="ttdeci">int seek_flags</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00215">ffplay.c:215</a></div></div>
<div class="ttc" id="structAVFilterInOut_html_af8c8cf9ffb650974d19e791f5bb7cf33"><div class="ttname"><a href="structAVFilterInOut.html#af8c8cf9ffb650974d19e791f5bb7cf33">AVFilterInOut::next</a></div><div class="ttdeci">struct AVFilterInOut * next</div><div class="ttdoc">next input/input in the list, NULL if this is the last </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l01005">avfilter.h:1005</a></div></div>
<div class="ttc" id="group__opt__set__funcs_html_gac06fc2b2e32f67f067ed7aaec163447f"><div class="ttname"><a href="group__opt__set__funcs.html#gac06fc2b2e32f67f067ed7aaec163447f">av_opt_set_int_list</a></div><div class="ttdeci">#define av_opt_set_int_list(obj, name, val, term, flags)</div><div class="ttdoc">Set a binary option to an integer list. </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00709">opt.h:709</a></div></div>
<div class="ttc" id="ffplay_8c_html_a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b"><div class="ttname"><a href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a873cd722d69e789d1551a2b39ca0534b">AV_SYNC_EXTERNAL_CLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00187">ffplay.c:187</a></div></div>
<div class="ttc" id="structPacketQueue_html_a14f78f2bb128cdcfe59c758f38beb23b"><div class="ttname"><a href="structPacketQueue.html#a14f78f2bb128cdcfe59c758f38beb23b">PacketQueue::serial</a></div><div class="ttdeci">int serial</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00124">ffplay.c:124</a></div></div>
<div class="ttc" id="group__lavf__misc_html_ga0f62da0e809045bb21166013c404ce43"><div class="ttname"><a href="group__lavf__misc.html#ga0f62da0e809045bb21166013c404ce43">av_guess_sample_aspect_ratio</a></div><div class="ttdeci">AVRational av_guess_sample_aspect_ratio(AVFormatContext *format, AVStream *stream, AVFrame *frame)</div><div class="ttdoc">Guess the sample aspect ratio of a frame, based on both the stream and the frame aspect ratio...</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04784">utils.c:4784</a></div></div>
<div class="ttc" id="ffserver_8c_html_a10f6aa3b91e89461b460411d0cf0d433"><div class="ttname"><a href="ffserver_8c.html#a10f6aa3b91e89461b460411d0cf0d433">cur_time</a></div><div class="ttdeci">static int64_t cur_time</div><div class="ttdef"><b>Definition:</b> <a href="ffserver_8c_source.html#l00252">ffserver.c:252</a></div></div>
<div class="ttc" id="cmdutils_8h_html_aac1f37101001610dfbf8c6c679b786da"><div class="ttname"><a href="cmdutils_8h.html#aac1f37101001610dfbf8c6c679b786da">OPT_AUDIO</a></div><div class="ttdeci">#define OPT_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00173">cmdutils.h:173</a></div></div>
<div class="ttc" id="ff__glob_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="ff__glob_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="ff__glob_8c_source.html#l00222">ff_glob.c:222</a></div></div>
<div class="ttc" id="ffplay_8c_html_a926a8ee966e85b0576aae25b308485e0"><div class="ttname"><a href="ffplay_8c.html#a926a8ee966e85b0576aae25b308485e0">stream_cycle_channel</a></div><div class="ttdeci">static void stream_cycle_channel(VideoState *is, int codec_type)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03128">ffplay.c:3128</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga89c6c7cf5717165b8751aa84bf397557"><div class="ttname"><a href="group__lavc__core.html#ga89c6c7cf5717165b8751aa84bf397557">av_codec_set_pkt_timebase</a></div><div class="ttdeci">void av_codec_set_pkt_timebase(AVCodecContext *avctx, AVRational val)</div></div>
<div class="ttc" id="structAVRational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="structAVRational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator. </div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="ffplay_8c_html_a547c6a804dc022672f8d9bfc0b94f84e"><div class="ttname"><a href="ffplay_8c.html#a547c6a804dc022672f8d9bfc0b94f84e">opt_frame_pix_fmt</a></div><div class="ttdeci">static int opt_frame_pix_fmt(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03501">ffplay.c:3501</a></div></div>
<div class="ttc" id="structAVPacket_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="structAVPacket.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01612">avcodec.h:1612</a></div></div>
<div class="ttc" id="vf__curves_8c_html_a0a667482238bcca3ac201c1cd09c5072"><div class="ttname"><a href="vf__curves_8c.html#a0a667482238bcca3ac201c1cd09c5072">b</a></div><div class="ttdeci">const char * b</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00113">vf_curves.c:113</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00059">samplefmt.h:59</a></div></div>
<div class="ttc" id="ffplay_8c_html_a249edb8351b98fc4a4bb1c8af98c23b8"><div class="ttname"><a href="ffplay_8c.html#a249edb8351b98fc4a4bb1c8af98c23b8">stream_toggle_pause</a></div><div class="ttdeci">static void stream_toggle_pause(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01437">ffplay.c:1437</a></div></div>
<div class="ttc" id="vf__framerate_8c_html_ad72dbcf6d0153db1b8d8a58001feed83"><div class="ttname"><a href="vf__framerate_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></div><div class="ttdeci">#define DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="vf__framerate_8c_source.html#l00029">vf_framerate.c:29</a></div></div>
<div class="ttc" id="structPacketQueue_html_a7d4f64a693907168a3a3426671e23624"><div class="ttname"><a href="structPacketQueue.html#a7d4f64a693907168a3a3426671e23624">PacketQueue::first_pkt</a></div><div class="ttdeci">MyAVPacketList * first_pkt</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00119">ffplay.c:119</a></div></div>
<div class="ttc" id="ffplay_8c_html_a7c56f8b399487222c0038c8d40cebd92"><div class="ttname"><a href="ffplay_8c.html#a7c56f8b399487222c0038c8d40cebd92">stream_seek</a></div><div class="ttdeci">static void stream_seek(VideoState *is, int64_t pos, int64_t rel, int seek_by_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01423">ffplay.c:1423</a></div></div>
<div class="ttc" id="ffplay_8c_html_ab7e5bf0e391ff1736c7d70fe23f59ddb"><div class="ttname"><a href="ffplay_8c.html#ab7e5bf0e391ff1736c7d70fe23f59ddb">seek_by_bytes</a></div><div class="ttdeci">static int seek_by_bytes</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00323">ffplay.c:323</a></div></div>
<div class="ttc" id="structVideoState_html_a5a38557686964f8ad1c48de94414b133"><div class="ttname"><a href="structVideoState.html#a5a38557686964f8ad1c48de94414b133">VideoState::audio_diff_cum</a></div><div class="ttdeci">double audio_diff_cum</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00240">ffplay.c:240</a></div></div>
<div class="ttc" id="group__lavfi_html_ga871684449dac05050df238a18d0d493b"><div class="ttname"><a href="group__lavfi.html#ga871684449dac05050df238a18d0d493b">avfilter_graph_free</a></div><div class="ttdeci">void avfilter_graph_free(AVFilterGraph **graph)</div><div class="ttdoc">Free a graph, destroy its links, and set *graph to NULL. </div><div class="ttdef"><b>Definition:</b> <a href="avfiltergraph_8c_source.html#l00116">avfiltergraph.c:116</a></div></div>
<div class="ttc" id="ffplay_8c_html_abc2b684fcc127e93aee54a3a45e25a7c"><div class="ttname"><a href="ffplay_8c.html#abc2b684fcc127e93aee54a3a45e25a7c">REFRESH_RATE</a></div><div class="ttdeci">#define REFRESH_RATE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00100">ffplay.c:100</a></div></div>
<div class="ttc" id="structVideoState_html_ad407b6b1d65b5bd32c47dc6433eaa31d"><div class="ttname"><a href="structVideoState.html#ad407b6b1d65b5bd32c47dc6433eaa31d">VideoState::iformat</a></div><div class="ttdeci">AVInputFormat * iformat</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00208">ffplay.c:208</a></div></div>
<div class="ttc" id="rtp_8c_html_a550d0fd0475cc25c2e1fec3e15acaffb"><div class="ttname"><a href="rtp_8c.html#a550d0fd0475cc25c2e1fec3e15acaffb">codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="rtp_8c_source.html#l00037">rtp.c:37</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a972a02b9e3b542a426e323a8f8e3ea41"><div class="ttname"><a href="structAVFormatContext.html#a972a02b9e3b542a426e323a8f8e3ea41">AVFormatContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdoc">Total stream bitrate in bit/s, 0 if not available. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01440">avformat.h:1440</a></div></div>
<div class="ttc" id="structDecoder_html_a7646ef9b265bdc0e32f116d42ecd8074"><div class="ttname"><a href="structDecoder.html#a7646ef9b265bdc0e32f116d42ecd8074">Decoder::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00194">ffplay.c:194</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a976c7dc9afeb4b0f6ec009a7a084e701"><div class="ttname"><a href="cmdutils_8c.html#a976c7dc9afeb4b0f6ec009a7a084e701">show_banner</a></div><div class="ttdeci">void show_banner(int argc, char **argv, const OptionDef *options)</div><div class="ttdoc">Print the program banner to stderr. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l01248">cmdutils.c:1248</a></div></div>
<div class="ttc" id="structVideoState_html_a4d08e1eb59755db9a51189ea633a8aa6"><div class="ttname"><a href="structVideoState.html#a4d08e1eb59755db9a51189ea633a8aa6">VideoState::paused</a></div><div class="ttdeci">int paused</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00211">ffplay.c:211</a></div></div>
<div class="ttc" id="time_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="ffplay_8c_html_a3f29cc92743ffe584bf73c5fcb8875e6"><div class="ttname"><a href="ffplay_8c.html#a3f29cc92743ffe584bf73c5fcb8875e6">opt_codec</a></div><div class="ttdeci">static int opt_codec(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03556">ffplay.c:3556</a></div></div>
<div class="ttc" id="demuxing__decoding_8c_html_a9decdb9a2529baa6bd2a855a12f1f0fc"><div class="ttname"><a href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a></div><div class="ttdeci">static AVStream * video_stream</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00041">demuxing_decoding.c:41</a></div></div>
<div class="ttc" id="structOptionDef_html"><div class="ttname"><a href="structOptionDef.html">OptionDef</a></div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00165">cmdutils.h:165</a></div></div>
<div class="ttc" id="ffplay_8c_html_ab7ad84aa2be1ae7c9baeeec95f3aac0f"><div class="ttname"><a href="ffplay_8c.html#ab7ad84aa2be1ae7c9baeeec95f3aac0f">sws_flags</a></div><div class="ttdeci">static unsigned sws_flags</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00110">ffplay.c:110</a></div></div>
<div class="ttc" id="structPacketQueue_html_ad3adc7f4e153c9869086b1c0e40e9fa1"><div class="ttname"><a href="structPacketQueue.html#ad3adc7f4e153c9869086b1c0e40e9fa1">PacketQueue::abort_request</a></div><div class="ttdeci">int abort_request</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00123">ffplay.c:123</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_afb62cae750fac4086418ac3808dff560"><div class="ttname"><a href="avisynth__c_8h.html#afb62cae750fac4086418ac3808dff560">new_height</a></div><div class="ttdeci">AVS_VideoFrame int int int int new_height</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00818">avisynth_c.h:818</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_gaaa1fbe477c04455cdc7a994090100db4"><div class="ttname"><a href="group__lavc__decoding.html#gaaa1fbe477c04455cdc7a994090100db4">avcodec_decode_audio4</a></div><div class="ttdeci">attribute_deprecated int avcodec_decode_audio4(AVCodecContext *avctx, AVFrame *frame, int *got_frame_ptr, const AVPacket *avpkt)</div><div class="ttdoc">Decode the audio frame of size avpkt-&gt;size from avpkt-&gt;data into frame. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02317">utils.c:2317</a></div></div>
<div class="ttc" id="structAVSubtitle_html_a89491b1f6998eceb6221791fd50087df"><div class="ttname"><a href="structAVSubtitle.html#a89491b1f6998eceb6221791fd50087df">AVSubtitle::num_rects</a></div><div class="ttdeci">unsigned num_rects</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03979">avcodec.h:3979</a></div></div>
<div class="ttc" id="ffplay_8c_html_a226c80ed049d5f123df4407b19839094"><div class="ttname"><a href="ffplay_8c.html#a226c80ed049d5f123df4407b19839094">set_clock_at</a></div><div class="ttdeci">static void set_clock_at(Clock *c, double pts, int serial, double time)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01337">ffplay.c:1337</a></div></div>
<div class="ttc" id="ffplay_8c_html_ac8b8aba40979d3059387561807c7dff0"><div class="ttname"><a href="ffplay_8c.html#ac8b8aba40979d3059387561807c7dff0">toggle_pause</a></div><div class="ttdeci">static void toggle_pause(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01450">ffplay.c:1450</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_a6b2e93f2f2db9a65b19a2487c6b1f78b"><div class="ttname"><a href="tests_2movenc_8c.html#a6b2e93f2f2db9a65b19a2487c6b1f78b">out_size</a></div><div class="ttdeci">int out_size</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00055">movenc.c:55</a></div></div>
<div class="ttc" id="structVideoState_html_a5def703507c8ca5ac806166b1f22ea28"><div class="ttname"><a href="structVideoState.html#a5def703507c8ca5ac806166b1f22ea28">VideoState::audio_diff_threshold</a></div><div class="ttdeci">double audio_diff_threshold</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00242">ffplay.c:242</a></div></div>
<div class="ttc" id="group__lavu__frame_html_ga709e62bc2917ffd84c5c0f4e1dfc48f7"><div class="ttname"><a href="group__lavu__frame.html#ga709e62bc2917ffd84c5c0f4e1dfc48f7">av_frame_move_ref</a></div><div class="ttdeci">void av_frame_move_ref(AVFrame *dst, AVFrame *src)</div><div class="ttdoc">Move everything contained in src to dst and reset src. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00519">frame.c:519</a></div></div>
<div class="ttc" id="structAVFormatContext_html_aaf1ef435f30fce3cd0872467267512d0"><div class="ttname"><a href="structAVFormatContext.html#aaf1ef435f30fce3cd0872467267512d0">AVFormatContext::filename</a></div><div class="ttdeci">char filename[OUTPUT_FILENAME_LEN]</div><div class="ttdoc">input or output filename </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01414">avformat.h:1414</a></div></div>
<div class="ttc" id="time_8c_html_a4eee9c65835652a808973f4bc1641a51"><div class="ttname"><a href="time_8c.html#a4eee9c65835652a808973f4bc1641a51">av_usleep</a></div><div class="ttdeci">int av_usleep(unsigned usec)</div><div class="ttdoc">Sleep for a period of time. </div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00076">time.c:76</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a></div><div class="ttdoc">discard all </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00791">avcodec.h:791</a></div></div>
<div class="ttc" id="structAVInputFormat_html"><div class="ttname"><a href="structAVInputFormat.html">AVInputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00659">avformat.h:659</a></div></div>
<div class="ttc" id="avstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="structAudioParams_html_a416653247058e6e86828ad522b9865ff"><div class="ttname"><a href="structAudioParams.html#a416653247058e6e86828ad522b9865ff">AudioParams::channel_layout</a></div><div class="ttdeci">int64_t channel_layout</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00137">ffplay.c:137</a></div></div>
<div class="ttc" id="samplefmt_8h_html"><div class="ttname"><a href="samplefmt_8h.html">samplefmt.h</a></div></div>
<div class="ttc" id="group__libsws_html_ga14ed8a7188230d908f9f28ae9f7ba459"><div class="ttname"><a href="group__libsws.html#ga14ed8a7188230d908f9f28ae9f7ba459">sws_get_class</a></div><div class="ttdeci">const AVClass * sws_get_class(void)</div><div class="ttdoc">Get the AVClass for swsContext. </div><div class="ttdef"><b>Definition:</b> <a href="libswscale_2options_8c_source.html#l00095">options.c:95</a></div></div>
<div class="ttc" id="ffplay_8c_html_aeb63829233379523f0b199931e546001"><div class="ttname"><a href="ffplay_8c.html#aeb63829233379523f0b199931e546001">audio_disable</a></div><div class="ttdeci">static int audio_disable</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00319">ffplay.c:319</a></div></div>
<div class="ttc" id="structVideoState_html_a56c7a2af21110e27b86a6c0dad923bf0"><div class="ttname"><a href="structVideoState.html#a56c7a2af21110e27b86a6c0dad923bf0">VideoState::audio_st</a></div><div class="ttdeci">AVStream * audio_st</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00244">ffplay.c:244</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_ga47db1b7f294b9f92684401b9c66a7c4b"><div class="ttname"><a href="group__lavc__decoding.html#ga47db1b7f294b9f92684401b9c66a7c4b">avcodec_decode_subtitle2</a></div><div class="ttdeci">int avcodec_decode_subtitle2(AVCodecContext *avctx, AVSubtitle *sub, int *got_sub_ptr, AVPacket *avpkt)</div><div class="ttdoc">Decode a subtitle message. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02644">utils.c:2644</a></div></div>
<div class="ttc" id="ffplay_8c_html_a765905fd1694893cf8523999e58c88c6"><div class="ttname"><a href="ffplay_8c.html#a765905fd1694893cf8523999e58c88c6">audio_codec_name</a></div><div class="ttdeci">static const char * audio_codec_name</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00341">ffplay.c:341</a></div></div>
<div class="ttc" id="colorspacedsp__template_8c_html_a2bba01bdbab204f0c8a88211aadf2d77"><div class="ttname"><a href="colorspacedsp__template_8c.html#a2bba01bdbab204f0c8a88211aadf2d77">fn</a></div><div class="ttdeci">#define fn(a)</div><div class="ttdef"><b>Definition:</b> <a href="colorspacedsp__template_8c_source.html#l00042">colorspacedsp_template.c:42</a></div></div>
<div class="ttc" id="structFrame_html_a713c8c2facab65181e3c3223a50289f5"><div class="ttname"><a href="structFrame.html#a713c8c2facab65181e3c3223a50289f5">Frame::serial</a></div><div class="ttdeci">int serial</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00157">ffplay.c:157</a></div></div>
<div class="ttc" id="structAVCodec_html"><div class="ttname"><a href="structAVCodec.html">AVCodec</a></div><div class="ttdoc">AVCodec. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03619">avcodec.h:3619</a></div></div>
<div class="ttc" id="ffplay_8c_html_a79f2eb86814cd405d97a1f9cb95830db"><div class="ttname"><a href="ffplay_8c.html#a79f2eb86814cd405d97a1f9cb95830db">seek_chapter</a></div><div class="ttdeci">static void seek_chapter(VideoState *is, int incr)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03242">ffplay.c:3242</a></div></div>
<div class="ttc" id="structClock_html_a3e4f48b49714d5f1abffb649e5615794"><div class="ttname"><a href="structClock.html#a3e4f48b49714d5f1abffb649e5615794">Clock::pts_drift</a></div><div class="ttdeci">double pts_drift</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00145">ffplay.c:145</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a98c102ceb9bca5531e6d43f951e9afed"><div class="ttname"><a href="cmdutils_8c.html#a98c102ceb9bca5531e6d43f951e9afed">filter_codec_opts</a></div><div class="ttdeci">AVDictionary * filter_codec_opts(AVDictionary *opts, enum AVCodecID codec_id, AVFormatContext *s, AVStream *st, AVCodec *codec)</div><div class="ttdoc">Filter out options for given codec. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l02102">cmdutils.c:2102</a></div></div>
<div class="ttc" id="structAVCodecParameters_html"><div class="ttname"><a href="structAVCodecParameters.html">AVCodecParameters</a></div><div class="ttdoc">This struct describes the properties of an encoded stream. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03991">avcodec.h:3991</a></div></div>
<div class="ttc" id="group__lavc__misc_html_ga7a013315e444069ec9630ddf3edce3f8"><div class="ttname"><a href="group__lavc__misc.html#ga7a013315e444069ec9630ddf3edce3f8">AVLockOp</a></div><div class="ttdeci">AVLockOp</div><div class="ttdoc">Lock operation used by lockmgr. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l06165">avcodec.h:6165</a></div></div>
<div class="ttc" id="structFrame_html_a04fd6231fc8fe9e75e2f5850c9623ce2"><div class="ttname"><a href="structFrame.html#a04fd6231fc8fe9e75e2f5850c9623ce2">Frame::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00163">ffplay.c:163</a></div></div>
<div class="ttc" id="structAVFilterGraph_html_a17ced656602d33101ec4f46f6a9bdc53"><div class="ttname"><a href="structAVFilterGraph.html#a17ced656602d33101ec4f46f6a9bdc53">AVFilterGraph::scale_sws_opts</a></div><div class="ttdeci">char * scale_sws_opts</div><div class="ttdoc">sws options to use for the auto-inserted scale filters </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00824">avfilter.h:824</a></div></div>
<div class="ttc" id="structVideoState_html_a55e901309a80a9c385967d5bc4be7eb4"><div class="ttname"><a href="structVideoState.html#a55e901309a80a9c385967d5bc4be7eb4">VideoState::video_st</a></div><div class="ttdeci">AVStream * video_st</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00286">ffplay.c:286</a></div></div>
<div class="ttc" id="structVideoState_html_a632f0d63d3e3d4339d7675ec1cdbedef"><div class="ttname"><a href="structVideoState.html#a632f0d63d3e3d4339d7675ec1cdbedef">VideoState::extclk</a></div><div class="ttdeci">Clock extclk</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00224">ffplay.c:224</a></div></div>
<div class="ttc" id="ffplay_8c_html_a62f22eedef6450392c68dbbbc8cde715"><div class="ttname"><a href="ffplay_8c.html#a62f22eedef6450392c68dbbbc8cde715">stream_open</a></div><div class="ttdeci">static VideoState * stream_open(const char *filename, AVInputFormat *iformat)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03073">ffplay.c:3073</a></div></div>
<div class="ttc" id="structAVIOInterruptCB_html_a873ae56fef71d27dca1088dfd55c2197"><div class="ttname"><a href="structAVIOInterruptCB.html#a873ae56fef71d27dca1088dfd55c2197">AVIOInterruptCB::opaque</a></div><div class="ttdeci">void * opaque</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00052">avio.h:52</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_gac95619abeb32e4a3daa18e3ff3419380"><div class="ttname"><a href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a></div><div class="ttdeci">int av_get_channel_layout_nb_channels(uint64_t channel_layout)</div><div class="ttdoc">Return the number of channels in the channel layout. </div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00198">channel_layout.c:198</a></div></div>
<div class="ttc" id="structVideoState_html_a610bf21d59f7c6b502dc24079abc37db"><div class="ttname"><a href="structVideoState.html#a610bf21d59f7c6b502dc24079abc37db">VideoState::img_convert_ctx</a></div><div class="ttdeci">struct SwsContext * img_convert_ctx</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00289">ffplay.c:289</a></div></div>
<div class="ttc" id="structAVSubtitle_html_ad37c2315a9e36ed700f64cb971e22298"><div class="ttname"><a href="structAVSubtitle.html#ad37c2315a9e36ed700f64cb971e22298">AVSubtitle::rects</a></div><div class="ttdeci">AVSubtitleRect ** rects</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03980">avcodec.h:3980</a></div></div>
<div class="ttc" id="structAVFormatContext_html"><div class="ttname"><a href="structAVFormatContext.html">AVFormatContext</a></div><div class="ttdoc">Format I/O context. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01338">avformat.h:1338</a></div></div>
<div class="ttc" id="ffplay_8c_html_a5fc7ff2bda788d48603574dd3a256815"><div class="ttname"><a href="ffplay_8c.html#a5fc7ff2bda788d48603574dd3a256815">toggle_audio_display</a></div><div class="ttdeci">static void toggle_audio_display(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03213">ffplay.c:3213</a></div></div>
<div class="ttc" id="mathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="group__lavf__misc_html_ga12c049178414cc221dfafd4e7f836dea"><div class="ttname"><a href="group__lavf__misc.html#ga12c049178414cc221dfafd4e7f836dea">av_guess_frame_rate</a></div><div class="ttdeci">AVRational av_guess_frame_rate(AVFormatContext *ctx, AVStream *stream, AVFrame *frame)</div><div class="ttdoc">Guess the frame rate, based on both the container and codec information. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04807">utils.c:4807</a></div></div>
<div class="ttc" id="structFrame_html"><div class="ttname"><a href="structFrame.html">Frame</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00154">ffplay.c:154</a></div></div>
<div class="ttc" id="buffersink_8h_html"><div class="ttname"><a href="buffersink_8h.html">buffersink.h</a></div><div class="ttdoc">memory buffer sink API for audio and video </div></div>
<div class="ttc" id="group__lavc__core_html_gae8ab0faa9a07901c48e07e5feee82626"><div class="ttname"><a href="group__lavc__core.html#gae8ab0faa9a07901c48e07e5feee82626">avcodec_get_class</a></div><div class="ttdeci">const AVClass * avcodec_get_class(void)</div><div class="ttdoc">Get the AVClass for AVCodecContext. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00279">options.c:279</a></div></div>
<div class="ttc" id="tests_2dct_8c_html_a376a2fac1a6f6b3f6efa31fed92176e7"><div class="ttname"><a href="tests_2dct_8c.html#a376a2fac1a6f6b3f6efa31fed92176e7">block</a></div><div class="ttdeci">static int16_t block[64]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2dct_8c_source.html#l00113">dct.c:113</a></div></div>
<div class="ttc" id="structVideoState_html_a32e2a00023c77f85fa6d781a6b4a9f16"><div class="ttname"><a href="structVideoState.html#a32e2a00023c77f85fa6d781a6b4a9f16">VideoState::av_sync_type</a></div><div class="ttdeci">int av_sync_type</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00236">ffplay.c:236</a></div></div>
<div class="ttc" id="structAVProgram_html_a136cf29d2aa5b0e4c6d743406c5e39d1"><div class="ttname"><a href="structAVProgram.html#a136cf29d2aa5b0e4c6d743406c5e39d1">AVProgram::nb_stream_indexes</a></div><div class="ttdeci">unsigned int nb_stream_indexes</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01270">avformat.h:1270</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga11e329935b59b83ca722b66674f37fd4"><div class="ttname"><a href="group__lavu__log__constants.html#ga11e329935b59b83ca722b66674f37fd4">AV_LOG_QUIET</a></div><div class="ttdeci">#define AV_LOG_QUIET</div><div class="ttdoc">Print no output. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00158">log.h:158</a></div></div>
<div class="ttc" id="structFrameQueue_html_a92be4cdd65cbd9213f0cac244491c9cc"><div class="ttname"><a href="structFrameQueue.html#a92be4cdd65cbd9213f0cac244491c9cc">FrameQueue::rindex_shown</a></div><div class="ttdeci">int rindex_shown</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00178">ffplay.c:178</a></div></div>
<div class="ttc" id="structAVSubtitleRect_html_a264a52200e34e138d47c76d7a431125a"><div class="ttname"><a href="structAVSubtitleRect.html#a264a52200e34e138d47c76d7a431125a">AVSubtitleRect::w</a></div><div class="ttdeci">int w</div><div class="ttdoc">width of pict, undefined when pict is not set </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03943">avcodec.h:3943</a></div></div>
<div class="ttc" id="structAVFilterContext_html_a6837bf4b3d70c0a2bd3122f9daadc0d4"><div class="ttname"><a href="structAVFilterContext.html#a6837bf4b3d70c0a2bd3122f9daadc0d4">AVFilterContext::inputs</a></div><div class="ttdeci">AVFilterLink ** inputs</div><div class="ttdoc">array of pointers to input links </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00315">avfilter.h:315</a></div></div>
<div class="ttc" id="structFrame_html_aea8cc35c298ed80a94444b9619c0f03a"><div class="ttname"><a href="structFrame.html#aea8cc35c298ed80a94444b9619c0f03a">Frame::pts</a></div><div class="ttdeci">double pts</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00158">ffplay.c:158</a></div></div>
<div class="ttc" id="avfilter_8c_html_a1caf3764305bd151fd31049864fbe2df"><div class="ttname"><a href="avfilter_8c.html#a1caf3764305bd151fd31049864fbe2df">last_filter</a></div><div class="ttdeci">static AVFilter ** last_filter</div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8c_source.html#l00561">avfilter.c:561</a></div></div>
<div class="ttc" id="dict_8h_html"><div class="ttname"><a href="dict_8h.html">dict.h</a></div><div class="ttdoc">Public dictionary API. </div></div>
<div class="ttc" id="structVideoState_html_a63f0b85be8b74e13eacbc44cca07816c"><div class="ttname"><a href="structVideoState.html#a63f0b85be8b74e13eacbc44cca07816c">VideoState::audio_diff_avg_coef</a></div><div class="ttdeci">double audio_diff_avg_coef</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00241">ffplay.c:241</a></div></div>
<div class="ttc" id="structDecoder_html_ab6209d8e965103ce5aeab564c71e9e4c"><div class="ttname"><a href="structDecoder.html#ab6209d8e965103ce5aeab564c71e9e4c">Decoder::start_pts_tb</a></div><div class="ttdeci">AVRational start_pts_tb</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00200">ffplay.c:200</a></div></div>
<div class="ttc" id="ffplay_8c_html_af98aa71e5ca6bab13a4b5659518acd71"><div class="ttname"><a href="ffplay_8c.html#af98aa71e5ca6bab13a4b5659518acd71">read_thread</a></div><div class="ttdeci">static int read_thread(void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02751">ffplay.c:2751</a></div></div>
<div class="ttc" id="structFrameQueue_html_a3bde6e5786f5bfd9040be752f86395ac"><div class="ttname"><a href="structFrameQueue.html#a3bde6e5786f5bfd9040be752f86395ac">FrameQueue::keep_last</a></div><div class="ttdeci">int keep_last</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00177">ffplay.c:177</a></div></div>
<div class="ttc" id="group__lavfi_html_gabc6247ebae2c591e768c8555174402f1"><div class="ttname"><a href="group__lavfi.html#gabc6247ebae2c591e768c8555174402f1">avfilter_link</a></div><div class="ttdeci">int avfilter_link(AVFilterContext *src, unsigned srcpad, AVFilterContext *dst, unsigned dstpad)</div><div class="ttdoc">Link two filters together. </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8c_source.html#l00136">avfilter.c:136</a></div></div>
<div class="ttc" id="structVideoState_html_a5bcc4f59ca5e6eb3e005820f55e7f0ea"><div class="ttname"><a href="structVideoState.html#a5bcc4f59ca5e6eb3e005820f55e7f0ea">VideoState::rdft_bits</a></div><div class="ttdeci">int rdft_bits</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00271">ffplay.c:271</a></div></div>
<div class="ttc" id="group__lswr_html_gab7f21690522b85d7757e13fa9853d4d8"><div class="ttname"><a href="group__lswr.html#gab7f21690522b85d7757e13fa9853d4d8">swr_set_compensation</a></div><div class="ttdeci">int swr_set_compensation(struct SwrContext *s, int sample_delta, int compensation_distance)</div><div class="ttdoc">Activate resampling compensation (&quot;soft&quot; compensation). </div><div class="ttdef"><b>Definition:</b> <a href="swresample_8c_source.html#l00890">swresample.c:890</a></div></div>
<div class="ttc" id="structPacketQueue_html_ab425eb21a546a872c1cab40422b3cf71"><div class="ttname"><a href="structPacketQueue.html#ab425eb21a546a872c1cab40422b3cf71">PacketQueue::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00121">ffplay.c:121</a></div></div>
<div class="ttc" id="ffplay_8c_html_a00a565dcbcefdce2103a8d9265a95661"><div class="ttname"><a href="ffplay_8c.html#a00a565dcbcefdce2103a8d9265a95661">frame_queue_peek</a></div><div class="ttdeci">static Frame * frame_queue_peek(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00693">ffplay.c:693</a></div></div>
<div class="ttc" id="ffplay_8c_html_aff091f79e1f4daabe108ee1262892f9f"><div class="ttname"><a href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a></div><div class="ttdeci">static int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00328">ffplay.c:328</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a8e220e09ef38f26963e8e2ec731fb7d9">AVMEDIA_TYPE_NB</a></div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00206">avutil.h:206</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="structAVCodecContext.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">audio sample format </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02456">avcodec.h:2456</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a90b81dc3f851b1894d3c0aecd85d66c2"><div class="ttname"><a href="cmdutils_8c.html#a90b81dc3f851b1894d3c0aecd85d66c2">log_callback_help</a></div><div class="ttdeci">void log_callback_help(void *ptr, int level, const char *fmt, va_list vl)</div><div class="ttdoc">Trivial log callback. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00098">cmdutils.c:98</a></div></div>
<div class="ttc" id="group__lavc__misc_html_gga7a013315e444069ec9630ddf3edce3f8af684bbd8575f2686f42346f5e43be673"><div class="ttname"><a href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8af684bbd8575f2686f42346f5e43be673">AV_LOCK_OBTAIN</a></div><div class="ttdoc">Lock the mutex. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l06167">avcodec.h:6167</a></div></div>
<div class="ttc" id="audio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="ffprobe_8c_html_ad5b72470d5d57d39c02421b54a92c065"><div class="ttname"><a href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a></div><div class="ttdeci">static int nb_streams</div><div class="ttdef"><b>Definition:</b> <a href="ffprobe_8c_source.html#l00255">ffprobe.c:255</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="group__lavu__frame_html_gac700017c5270c79c1e1befdeeb008b2f"><div class="ttname"><a href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a></div><div class="ttdeci">AVFrame * av_frame_alloc(void)</div><div class="ttdoc">Allocate an AVFrame and set its fields to default values. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00145">frame.c:145</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a24c4e9b816e053a3facd267d56daf1ed"><div class="ttname"><a href="cmdutils_8c.html#a24c4e9b816e053a3facd267d56daf1ed">opt_default</a></div><div class="ttdeci">int opt_default(void *optctx, const char *opt, const char *arg)</div><div class="ttdoc">Fallback for options that are not explicitly handled, these will be parsed through AVOptions...</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00550">cmdutils.c:550</a></div></div>
<div class="ttc" id="ffplay_8c_html_a113c3942838492268f7612ab67999b44"><div class="ttname"><a href="ffplay_8c.html#a113c3942838492268f7612ab67999b44">default_width</a></div><div class="ttdeci">static int default_width</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00315">ffplay.c:315</a></div></div>
<div class="ttc" id="structVideoState_html_ac00f66760b47071a9db6e3a2c1b2dc5d"><div class="ttname"><a href="structVideoState.html#ac00f66760b47071a9db6e3a2c1b2dc5d">VideoState::last_video_stream</a></div><div class="ttdeci">int last_video_stream</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00306">ffplay.c:306</a></div></div>
<div class="ttc" id="structAVCodecParameters_html_a51639f88aef9f4f283f538a0c033fbb8"><div class="ttname"><a href="structAVCodecParameters.html#a51639f88aef9f4f283f538a0c033fbb8">AVCodecParameters::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">Video only. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l04065">avcodec.h:4065</a></div></div>
<div class="ttc" id="structVideoState_html_aa07580e0a04b1feb51e246adbd52d326"><div class="ttname"><a href="structVideoState.html#aa07580e0a04b1feb51e246adbd52d326">VideoState::last_subtitle_stream</a></div><div class="ttdeci">int last_subtitle_stream</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00306">ffplay.c:306</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a></div><div class="ttdoc">8 bits with AV_PIX_FMT_RGB32 palette </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00073">pixfmt.h:73</a></div></div>
<div class="ttc" id="opt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div><div class="ttdoc">AVOptions. </div></div>
<div class="ttc" id="structAVInputFormat_html_a1b30f6647d0c2faf38ba8786d7c3a838"><div class="ttname"><a href="structAVInputFormat.html#a1b30f6647d0c2faf38ba8786d7c3a838">AVInputFormat::flags</a></div><div class="ttdeci">int flags</div><div class="ttdoc">Can use flags: AVFMT_NOFILE, AVFMT_NEEDNUMBER, AVFMT_SHOW_IDS, AVFMT_GENERIC_INDEX, AVFMT_TS_DISCONT, AVFMT_NOBINSEARCH, AVFMT_NOGENSEARCH, AVFMT_NO_BYTE_SEEK, AVFMT_SEEK_TO_PTS. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00678">avformat.h:678</a></div></div>
<div class="ttc" id="cmdutils_8h_html_affec572f11fcba59ce0cd49cbcd0110f"><div class="ttname"><a href="cmdutils_8h.html#affec572f11fcba59ce0cd49cbcd0110f">HAS_ARG</a></div><div class="ttdeci">#define HAS_ARG</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00168">cmdutils.h:168</a></div></div>
<div class="ttc" id="structVideoState_html_a8a075ca48d17c746b9b1ee9a15bd60ca"><div class="ttname"><a href="structVideoState.html#a8a075ca48d17c746b9b1ee9a15bd60ca">VideoState::audio_hw_buf_size</a></div><div class="ttdeci">int audio_hw_buf_size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00246">ffplay.c:246</a></div></div>
<div class="ttc" id="ffplay_8c_html_ab39ba3de373b117fc0d43e0302d9e43a"><div class="ttname"><a href="ffplay_8c.html#ab39ba3de373b117fc0d43e0302d9e43a">stream_component_close</a></div><div class="ttdeci">static void stream_component_close(VideoState *is, int stream_index)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01133">ffplay.c:1133</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga030300ea4843c53b2fe178a434964b39"><div class="ttname"><a href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a></div><div class="ttdeci">#define AV_LOG_TRACE</div><div class="ttdoc">Extremely verbose debugging, useful for libav* development. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00202">log.h:202</a></div></div>
<div class="ttc" id="ffplay_8c_html_a9beebdd76e933c60de0e18629bc9fc2e"><div class="ttname"><a href="ffplay_8c.html#a9beebdd76e933c60de0e18629bc9fc2e">decode_interrupt_cb</a></div><div class="ttdeci">static int decode_interrupt_cb(void *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02721">ffplay.c:2721</a></div></div>
<div class="ttc" id="cmdutils_8h_html"><div class="ttname"><a href="cmdutils_8h.html">cmdutils.h</a></div></div>
<div class="ttc" id="structPacketQueue_html_a9dec8bfb34f3ada6c26e9a09640bc414"><div class="ttname"><a href="structPacketQueue.html#a9dec8bfb34f3ada6c26e9a09640bc414">PacketQueue::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00122">ffplay.c:122</a></div></div>
<div class="ttc" id="structVideoState_html_a7b80902643df0833e23bae68c0bc2ef1"><div class="ttname"><a href="structVideoState.html#a7b80902643df0833e23bae68c0bc2ef1">VideoState::swr_ctx</a></div><div class="ttdeci">struct SwrContext * swr_ctx</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00260">ffplay.c:260</a></div></div>
<div class="ttc" id="avrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00090">avrndec.c:90</a></div></div>
<div class="ttc" id="structAVPacket_html_a622e758be29fd500aed0ffdc069550f7"><div class="ttname"><a href="structAVPacket.html#a622e758be29fd500aed0ffdc069550f7">AVPacket::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdoc">Duration of this packet in AVStream-&gt;time_base units, 0 if unknown. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01629">avcodec.h:1629</a></div></div>
<div class="ttc" id="structDecoder_html_a5a9c48c41c83ead0ef4a05819274337f"><div class="ttname"><a href="structDecoder.html#a5a9c48c41c83ead0ef4a05819274337f">Decoder::finished</a></div><div class="ttdeci">int finished</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00196">ffplay.c:196</a></div></div>
<div class="ttc" id="ffplay_8c_html_a2fd6b2edd7dd7de8c4590cf2c606f507"><div class="ttname"><a href="ffplay_8c.html#a2fd6b2edd7dd7de8c4590cf2c606f507">event_loop</a></div><div class="ttdeci">static void event_loop(VideoState *cur_stream)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03270">ffplay.c:3270</a></div></div>
<div class="ttc" id="ffplay_8c_html_ad24afec29aebfd9eb8a5e775765fdf52"><div class="ttname"><a href="ffplay_8c.html#ad24afec29aebfd9eb8a5e775765fdf52">cmp_audio_fmts</a></div><div class="ttdeci">static int cmp_audio_fmts(enum AVSampleFormat fmt1, int64_t channel_count1, enum AVSampleFormat fmt2, int64_t channel_count2)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00376">ffplay.c:376</a></div></div>
<div class="ttc" id="group__lavf__misc_html_ga7e45597834e9ef3098ddb74bc5e1550c"><div class="ttname"><a href="group__lavf__misc.html#ga7e45597834e9ef3098ddb74bc5e1550c">avformat_match_stream_specifier</a></div><div class="ttdeci">int avformat_match_stream_specifier(AVFormatContext *s, AVStream *st, const char *spec)</div><div class="ttdoc">Check if the stream st contained in s is matched by the stream specifier spec. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04828">utils.c:4828</a></div></div>
<div class="ttc" id="structAVFrame_html_a0452833e3ab6ddd7acbf82817a7818a4"><div class="ttname"><a href="structAVFrame.html#a0452833e3ab6ddd7acbf82817a7818a4">AVFrame::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdoc">Presentation timestamp in time_base units (time when frame should be shown to user). </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00274">frame.h:274</a></div></div>
<div class="ttc" id="ffplay_8c_html_a47c7aa0e20b4cd776ac95a244995e2e2"><div class="ttname"><a href="ffplay_8c.html#a47c7aa0e20b4cd776ac95a244995e2e2">packet_queue_destroy</a></div><div class="ttdeci">static void packet_queue_destroy(PacketQueue *q)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00486">ffplay.c:486</a></div></div>
<div class="ttc" id="avformat_8h_html_a69e2c8bc119c0245ff6092f9db4d12ae"><div class="ttname"><a href="avformat_8h.html#a69e2c8bc119c0245ff6092f9db4d12ae">AVFMT_FLAG_GENPTS</a></div><div class="ttdeci">#define AVFMT_FLAG_GENPTS</div><div class="ttdoc">Generate missing pts even if it requires parsing future frames. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01450">avformat.h:1450</a></div></div>
<div class="ttc" id="ffplay_8c_html_ab497f9a1ca93f2690e5100f9c8bbbc13"><div class="ttname"><a href="ffplay_8c.html#ab497f9a1ca93f2690e5100f9c8bbbc13">framedrop</a></div><div class="ttdeci">static int framedrop</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00338">ffplay.c:338</a></div></div>
<div class="ttc" id="structVideoState_html_a7b82c95e7d172c7558456d54b4961c80"><div class="ttname"><a href="structVideoState.html#a7b82c95e7d172c7558456d54b4961c80">VideoState::vis_texture</a></div><div class="ttdeci">SDL_Texture * vis_texture</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00275">ffplay.c:275</a></div></div>
<div class="ttc" id="ffplay_8c_html_a891f56ffb3c6fb8e9c61df4d4828f1fd"><div class="ttname"><a href="ffplay_8c.html#a891f56ffb3c6fb8e9c61df4d4828f1fd">alloc_picture</a></div><div class="ttdeci">static void alloc_picture(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01683">ffplay.c:1683</a></div></div>
<div class="ttc" id="cmdutils_8c_html_aeb11173c4516257ff8fa004ad388e41a"><div class="ttname"><a href="cmdutils_8c.html#aeb11173c4516257ff8fa004ad388e41a">init_opts</a></div><div class="ttdeci">void init_opts(void)</div><div class="ttdoc">Initialize the cmdutils option system, in particular allocate the *_opts contexts. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00084">cmdutils.c:84</a></div></div>
<div class="ttc" id="structAVFormatContext_html_acfefb6b6cf21e87a0dcbd1a547ba2348"><div class="ttname"><a href="structAVFormatContext.html#acfefb6b6cf21e87a0dcbd1a547ba2348">AVFormatContext::streams</a></div><div class="ttdeci">AVStream ** streams</div><div class="ttdoc">A list of all streams in the file. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01406">avformat.h:1406</a></div></div>
<div class="ttc" id="structFrame_html_a7719a045a84669a637b141924a5e7339"><div class="ttname"><a href="structFrame.html#a7719a045a84669a637b141924a5e7339">Frame::bmp</a></div><div class="ttdeci">SDL_Texture * bmp</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00161">ffplay.c:161</a></div></div>
<div class="ttc" id="structMyAVPacketList_html_ae43d49d15d72e107f90916978da45b68"><div class="ttname"><a href="structMyAVPacketList.html#ae43d49d15d72e107f90916978da45b68">MyAVPacketList::pkt</a></div><div class="ttdeci">AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00113">ffplay.c:113</a></div></div>
<div class="ttc" id="group__lavc__core_html_gac7b282f51540ca7a99416a3ba6ee0d16"><div class="ttname"><a href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a></div><div class="ttdeci">int avcodec_parameters_to_context(AVCodecContext *codec, const AVCodecParameters *par)</div><div class="ttdoc">Fill the codec context based on the values from the supplied codec parameters. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l04227">utils.c:4227</a></div></div>
<div class="ttc" id="structAudioParams_html_a92f7e92c22b046b2bf5fc37399be7ef2"><div class="ttname"><a href="structAudioParams.html#a92f7e92c22b046b2bf5fc37399be7ef2">AudioParams::bytes_per_sec</a></div><div class="ttdeci">int bytes_per_sec</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00140">ffplay.c:140</a></div></div>
<div class="ttc" id="group__lavfi_html_ga2bf8f0a6e2599faf4bf97b04a5a25149"><div class="ttname"><a href="group__lavfi.html#ga2bf8f0a6e2599faf4bf97b04a5a25149">avfilter_register_all</a></div><div class="ttdeci">void avfilter_register_all(void)</div><div class="ttdoc">Initialize the filter system. </div><div class="ttdef"><b>Definition:</b> <a href="allfilters_8c_source.html#l00040">allfilters.c:40</a></div></div>
<div class="ttc" id="demuxing__decoding_8c_html_ad7d33d579a8d4241a5e643e39287a209"><div class="ttname"><a href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a></div><div class="ttdeci">static AVFrame * frame</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00053">demuxing_decoding.c:53</a></div></div>
<div class="ttc" id="group__lavf__core_html_gac7a91abf2f59648d995894711f070f62"><div class="ttname"><a href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a></div><div class="ttdeci">AVFormatContext * avformat_alloc_context(void)</div><div class="ttdoc">Allocate an AVFormatContext. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2options_8c_source.html#l00132">options.c:132</a></div></div>
<div class="ttc" id="group__lavfi_html_gac0788a9ab6966dba9318b5d5c7524fea"><div class="ttname"><a href="group__lavfi.html#gac0788a9ab6966dba9318b5d5c7524fea">avfilter_graph_create_filter</a></div><div class="ttdeci">int avfilter_graph_create_filter(AVFilterContext **filt_ctx, const AVFilter *filt, const char *name, const char *args, void *opaque, AVFilterGraph *graph_ctx)</div><div class="ttdoc">Create and add a filter instance into an existing graph. </div><div class="ttdef"><b>Definition:</b> <a href="avfiltergraph_8c_source.html#l00153">avfiltergraph.c:153</a></div></div>
<div class="ttc" id="mxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00089">mxf.c:89</a></div></div>
<div class="ttc" id="group__lavc__core_html_gaf4af025ede1f451152486b8f2805f544"><div class="ttname"><a href="group__lavc__core.html#gaf4af025ede1f451152486b8f2805f544">av_codec_set_lowres</a></div><div class="ttdeci">void av_codec_set_lowres(AVCodecContext *avctx, int val)</div></div>
<div class="ttc" id="ffplay_8c_html_a736a4797bd337762e37addba7b2c529a"><div class="ttname"><a href="ffplay_8c.html#a736a4797bd337762e37addba7b2c529a">audio_callback_time</a></div><div class="ttdeci">static int64_t audio_callback_time</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00356">ffplay.c:356</a></div></div>
<div class="ttc" id="tests_2snowenc_8c_html_a64f9f90ece96c7bab4aee3deacf170e0"><div class="ttname"><a href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a></div><div class="ttdeci">#define height</div></div>
<div class="ttc" id="group__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdoc">Get a dictionary entry with matching key. </div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="ffplay_8c_html_a176a1c44dc8ca94bead4fab557cc4901"><div class="ttname"><a href="ffplay_8c.html#a176a1c44dc8ca94bead4fab557cc4901">get_valid_channel_layout</a></div><div class="ttdeci">static int64_t get_valid_channel_layout(int64_t channel_layout, int channels)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00387">ffplay.c:387</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a32379cc371463b235d54235d4af06a15"><div class="ttname"><a href="structAVFormatContext.html#a32379cc371463b235d54235d4af06a15">AVFormatContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdoc">Flags modifying the (de)muxer behaviour. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01449">avformat.h:1449</a></div></div>
<div class="ttc" id="ffplay_8c_html_a99497590e7ede5be02ff488ae763de73"><div class="ttname"><a href="ffplay_8c.html#a99497590e7ede5be02ff488ae763de73">packet_queue_get</a></div><div class="ttdeci">static int packet_queue_get(PacketQueue *q, AVPacket *pkt, int block, int *serial)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00513">ffplay.c:513</a></div></div>
<div class="ttc" id="ffplay_8c_html_af80faacdb2157777c247deee29765d79"><div class="ttname"><a href="ffplay_8c.html#af80faacdb2157777c247deee29765d79">sigterm_handler</a></div><div class="ttdeci">static void sigterm_handler(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01247">ffplay.c:1247</a></div></div>
<div class="ttc" id="structAVPacket_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="structAVPacket.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01611">avcodec.h:1611</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a8863e994be95bc81bbedff194aa2842f"><div class="ttname"><a href="cmdutils_8c.html#a8863e994be95bc81bbedff194aa2842f">parse_options</a></div><div class="ttdeci">void parse_options(void *optctx, int argc, char **argv, const OptionDef *options, void(*parse_arg_function)(void *, const char *))</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00386">cmdutils.c:386</a></div></div>
<div class="ttc" id="group__lavu__math__rational_html_ga935dbbf6bde8dfe5fa7ddb1da582eb07"><div class="ttname"><a href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a></div><div class="ttdeci">static double av_q2d(AVRational a)</div><div class="ttdoc">Convert an AVRational to a double. </div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00104">rational.h:104</a></div></div>
<div class="ttc" id="structAudioParams_html_aff4990b6dfbf5660ad0bb140199259cd"><div class="ttname"><a href="structAudioParams.html#aff4990b6dfbf5660ad0bb140199259cd">AudioParams::freq</a></div><div class="ttdeci">int freq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00135">ffplay.c:135</a></div></div>
<div class="ttc" id="log_8c_html_ac8bf36fe0577cba66bccda3a6f7e80a4"><div class="ttname"><a href="log_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a></div><div class="ttdeci">static int flags</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00057">log.c:57</a></div></div>
<div class="ttc" id="group__lavf__core_html_ga84542023693d61e8564c5d457979c932"><div class="ttname"><a href="group__lavf__core.html#ga84542023693d61e8564c5d457979c932">avformat_network_init</a></div><div class="ttdeci">int avformat_network_init(void)</div><div class="ttdoc">Do global initialization of network components. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04719">utils.c:4719</a></div></div>
<div class="ttc" id="group__lavu__picture_html_gacbf2ea8b2b89924c890ef8ec10a3d922"><div class="ttname"><a href="group__lavu__picture.html#gacbf2ea8b2b89924c890ef8ec10a3d922">av_get_picture_type_char</a></div><div class="ttdeci">char av_get_picture_type_char(enum AVPictureType pict_type)</div><div class="ttdoc">Return a single letter to describe the given picture type pict_type. </div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2utils_8c_source.html#l00091">utils.c:91</a></div></div>
<div class="ttc" id="structFrameQueue_html_a9e615084bb913f88960eb65bef65e1e2"><div class="ttname"><a href="structFrameQueue.html#a9e615084bb913f88960eb65bef65e1e2">FrameQueue::queue</a></div><div class="ttdeci">Frame queue[FRAME_QUEUE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00172">ffplay.c:172</a></div></div>
<div class="ttc" id="mxfdec_8c_html_aa51935705b1fec65152bab71c81f5b74a20e5ef7f93ae45b4c343ef8805f9d558"><div class="ttname"><a href="mxfdec_8c.html#aa51935705b1fec65152bab71c81f5b74a20e5ef7f93ae45b4c343ef8805f9d558">Frame</a></div><div class="ttdef"><b>Definition:</b> <a href="mxfdec_8c_source.html#l00271">mxfdec.c:271</a></div></div>
<div class="ttc" id="group__lavu__error_html_gab4faa0afdf35076914824200331defff"><div class="ttname"><a href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a></div><div class="ttdeci">#define AVERROR_EOF</div><div class="ttdoc">End of file. </div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00055">error.h:55</a></div></div>
<div class="ttc" id="regdef_8h_html_a8d40798874dab99986478ef00ff3e297"><div class="ttname"><a href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a></div><div class="ttdeci">#define sp</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00063">regdef.h:63</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdoc">Detailed information. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00192">log.h:192</a></div></div>
<div class="ttc" id="structClock_html"><div class="ttname"><a href="structClock.html">Clock</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00143">ffplay.c:143</a></div></div>
<div class="ttc" id="group__lavf__core_html_ga6030789ce395ef543306bbe933619749"><div class="ttname"><a href="group__lavf__core.html#ga6030789ce395ef543306bbe933619749">avformat_get_class</a></div><div class="ttdeci">const AVClass * avformat_get_class(void)</div><div class="ttdoc">Get the AVClass for AVFormatContext. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2options_8c_source.html#l00156">options.c:156</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a812390811ecf2673409d4d2191b3696a"><div class="ttname"><a href="cmdutils_8c.html#a812390811ecf2673409d4d2191b3696a">parse_loglevel</a></div><div class="ttdeci">void parse_loglevel(int argc, char **argv, const OptionDef *options)</div><div class="ttdoc">Find the &amp;#39;-loglevel&amp;#39; option in the command line args and apply it. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00511">cmdutils.c:511</a></div></div>
<div class="ttc" id="swscale_8h_html"><div class="ttname"><a href="swscale_8h.html">swscale.h</a></div><div class="ttdoc">external API header </div></div>
<div class="ttc" id="ffplay_8c_html_acf97e1f169c9faedcaf115ec6e17406c"><div class="ttname"><a href="ffplay_8c.html#acf97e1f169c9faedcaf115ec6e17406c">AV_NOSYNC_THRESHOLD</a></div><div class="ttdeci">#define AV_NOSYNC_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00086">ffplay.c:86</a></div></div>
<div class="ttc" id="group__lavu__frame_html_gacb9d9082c10e625e51a68caceabd4458"><div class="ttname"><a href="group__lavu__frame.html#gacb9d9082c10e625e51a68caceabd4458">av_frame_get_best_effort_timestamp</a></div><div class="ttdeci">int64_t av_frame_get_best_effort_timestamp(const AVFrame *frame)</div><div class="ttdoc">Accessors for some AVFrame fields. </div></div>
<div class="ttc" id="structAVSubtitleRect_html_afb3272792cfe659e9e788074d3328d3d"><div class="ttname"><a href="structAVSubtitleRect.html#afb3272792cfe659e9e788074d3328d3d">AVSubtitleRect::h</a></div><div class="ttdeci">int h</div><div class="ttdoc">height of pict, undefined when pict is not set </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03944">avcodec.h:3944</a></div></div>
<div class="ttc" id="avio_8h_html_a63157a668f29b8f5a89f00bc24838b8e"><div class="ttname"><a href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a></div><div class="ttdeci">static av_always_inline int64_t avio_tell(AVIOContext *s)</div><div class="ttdoc">ftell() equivalent for AVIOContext. </div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00511">avio.h:511</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a13fba56a5674556e879f5733f9b1dd55"><div class="ttname"><a href="cmdutils_8c.html#a13fba56a5674556e879f5733f9b1dd55">show_help_options</a></div><div class="ttdeci">void show_help_options(const OptionDef *options, const char *msg, int req_flags, int rej_flags, int alt_flags)</div><div class="ttdoc">Print help for all options matching specified flags. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00176">cmdutils.c:176</a></div></div>
<div class="ttc" id="ffplay_8c_html_a1f342e4e3615abc9314684ce6b4819c0"><div class="ttname"><a href="ffplay_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a></div><div class="ttdeci">static int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00329">ffplay.c:329</a></div></div>
<div class="ttc" id="structFrame_html_a0f65498689deb7dd84b6c8194532bfe6"><div class="ttname"><a href="structFrame.html#a0f65498689deb7dd84b6c8194532bfe6">Frame::sar</a></div><div class="ttdeci">AVRational sar</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00166">ffplay.c:166</a></div></div>
<div class="ttc" id="structDecoder_html_a809b297d5774b2a7c2813f1c295b41b6"><div class="ttname"><a href="structDecoder.html#a809b297d5774b2a7c2813f1c295b41b6">Decoder::pkt_temp</a></div><div class="ttdeci">AVPacket pkt_temp</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00192">ffplay.c:192</a></div></div>
<div class="ttc" id="structAVProgram_html_a7967d41af4812ed61a28762e988c7a02"><div class="ttname"><a href="structAVProgram.html#a7967d41af4812ed61a28762e988c7a02">AVProgram::stream_index</a></div><div class="ttdeci">unsigned int * stream_index</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01269">avformat.h:1269</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="structAVIOInterruptCB_html_ac5de25559a8b29f3e55a3e956115e54a"><div class="ttname"><a href="structAVIOInterruptCB.html#ac5de25559a8b29f3e55a3e956115e54a">AVIOInterruptCB::callback</a></div><div class="ttdeci">int(* callback)(void *)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00051">avio.h:51</a></div></div>
<div class="ttc" id="opt_8h_html_aba0d5e41287b6fbeae5dd59f643695cc"><div class="ttname"><a href="opt_8h.html#aba0d5e41287b6fbeae5dd59f643695cc">AV_OPT_FLAG_ENCODING_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_ENCODING_PARAM</div><div class="ttdoc">a generic parameter which can be set by the user for muxing or encoding </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00276">opt.h:276</a></div></div>
<div class="ttc" id="structVideoState_html_adffc71cc3402114d35dd7f9468767bb1"><div class="ttname"><a href="structVideoState.html#adffc71cc3402114d35dd7f9468767bb1">VideoState::videoq</a></div><div class="ttdeci">PacketQueue videoq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00287">ffplay.c:287</a></div></div>
<div class="ttc" id="structAVSubtitle_html"><div class="ttname"><a href="structAVSubtitle.html">AVSubtitle</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03975">avcodec.h:3975</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a6246f47f8e3ef9a3e99e5d1457c7d197"><div class="ttname"><a href="cmdutils_8c.html#a6246f47f8e3ef9a3e99e5d1457c7d197">setup_find_stream_info_opts</a></div><div class="ttdeci">AVDictionary ** setup_find_stream_info_opts(AVFormatContext *s, AVDictionary *codec_opts)</div><div class="ttdoc">Setup AVCodecContext options for avformat_find_stream_info(). </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l02159">cmdutils.c:2159</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a943d0199a3f44df589324a8fe9365c48"><div class="ttname"><a href="cmdutils_8c.html#a943d0199a3f44df589324a8fe9365c48">format_opts</a></div><div class="ttdeci">AVDictionary * format_opts</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00072">cmdutils.c:72</a></div></div>
<div class="ttc" id="ffplay_8c_html_ad469aefd27d479f71587e340b1fdbdeb"><div class="ttname"><a href="ffplay_8c.html#ad469aefd27d479f71587e340b1fdbdeb">realloc_texture</a></div><div class="ttdeci">static int realloc_texture(SDL_Texture **texture, Uint32 new_format, int new_width, int new_height, SDL_BlendMode blendmode, int init_texture)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00809">ffplay.c:809</a></div></div>
<div class="ttc" id="group__lavu__misc_html_ga87458dccf9ab1444c363df5fa8a3f28f"><div class="ttname"><a href="group__lavu__misc.html#ga87458dccf9ab1444c363df5fa8a3f28f">av_x_if_null</a></div><div class="ttdeci">static void * av_x_if_null(const void *p, const void *x)</div><div class="ttdoc">Return x default pointer in case p is NULL. </div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00308">avutil.h:308</a></div></div>
<div class="ttc" id="ffplay_8c_html_a599fa0dd60e05d2e83ad41c8ab745ff2"><div class="ttname"><a href="ffplay_8c.html#a599fa0dd60e05d2e83ad41c8ab745ff2">SAMPLE_ARRAY_SIZE</a></div><div class="ttdeci">#define SAMPLE_ARRAY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00104">ffplay.c:104</a></div></div>
<div class="ttc" id="group__lavu__math_html_gaf02994a8bbeaa91d4757df179cbe567f"><div class="ttname"><a href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a></div><div class="ttdeci">int64_t av_rescale_q(int64_t a, AVRational bq, AVRational cq)</div><div class="ttdoc">Rescale a 64-bit integer by 2 rational numbers. </div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00142">mathematics.c:142</a></div></div>
<div class="ttc" id="ffplay_8c_html_a52db648ff1c8059ad6ffb66a6cf0fdda"><div class="ttname"><a href="ffplay_8c.html#a52db648ff1c8059ad6ffb66a6cf0fdda">toggle_mute</a></div><div class="ttdeci">static void toggle_mute(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01456">ffplay.c:1456</a></div></div>
<div class="ttc" id="group__lavf__misc_html_gae2645941f2dc779c307eb6314fd39f10"><div class="ttname"><a href="group__lavf__misc.html#gae2645941f2dc779c307eb6314fd39f10">av_dump_format</a></div><div class="ttdeci">void av_dump_format(AVFormatContext *ic, int index, const char *url, int is_output)</div><div class="ttdoc">Print detailed information about the input or output format, such as duration, bitrate, streams, container, programs, metadata, side data, codec and time base. </div><div class="ttdef"><b>Definition:</b> <a href="dump_8c_source.html#l00541">dump.c:541</a></div></div>
<div class="ttc" id="avdevice_8h_html"><div class="ttname"><a href="avdevice_8h.html">avdevice.h</a></div><div class="ttdoc">Main libavdevice API header. </div></div>
<div class="ttc" id="structAVFilterLink_html"><div class="ttname"><a href="structAVFilterLink.html">AVFilterLink</a></div><div class="ttdoc">A link between two filters. </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00387">avfilter.h:387</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_gaa6fa468c922ff5c60a6021dcac09aff9"><div class="ttname"><a href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a></div><div class="ttdeci">int av_find_best_stream(AVFormatContext *ic, enum AVMediaType type, int wanted_stream_nb, int related_stream, AVCodec **decoder_ret, int flags)</div><div class="ttdoc">Find the &quot;best&quot; stream in the file. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03976">utils.c:3976</a></div></div>
<div class="ttc" id="swresample_8h_html"><div class="ttname"><a href="swresample_8h.html">swresample.h</a></div><div class="ttdoc">libswresample public header </div></div>
<div class="ttc" id="structAVCodec_html_a01a53d07936f4c7ee280444793b6967b"><div class="ttname"><a href="structAVCodec.html#a01a53d07936f4c7ee280444793b6967b">AVCodec::id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03633">avcodec.h:3633</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_ga9edb9ac206ed05dc5baa9d168f31de48"><div class="ttname"><a href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a></div><div class="ttdeci">AVProgram * av_find_program_from_stream(AVFormatContext *ic, AVProgram *last, int s)</div><div class="ttdoc">Find the programs which belong to a given stream. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03959">utils.c:3959</a></div></div>
<div class="ttc" id="structAVDictionary_html"><div class="ttname"><a href="structAVDictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="structVideoState_html_a983a5e219b6f873afb0e7137cc1936e8"><div class="ttname"><a href="structVideoState.html#a983a5e219b6f873afb0e7137cc1936e8">VideoState::audio_diff_avg_count</a></div><div class="ttdeci">int audio_diff_avg_count</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00243">ffplay.c:243</a></div></div>
<div class="ttc" id="structVideoState_html_a8d2a6affd3cbc2a20249c8acf883d6f7"><div class="ttname"><a href="structVideoState.html#a8d2a6affd3cbc2a20249c8acf883d6f7">VideoState::ytop</a></div><div class="ttdeci">int ytop</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00294">ffplay.c:294</a></div></div>
<div class="ttc" id="structAVFrame_html_a1e71ce60cedd5f3b6811714a9f7f9e0a"><div class="ttname"><a href="structAVFrame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">AVFrame::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">width and height of the video frame </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00242">frame.h:242</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdoc">Something went wrong and cannot losslessly be recovered. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00176">log.h:176</a></div></div>
<div class="ttc" id="group__lavu__dict_html_gad9cbc53cec515b72ae7caa2e194c6bc0"><div class="ttname"><a href="group__lavu__dict.html#gad9cbc53cec515b72ae7caa2e194c6bc0">AV_DICT_MATCH_CASE</a></div><div class="ttdeci">#define AV_DICT_MATCH_CASE</div><div class="ttdoc">Only get an entry with exact-case key match. </div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00069">dict.h:69</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a3019a56080ed2e3297ff25bc2ff88adf"><div class="ttname"><a href="structAVFormatContext.html#a3019a56080ed2e3297ff25bc2ff88adf">AVFormatContext::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdoc">Metadata that applies to the whole file. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01554">avformat.h:1554</a></div></div>
<div class="ttc" id="structVideoState_html_aeaf6f7038c99dfee380266dbfeab187c"><div class="ttname"><a href="structVideoState.html#aeaf6f7038c99dfee380266dbfeab187c">VideoState::seek_req</a></div><div class="ttdeci">int seek_req</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00214">ffplay.c:214</a></div></div>
<div class="ttc" id="group__lavc__misc_html_gga7a013315e444069ec9630ddf3edce3f8a486a4a2d7a97554c2e073536c038465d"><div class="ttname"><a href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8a486a4a2d7a97554c2e073536c038465d">AV_LOCK_CREATE</a></div><div class="ttdoc">Create a mutex. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l06166">avcodec.h:6166</a></div></div>
<div class="ttc" id="ffplay_8c_html_ad414a35ed512b3ce9c3721b119f3c69d"><div class="ttname"><a href="ffplay_8c.html#ad414a35ed512b3ce9c3721b119f3c69d">FRAME_QUEUE_SIZE</a></div><div class="ttdeci">#define FRAME_QUEUE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00132">ffplay.c:132</a></div></div>
<div class="ttc" id="ffplay_8c_html_adb446761df3da75676353604508f4f3d"><div class="ttname"><a href="ffplay_8c.html#adb446761df3da75676353604508f4f3d">video_refresh</a></div><div class="ttdeci">static void video_refresh(void *opaque, double *remaining_time)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01523">ffplay.c:1523</a></div></div>
<div class="ttc" id="structAVFilterLink_html_a9711515003bff06b74d02adb751e8c78"><div class="ttname"><a href="structAVFilterLink.html#a9711515003bff06b74d02adb751e8c78">AVFilterLink::frame_rate</a></div><div class="ttdeci">AVRational frame_rate</div><div class="ttdoc">Frame rate of the stream on the link, or 1/0 if unknown or variable; if left to 0/0, will be automatically copied from the first input of the source filter if it exists. </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00490">avfilter.h:490</a></div></div>
<div class="ttc" id="structVideoState_html_a5fa754db63425dfc7a9762a162637564"><div class="ttname"><a href="structVideoState.html#a5fa754db63425dfc7a9762a162637564">VideoState::read_pause_return</a></div><div class="ttdeci">int read_pause_return</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00218">ffplay.c:218</a></div></div>
<div class="ttc" id="structAVFilterLink_html_a677fc96f61176fe6505e3a06452a064e"><div class="ttname"><a href="structAVFilterLink.html#a677fc96f61176fe6505e3a06452a064e">AVFilterLink::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00402">avfilter.h:402</a></div></div>
<div class="ttc" id="avformat_8h_html_a4d232408e799fa2b2f2705a3e8e0b4b8"><div class="ttname"><a href="avformat_8h.html#a4d232408e799fa2b2f2705a3e8e0b4b8">AVFMT_TS_DISCONT</a></div><div class="ttdeci">#define AVFMT_TS_DISCONT</div><div class="ttdoc">Format allows timestamp discontinuities. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00488">avformat.h:488</a></div></div>
<div class="ttc" id="opt_8h_html_a1fa5f9ced9142668142f316b0aad2cfc"><div class="ttname"><a href="opt_8h.html#a1fa5f9ced9142668142f316b0aad2cfc">AV_OPT_FLAG_FILTERING_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_FILTERING_PARAM</div><div class="ttdoc">a generic parameter which can be set by the user for filtering </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00293">opt.h:293</a></div></div>
<div class="ttc" id="structAVSubtitleRect_html_ab9e5fdd0c592636abf46530b110311bb"><div class="ttname"><a href="structAVSubtitleRect.html#ab9e5fdd0c592636abf46530b110311bb">AVSubtitleRect::y</a></div><div class="ttdeci">int y</div><div class="ttdoc">top left corner of pict, undefined when pict is not set </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03942">avcodec.h:3942</a></div></div>
<div class="ttc" id="group__lavu__error_html_gae4bb6f165973d09584e0ec0f335f69ca"><div class="ttname"><a href="group__lavu__error.html#gae4bb6f165973d09584e0ec0f335f69ca">AVERROR</a></div><div class="ttdeci">#define AVERROR(e)</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00043">error.h:43</a></div></div>
<div class="ttc" id="demuxing__decoding_8c_html_ab269038fe8cd6f8fa4ccec9eaf939345"><div class="ttname"><a href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a></div><div class="ttdeci">static AVStream * audio_stream</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00041">demuxing_decoding.c:41</a></div></div>
<div class="ttc" id="ffplay_8c_html_a53462a52d43e2996b913afa7230ee965"><div class="ttname"><a href="ffplay_8c.html#a53462a52d43e2996b913afa7230ee965">frame_queue_next</a></div><div class="ttdeci">static void frame_queue_next(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00750">ffplay.c:750</a></div></div>
<div class="ttc" id="group__lavfi_html_ga8c75ac0df01ef6fbab65b8a92d2af944"><div class="ttname"><a href="group__lavfi.html#ga8c75ac0df01ef6fbab65b8a92d2af944">avfilter_link_get_channels</a></div><div class="ttdeci">int avfilter_link_get_channels(AVFilterLink *link)</div><div class="ttdoc">Get the number of channels of a link. </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8c_source.html#l00187">avfilter.c:187</a></div></div>
<div class="ttc" id="group__lavu__frame_html_ga979d73f3228814aee56aeca0636e37cc"><div class="ttname"><a href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a></div><div class="ttdeci">void av_frame_free(AVFrame **frame)</div><div class="ttdoc">Free the frame and any dynamically allocated objects in it, e.g. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00158">frame.c:158</a></div></div>
<div class="ttc" id="structSwrContext_html"><div class="ttname"><a href="structSwrContext.html">SwrContext</a></div><div class="ttdoc">The libswresample context. </div><div class="ttdef"><b>Definition:</b> <a href="swresample__internal_8h_source.html#l00095">swresample_internal.h:95</a></div></div>
<div class="ttc" id="ffplay_8c_html_a3bf728db793aeeecafda8f970ccb36e6"><div class="ttname"><a href="ffplay_8c.html#a3bf728db793aeeecafda8f970ccb36e6">MIN_FRAMES</a></div><div class="ttdeci">#define MIN_FRAMES</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00067">ffplay.c:67</a></div></div>
<div class="ttc" id="ffplay_8c_html_ab2336d565e3f800a9bb0d05ce8c3ee5a"><div class="ttname"><a href="ffplay_8c.html#ab2336d565e3f800a9bb0d05ce8c3ee5a">decoder_start</a></div><div class="ttdeci">static int decoder_start(Decoder *d, int(*fn)(void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02109">ffplay.c:2109</a></div></div>
<div class="ttc" id="structVideoState_html_a4f04bf49a764bdf2ee94f8073d10e179"><div class="ttname"><a href="structVideoState.html#a4f04bf49a764bdf2ee94f8073d10e179">VideoState::rdft</a></div><div class="ttdeci">RDFTContext * rdft</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00270">ffplay.c:270</a></div></div>
<div class="ttc" id="ffplay_8c_html_a67ebb3ff0a689ef67dabf940071bfb30"><div class="ttname"><a href="ffplay_8c.html#a67ebb3ff0a689ef67dabf940071bfb30">frame_queue_nb_remaining</a></div><div class="ttdeci">static int frame_queue_nb_remaining(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00766">ffplay.c:766</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a41c64e3682529dd5caca6f7d5d3c19c7"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a41c64e3682529dd5caca6f7d5d3c19c7">AV_PIX_FMT_BGRA</a></div><div class="ttdoc">packed BGRA 8:8:8:8, 32bpp, BGRABGRA... </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00096">pixfmt.h:96</a></div></div>
<div class="ttc" id="ffplay_8c_html_a2ec75dd089cbf194a6ea2a6c22e3ba4b"><div class="ttname"><a href="ffplay_8c.html#a2ec75dd089cbf194a6ea2a6c22e3ba4b">EXTERNAL_CLOCK_MAX_FRAMES</a></div><div class="ttdeci">#define EXTERNAL_CLOCK_MAX_FRAMES</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00069">ffplay.c:69</a></div></div>
<div class="ttc" id="ffplay_8c_html_afd99073713bccafe07d746a1834533b1"><div class="ttname"><a href="ffplay_8c.html#afd99073713bccafe07d746a1834533b1">packet_queue_put_nullpacket</a></div><div class="ttdeci">static int packet_queue_put_nullpacket(PacketQueue *q, int stream_index)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00440">ffplay.c:440</a></div></div>
<div class="ttc" id="ffplay_8c_html_a058bdabea08c743fd59a5ec26fa88bb7"><div class="ttname"><a href="ffplay_8c.html#a058bdabea08c743fd59a5ec26fa88bb7">autorotate</a></div><div class="ttdeci">static int autorotate</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00352">ffplay.c:352</a></div></div>
<div class="ttc" id="structAVCodec_html_af51f7ff3dac8b730f46b9713e49a2518"><div class="ttname"><a href="structAVCodec.html#af51f7ff3dac8b730f46b9713e49a2518">AVCodec::capabilities</a></div><div class="ttdeci">int capabilities</div><div class="ttdoc">Codec capabilities. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03638">avcodec.h:3638</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdoc">Stuff which is only useful for libav* developers. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00197">log.h:197</a></div></div>
<div class="ttc" id="ffplay_8c_html_ac1ab6b3b175d6614ab3151157ec92340"><div class="ttname"><a href="ffplay_8c.html#ac1ab6b3b175d6614ab3151157ec92340">CURSOR_HIDE_DELAY</a></div><div class="ttdeci">#define CURSOR_HIDE_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00106">ffplay.c:106</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_ga7494bb63a59e79e9fe88eb1682d4d7b3"><div class="ttname"><a href="group__lavf__decoding.html#ga7494bb63a59e79e9fe88eb1682d4d7b3">av_read_play</a></div><div class="ttdeci">int av_read_play(AVFormatContext *s)</div><div class="ttdoc">Start playing a network-based stream (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04040">utils.c:4040</a></div></div>
<div class="ttc" id="ffplay_8c_html_a047927fe5f832ecfdfaead22089fa590"><div class="ttname"><a href="ffplay_8c.html#a047927fe5f832ecfdfaead22089fa590">compute_target_delay</a></div><div class="ttdeci">static double compute_target_delay(double delay, VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01474">ffplay.c:1474</a></div></div>
<div class="ttc" id="group__lavu__dict_html_ga1bafd682b1fbb90e48a4cc3814b820f7"><div class="ttname"><a href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a></div><div class="ttdeci">void av_dict_free(AVDictionary **pm)</div><div class="ttdoc">Free all the memory allocated for an AVDictionary struct and all keys and values. ...</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00203">dict.c:203</a></div></div>
<div class="ttc" id="structAVCodecParameters_html_a58369c3a8a986935b572df5aa6361ce2"><div class="ttname"><a href="structAVCodecParameters.html#a58369c3a8a986935b572df5aa6361ce2">AVCodecParameters::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdoc">General type of the encoded data. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03995">avcodec.h:3995</a></div></div>
<div class="ttc" id="libavcodec_2jacosubdec_8c_html_ac3a73711fd7f8a50db1c4b62e41cf852"><div class="ttname"><a href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a></div><div class="ttdeci">const char * arg</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2jacosubdec_8c_source.html#l00066">jacosubdec.c:66</a></div></div>
<div class="ttc" id="structAVCodecContext_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="structAVCodecContext.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdoc">AV_CODEC_FLAG_*. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01781">avcodec.h:1781</a></div></div>
<div class="ttc" id="group__opt__set__funcs_html_ga3adf7185c21cc080890a5ec02c2e56b2"><div class="ttname"><a href="group__opt__set__funcs.html#ga3adf7185c21cc080890a5ec02c2e56b2">av_opt_set_int</a></div><div class="ttdeci">int av_opt_set_int(void *obj, const char *name, int64_t val, int search_flags)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l00560">opt.c:560</a></div></div>
<div class="ttc" id="ffplay_8c_html_abfd48588ef15bcb8aaaf3e7255272231"><div class="ttname"><a href="ffplay_8c.html#abfd48588ef15bcb8aaaf3e7255272231">packet_queue_put_private</a></div><div class="ttdeci">static int packet_queue_put_private(PacketQueue *q, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00397">ffplay.c:397</a></div></div>
<div class="ttc" id="structAVFormatContext_html_ac17d5fc2dcdb00806cc83b02d9f940f3"><div class="ttname"><a href="structAVFormatContext.html#ac17d5fc2dcdb00806cc83b02d9f940f3">AVFormatContext::chapters</a></div><div class="ttdeci">AVChapter ** chapters</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01544">avformat.h:1544</a></div></div>
<div class="ttc" id="group__lavu__log_html_ga6cdf5cd331b17e80e8308124f05a6db8"><div class="ttname"><a href="group__lavu__log.html#ga6cdf5cd331b17e80e8308124f05a6db8">AV_LOG_SKIP_REPEATED</a></div><div class="ttdeci">#define AV_LOG_SKIP_REPEATED</div><div class="ttdoc">Skip repeated messages, this requires the user app to use av_log() instead of (f)printf as the 2 woul...</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00359">log.h:359</a></div></div>
<div class="ttc" id="structAVFilterLink_html_a5d947aa9541b02e25db472656d69ea53"><div class="ttname"><a href="structAVFilterLink.html#a5d947aa9541b02e25db472656d69ea53">AVFilterLink::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdoc">Define the time base used by the PTS of the frames/samples which will pass through this link...</div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00413">avfilter.h:413</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="avassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div><div class="ttdoc">simple assert() macros that are a bit more flexible than ISO C assert(). </div></div>
<div class="ttc" id="ffplay_8c_html_aa360646fd7dbb0acf1f2ab8de57ff23f"><div class="ttname"><a href="ffplay_8c.html#aa360646fd7dbb0acf1f2ab8de57ff23f">stream_close</a></div><div class="ttdeci">static void stream_close(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01190">ffplay.c:1190</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_ga6a42cc41278e2f5a5b658d2202d1650d"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga6a42cc41278e2f5a5b658d2202d1650d">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdoc">Allocate a memory block with alignment suitable for all memory accesses (including vectors if availab...</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00252">mem.c:252</a></div></div>
<div class="ttc" id="structVideoState_html_aaf143df5f6dcaf7fd38ab3e05048f93e"><div class="ttname"><a href="structVideoState.html#aaf143df5f6dcaf7fd38ab3e05048f93e">VideoState::video_stream</a></div><div class="ttdeci">int video_stream</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00285">ffplay.c:285</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_ga31b9d149b2de9821a65f4f5612970838"><div class="ttname"><a href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a></div><div class="ttdeci">const char * av_get_sample_fmt_name(enum AVSampleFormat sample_fmt)</div><div class="ttdoc">Return the name of sample_fmt, or NULL if sample_fmt is not recognized. </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00049">samplefmt.c:49</a></div></div>
<div class="ttc" id="structClock_html_ac1947022081dd2030423543f7fe81240"><div class="ttname"><a href="structClock.html#ac1947022081dd2030423543f7fe81240">Clock::queue_serial</a></div><div class="ttdeci">int * queue_serial</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00150">ffplay.c:150</a></div></div>
<div class="ttc" id="ffplay_8c_html_a895b9cf6548d0a1ede4c74aa9f0db214"><div class="ttname"><a href="ffplay_8c.html#a895b9cf6548d0a1ede4c74aa9f0db214">init_clock</a></div><div class="ttdeci">static void init_clock(Clock *c, int *queue_serial)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01357">ffplay.c:1357</a></div></div>
<div class="ttc" id="structVideoState_html_a163cce0905379b610b1574d62f0172c8"><div class="ttname"><a href="structVideoState.html#a163cce0905379b610b1574d62f0172c8">VideoState::xpos</a></div><div class="ttdeci">int xpos</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00273">ffplay.c:273</a></div></div>
<div class="ttc" id="structAudioParams_html_a1ae7a853f04e5c48ffe2c72c025352c9"><div class="ttname"><a href="structAudioParams.html#a1ae7a853f04e5c48ffe2c72c025352c9">AudioParams::channels</a></div><div class="ttdeci">int channels</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00136">ffplay.c:136</a></div></div>
<div class="ttc" id="ffplay_8c_html_a66b572e55c43891529a9a96f1af5099c"><div class="ttname"><a href="ffplay_8c.html#a66b572e55c43891529a9a96f1af5099c">show_mode</a></div><div class="ttdeci">static enum ShowMode show_mode</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00340">ffplay.c:340</a></div></div>
<div class="ttc" id="structAVProgram_html"><div class="ttname"><a href="structAVProgram.html">AVProgram</a></div><div class="ttdoc">New fields can be added to the end with minor version bumps. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01265">avformat.h:1265</a></div></div>
<div class="ttc" id="common_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="ffplay_8c_html_ac502ea61a2fcb3652a004c39e747574a"><div class="ttname"><a href="ffplay_8c.html#ac502ea61a2fcb3652a004c39e747574a">packet_queue_start</a></div><div class="ttdeci">static void packet_queue_start(PacketQueue *q)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00504">ffplay.c:504</a></div></div>
<div class="ttc" id="ffplay_8c_html_affee77914991e4f6048c708556a7edbe"><div class="ttname"><a href="ffplay_8c.html#affee77914991e4f6048c708556a7edbe">options</a></div><div class="ttdeci">static const OptionDef options[]</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03580">ffplay.c:3580</a></div></div>
<div class="ttc" id="group__lavfi__buffersink_html_ga71ae9c529c8da51681e12faa37d1a395"><div class="ttname"><a href="group__lavfi__buffersink.html#ga71ae9c529c8da51681e12faa37d1a395">av_buffersink_get_frame_flags</a></div><div class="ttdeci">int attribute_align_arg av_buffersink_get_frame_flags(AVFilterContext *ctx, AVFrame *frame, int flags)</div><div class="ttdoc">Get a frame with filtered data from sink and put it in frame. </div><div class="ttdef"><b>Definition:</b> <a href="buffersink_8c_source.html#l00131">buffersink.c:131</a></div></div>
<div class="ttc" id="group__lavc__fft_html_gaa306dc16df543b25d9910debc3f76b96"><div class="ttname"><a href="group__lavc__fft.html#gaa306dc16df543b25d9910debc3f76b96">FFTSample</a></div><div class="ttdeci">float FFTSample</div><div class="ttdef"><b>Definition:</b> <a href="avfft_8h_source.html#l00035">avfft.h:35</a></div></div>
<div class="ttc" id="ffplay_8c_html_a7c1d654b7b6114d7a0abc8d351dd1bcd"><div class="ttname"><a href="ffplay_8c.html#a7c1d654b7b6114d7a0abc8d351dd1bcd">dummy</a></div><div class="ttdeci">static int dummy</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03578">ffplay.c:3578</a></div></div>
<div class="ttc" id="checkasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00084">checkasm.h:84</a></div></div>
<div class="ttc" id="eval_8c_html_afc05d41e1a0fc024ac21072d11d4f263"><div class="ttname"><a href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a></div><div class="ttdeci">int8_t exp</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00064">eval.c:64</a></div></div>
<div class="ttc" id="structVideoState_html_ae4560b64909095806db2b6d0f5f9c28a"><div class="ttname"><a href="structVideoState.html#ae4560b64909095806db2b6d0f5f9c28a">VideoState::audio_clock</a></div><div class="ttdeci">double audio_clock</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00238">ffplay.c:238</a></div></div>
<div class="ttc" id="structVideoState_html_ab207f5959fc8d517e5591ce8ded0fe6c"><div class="ttname"><a href="structVideoState.html#ab207f5959fc8d517e5591ce8ded0fe6c">VideoState::force_refresh</a></div><div class="ttdeci">int force_refresh</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00210">ffplay.c:210</a></div></div>
<div class="ttc" id="structAVCodecContext_html_aeb08c575a79eb84fc4155dda88f46c06"><div class="ttname"><a href="structAVCodecContext.html#aeb08c575a79eb84fc4155dda88f46c06">AVCodecContext::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdoc">Audio channel layout. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02499">avcodec.h:2499</a></div></div>
<div class="ttc" id="group__lavu__math_html_ga151744358fff630942b926e67e67c415"><div class="ttname"><a href="group__lavu__math.html#ga151744358fff630942b926e67e67c415">av_compare_ts</a></div><div class="ttdeci">int av_compare_ts(int64_t ts_a, AVRational tb_a, int64_t ts_b, AVRational tb_b)</div><div class="ttdoc">Compare two timestamps each in its own time base. </div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00147">mathematics.c:147</a></div></div>
<div class="ttc" id="cmdutils_8c_html_afade0b4211259f5d9b11c0ab469adf7b"><div class="ttname"><a href="cmdutils_8c.html#afade0b4211259f5d9b11c0ab469adf7b">sws_dict</a></div><div class="ttdeci">AVDictionary * sws_dict</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00070">cmdutils.c:70</a></div></div>
<div class="ttc" id="ffplay_8c_html_a8e1a69ce5aaf9ccfc7a03b7a48e5a3a5"><div class="ttname"><a href="ffplay_8c.html#a8e1a69ce5aaf9ccfc7a03b7a48e5a3a5">opt_sync</a></div><div class="ttdeci">static int opt_sync(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03507">ffplay.c:3507</a></div></div>
<div class="ttc" id="group__libsws_html_gadffa09f208a3eba7fa3a6b1f74ab77f7"><div class="ttname"><a href="group__libsws.html#gadffa09f208a3eba7fa3a6b1f74ab77f7">sws_getCachedContext</a></div><div class="ttdeci">struct SwsContext * sws_getCachedContext(struct SwsContext *context, int srcW, int srcH, enum AVPixelFormat srcFormat, int dstW, int dstH, enum AVPixelFormat dstFormat, int flags, SwsFilter *srcFilter, SwsFilter *dstFilter, const double *param)</div><div class="ttdoc">Check if context can be reused, otherwise reallocate a new one. </div><div class="ttdef"><b>Definition:</b> <a href="libswscale_2utils_8c_source.html#l02338">utils.c:2338</a></div></div>
<div class="ttc" id="ffplay_8c_html_ad09cb57414863a8f8c0442320a20574f"><div class="ttname"><a href="ffplay_8c.html#ad09cb57414863a8f8c0442320a20574f">update_sample_display</a></div><div class="ttdeci">static void update_sample_display(VideoState *is, short *samples, int samples_size)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02264">ffplay.c:2264</a></div></div>
<div class="ttc" id="group__lavc__fft_html_ga745b8757713a5a0f0347eddcc6ccc9a4"><div class="ttname"><a href="group__lavc__fft.html#ga745b8757713a5a0f0347eddcc6ccc9a4">av_rdft_calc</a></div><div class="ttdeci">void av_rdft_calc(RDFTContext *s, FFTSample *data)</div></div>
<div class="ttc" id="structAVSubtitle_html_a354cdfa51cda54c914a569ee3f7493c0"><div class="ttname"><a href="structAVSubtitle.html#a354cdfa51cda54c914a569ee3f7493c0">AVSubtitle::end_display_time</a></div><div class="ttdeci">uint32_t end_display_time</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03978">avcodec.h:3978</a></div></div>
<div class="ttc" id="ffplay_8c_html_aabb3b0520d148b851020a50ad39694fb"><div class="ttname"><a href="ffplay_8c.html#aabb3b0520d148b851020a50ad39694fb">decoder_destroy</a></div><div class="ttdeci">static void decoder_destroy(Decoder *d)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00641">ffplay.c:641</a></div></div>
<div class="ttc" id="structAVSubtitle_html_af7cc390bba4f9d6c32e391ca59d117a2"><div class="ttname"><a href="structAVSubtitle.html#af7cc390bba4f9d6c32e391ca59d117a2">AVSubtitle::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdoc">Same as packet pts, in AV_TIME_BASE. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03981">avcodec.h:3981</a></div></div>
<div class="ttc" id="ffplay_8c_html_a407291b5d404f52ceebc2dbdc2b35051"><div class="ttname"><a href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">genpts</a></div><div class="ttdeci">static int genpts</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00331">ffplay.c:331</a></div></div>
<div class="ttc" id="ffplay_8c_html_a452a24ba79d25d9269e44af0632788bc"><div class="ttname"><a href="ffplay_8c.html#a452a24ba79d25d9269e44af0632788bc">flush_pkt</a></div><div class="ttdeci">static AVPacket flush_pkt</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00358">ffplay.c:358</a></div></div>
<div class="ttc" id="structAVFrame_html_a5f343e0325e3e9d9ed20e34c9e156aef"><div class="ttname"><a href="structAVFrame.html#a5f343e0325e3e9d9ed20e34c9e156aef">AVFrame::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdoc">Channel layout of the audio data. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00359">frame.h:359</a></div></div>
<div class="ttc" id="structVideoState_html_a950d812c3d72d9a0511f9473af774658"><div class="ttname"><a href="structVideoState.html#a950d812c3d72d9a0511f9473af774658">VideoState::ShowMode</a></div><div class="ttdeci">ShowMode</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00264">ffplay.c:264</a></div></div>
<div class="ttc" id="structFrame_html_af79450bf22d4052328c5c64ba80d14ce"><div class="ttname"><a href="structFrame.html#af79450bf22d4052328c5c64ba80d14ce">Frame::flip_v</a></div><div class="ttdeci">int flip_v</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00168">ffplay.c:168</a></div></div>
<div class="ttc" id="structVideoState_html_a78d6d8f53054c1f4799e23ae1927e6dd"><div class="ttname"><a href="structVideoState.html#a78d6d8f53054c1f4799e23ae1927e6dd">VideoState::frame_last_returned_time</a></div><div class="ttdeci">double frame_last_returned_time</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00283">ffplay.c:283</a></div></div>
<div class="ttc" id="group__lavfi_html_gadd774ec49e50edf00158248e1bfe4ae6"><div class="ttname"><a href="group__lavfi.html#gadd774ec49e50edf00158248e1bfe4ae6">avfilter_get_by_name</a></div><div class="ttdeci">AVFilter * avfilter_get_by_name(const char *name)</div><div class="ttdoc">Get a filter definition matching the given name. </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8c_source.html#l00566">avfilter.c:566</a></div></div>
<div class="ttc" id="avstring_8c_html_a8cee948e00ad684c285e0f98639fcd21"><div class="ttname"><a href="avstring_8c.html#a8cee948e00ad684c285e0f98639fcd21">av_asprintf</a></div><div class="ttdeci">char * av_asprintf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00113">avstring.c:113</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_ga29d0252b981f157e713a68ffca52f003"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga29d0252b981f157e713a68ffca52f003">av_fast_malloc</a></div><div class="ttdeci">void av_fast_malloc(void *ptr, unsigned int *size, size_t min_size)</div><div class="ttdoc">Allocate a buffer, reusing the given one if large enough. </div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00499">mem.c:499</a></div></div>
<div class="ttc" id="ffplay_8c_html_ae11ee1a372bd6516e484c0643d450e04"><div class="ttname"><a href="ffplay_8c.html#ae11ee1a372bd6516e484c0643d450e04">subtitle_codec_name</a></div><div class="ttdeci">static const char * subtitle_codec_name</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00342">ffplay.c:342</a></div></div>
<div class="ttc" id="ffplay_8c_html_a46f678005768f8e888b4f1b1c460d41c"><div class="ttname"><a href="ffplay_8c.html#a46f678005768f8e888b4f1b1c460d41c">subtitle_disable</a></div><div class="ttdeci">static int subtitle_disable</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00321">ffplay.c:321</a></div></div>
<div class="ttc" id="avformat_8h_html_aa3a096ee52bc6b1e0f31278d26996777"><div class="ttname"><a href="avformat_8h.html#aa3a096ee52bc6b1e0f31278d26996777">av_format_inject_global_side_data</a></div><div class="ttdeci">void av_format_inject_global_side_data(AVFormatContext *s)</div><div class="ttdoc">This function will cause global side data to be injected in the next packet of each stream as well as...</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00135">utils.c:135</a></div></div>
<div class="ttc" id="structFrameQueue_html_af36a9afb30c142c4a99ed98c7a27f0e4"><div class="ttname"><a href="structFrameQueue.html#af36a9afb30c142c4a99ed98c7a27f0e4">FrameQueue::max_size</a></div><div class="ttdeci">int max_size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00176">ffplay.c:176</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a0b748d924898b08b89ff4974afd17285"><div class="ttname"><a href="structAVFormatContext.html#a0b748d924898b08b89ff4974afd17285">AVFormatContext::nb_streams</a></div><div class="ttdeci">unsigned int nb_streams</div><div class="ttdoc">Number of elements in AVFormatContext.streams. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01394">avformat.h:1394</a></div></div>
<div class="ttc" id="ffplay_8c_html_a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c"><div class="ttname"><a href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798aa1d870b9444db262c3b7439a8bd6842c">AV_SYNC_VIDEO_MASTER</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00186">ffplay.c:186</a></div></div>
<div class="ttc" id="structVideoState_html_a82f3fa623064948a331ca2eda977d974"><div class="ttname"><a href="structVideoState.html#a82f3fa623064948a331ca2eda977d974">VideoState::step</a></div><div class="ttdeci">int step</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00295">ffplay.c:295</a></div></div>
<div class="ttc" id="structDecoder_html_a5dc52438ebc91ec6b928d402a82d7316"><div class="ttname"><a href="structDecoder.html#a5dc52438ebc91ec6b928d402a82d7316">Decoder::decoder_tid</a></div><div class="ttdeci">SDL_Thread * decoder_tid</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00203">ffplay.c:203</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_af540b728145b614e34c4e10930354b93"><div class="ttname"><a href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a></div><div class="ttdeci">AVDictionary * opts</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00050">movenc.c:50</a></div></div>
<div class="ttc" id="ffplay_8c_html_aaa8e409e04dcf575ef63fd5fb3db06f9"><div class="ttname"><a href="ffplay_8c.html#aaa8e409e04dcf575ef63fd5fb3db06f9">window</a></div><div class="ttdeci">static SDL_Window * window</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00363">ffplay.c:363</a></div></div>
<div class="ttc" id="ffplay_8c_html_a01a73e823e0892841a4fd2f900b85688"><div class="ttname"><a href="ffplay_8c.html#a01a73e823e0892841a4fd2f900b85688">program_name</a></div><div class="ttdeci">const char program_name[]</div><div class="ttdoc">program name, defined by the program for show_version(). </div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00063">ffplay.c:63</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_ga27db687592d99f25ccf81a3b3ee8da9c"><div class="ttname"><a href="group__lavf__decoding.html#ga27db687592d99f25ccf81a3b3ee8da9c">av_read_pause</a></div><div class="ttdeci">int av_read_pause(AVFormatContext *s)</div><div class="ttdoc">Pause a network-based stream (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04049">utils.c:4049</a></div></div>
<div class="ttc" id="structPacketQueue_html_a4a26c3f837f525a42951b5e7c69b977d"><div class="ttname"><a href="structPacketQueue.html#a4a26c3f837f525a42951b5e7c69b977d">PacketQueue::mutex</a></div><div class="ttdeci">SDL_mutex * mutex</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00125">ffplay.c:125</a></div></div>
<div class="ttc" id="libm_8h_html_a364edfcde984bdfbc031ae0b2ddd6e38"><div class="ttname"><a href="libm_8h.html#a364edfcde984bdfbc031ae0b2ddd6e38">hypot</a></div><div class="ttdeci">static av_const double hypot(double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="libm_8h_source.html#l00366">libm.h:366</a></div></div>
<div class="ttc" id="structVideoState_html_ae20bb85c4d7f28f47af1c12a7aa5043c"><div class="ttname"><a href="structVideoState.html#ae20bb85c4d7f28f47af1c12a7aa5043c">VideoState::audio_write_buf_size</a></div><div class="ttdeci">int audio_write_buf_size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00252">ffplay.c:252</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_ga7d2f532c6653c2419b17956712fdf3da"><div class="ttname"><a href="group__lavf__decoding.html#ga7d2f532c6653c2419b17956712fdf3da">av_find_input_format</a></div><div class="ttdeci">AVInputFormat * av_find_input_format(const char *short_name)</div><div class="ttdoc">Find AVInputFormat based on the short name of the input format. </div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00166">format.c:166</a></div></div>
<div class="ttc" id="structMyAVPacketList_html"><div class="ttname"><a href="structMyAVPacketList.html">MyAVPacketList</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00112">ffplay.c:112</a></div></div>
<div class="ttc" id="structAVSubtitleRect_html_adefe2c038e26cc9f1b5076476f1ffc96"><div class="ttname"><a href="structAVSubtitleRect.html#adefe2c038e26cc9f1b5076476f1ffc96">AVSubtitleRect::linesize</a></div><div class="ttdeci">int linesize[4]</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03959">avcodec.h:3959</a></div></div>
<div class="ttc" id="ffplay_8c_html_a3ae3137ba6a2d6181e843a768334238c"><div class="ttname"><a href="ffplay_8c.html#a3ae3137ba6a2d6181e843a768334238c">SAMPLE_QUEUE_SIZE</a></div><div class="ttdeci">#define SAMPLE_QUEUE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00131">ffplay.c:131</a></div></div>
<div class="ttc" id="swresample_8c_html_a51b7594d861f8b79a717743c585e413b"><div class="ttname"><a href="swresample_8c.html#a51b7594d861f8b79a717743c585e413b">swr_convert</a></div><div class="ttdeci">int attribute_align_arg swr_convert(struct SwrContext *s, uint8_t *out_arg[SWR_CH_MAX], int out_count, const uint8_t *in_arg [SWR_CH_MAX], int in_count)</div><div class="ttdef"><b>Definition:</b> <a href="swresample_8c_source.html#l00707">swresample.c:707</a></div></div>
<div class="ttc" id="ffplay_8c_html_a81a28a9c371323c2df96ba7ef15aa4d4"><div class="ttname"><a href="ffplay_8c.html#a81a28a9c371323c2df96ba7ef15aa4d4">SUBPICTURE_QUEUE_SIZE</a></div><div class="ttdeci">#define SUBPICTURE_QUEUE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00130">ffplay.c:130</a></div></div>
<div class="ttc" id="structAVFrame_html_af9920fc3fbfa347b8943ae461b50d18b"><div class="ttname"><a href="structAVFrame.html#af9920fc3fbfa347b8943ae461b50d18b">AVFrame::pict_type</a></div><div class="ttdeci">enum AVPictureType pict_type</div><div class="ttdoc">Picture type of the frame. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00264">frame.h:264</a></div></div>
<div class="ttc" id="structMyAVPacketList_html_a289bd0a346b4cf91f52300ec10f4ed03"><div class="ttname"><a href="structMyAVPacketList.html#a289bd0a346b4cf91f52300ec10f4ed03">MyAVPacketList::next</a></div><div class="ttdeci">struct MyAVPacketList * next</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00114">ffplay.c:114</a></div></div>
<div class="ttc" id="pixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_ga3004e784b29fd907a0d4aebeca0e6933"><div class="ttname"><a href="group__channel__mask__c.html#ga3004e784b29fd907a0d4aebeca0e6933">AV_CH_LAYOUT_STEREO_DOWNMIX</a></div><div class="ttdeci">#define AV_CH_LAYOUT_STEREO_DOWNMIX</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00112">channel_layout.h:112</a></div></div>
<div class="ttc" id="group__lavu__time_html_gaa11ed202b70e1f52bac809811a910e2a"><div class="ttname"><a href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a></div><div class="ttdeci">#define AV_TIME_BASE</div><div class="ttdoc">Internal time base represented as integer. </div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00254">avutil.h:254</a></div></div>
<div class="ttc" id="common_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="structFrameQueue_html_a219279ac55e472ca40cc762ccd311a28"><div class="ttname"><a href="structFrameQueue.html#a219279ac55e472ca40cc762ccd311a28">FrameQueue::mutex</a></div><div class="ttdeci">SDL_mutex * mutex</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00179">ffplay.c:179</a></div></div>
<div class="ttc" id="group__lavu__log_html_ga14034761faf581a8b9ed6ef19b313708"><div class="ttname"><a href="group__lavu__log.html#ga14034761faf581a8b9ed6ef19b313708">av_log_set_callback</a></div><div class="ttdeci">void av_log_set_callback(void(*callback)(void *, int, const char *, va_list))</div><div class="ttdoc">Set the logging callback. </div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00406">log.c:406</a></div></div>
<div class="ttc" id="structFrameQueue_html_aa0c7135c7dc240f4beaad18e258574ab"><div class="ttname"><a href="structFrameQueue.html#aa0c7135c7dc240f4beaad18e258574ab">FrameQueue::windex</a></div><div class="ttdeci">int windex</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00174">ffplay.c:174</a></div></div>
<div class="ttc" id="group__lavc__core_html_gae80afec6f26df6607eaacf39b561c315"><div class="ttname"><a href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a></div><div class="ttdeci">AVCodecContext * avcodec_alloc_context3(const AVCodec *codec)</div><div class="ttdoc">Allocate an AVCodecContext and set its fields to default values. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00156">options.c:156</a></div></div>
<div class="ttc" id="group__avoptions_html_ga25801ba4fc9b5313eb33ec84e082dd72"><div class="ttname"><a href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a></div><div class="ttdeci">#define AV_OPT_SEARCH_CHILDREN</div><div class="ttdoc">Search in possible children of the given object first. </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00557">opt.h:557</a></div></div>
<div class="ttc" id="cmdutils__common__opts_8h_html"><div class="ttname"><a href="cmdutils__common__opts_8h.html">cmdutils_common_opts.h</a></div></div>
<div class="ttc" id="ffplay_8c_html_ae074c197aa9a728d037468a19d9817e7"><div class="ttname"><a href="ffplay_8c.html#ae074c197aa9a728d037468a19d9817e7">cursor_hidden</a></div><div class="ttdeci">static int cursor_hidden</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00346">ffplay.c:346</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa8ec890d4b82ec96dbc5db8ab81cbe95"><div class="ttname"><a href="ffplay_8c.html#aa8ec890d4b82ec96dbc5db8ab81cbe95">decoder_init</a></div><div class="ttdeci">static void decoder_init(Decoder *d, AVCodecContext *avctx, PacketQueue *queue, SDL_cond *empty_queue_cond)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00551">ffplay.c:551</a></div></div>
<div class="ttc" id="tests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="structFrame_html_accbcef8f564e79338a36a958d3bdd924"><div class="ttname"><a href="structFrame.html#accbcef8f564e79338a36a958d3bdd924">Frame::sub</a></div><div class="ttdeci">AVSubtitle sub</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00156">ffplay.c:156</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa95c8aad8274305498eacb099e74d421"><div class="ttname"><a href="ffplay_8c.html#aa95c8aad8274305498eacb099e74d421">lockmgr</a></div><div class="ttdeci">static int lockmgr(void **mtx, enum AVLockOp op)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03670">ffplay.c:3670</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="structAVCodecContext.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">picture width / height. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01873">avcodec.h:1873</a></div></div>
<div class="ttc" id="ffplay_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="ffplay_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03692">ffplay.c:3692</a></div></div>
<div class="ttc" id="structFrame_html_a9863930f62f48f01c3994cb051d4c2f1"><div class="ttname"><a href="structFrame.html#a9863930f62f48f01c3994cb051d4c2f1">Frame::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00164">ffplay.c:164</a></div></div>
<div class="ttc" id="ffplay_8c_html_a60008c6774fb193a2a43a2c1f65f2bed"><div class="ttname"><a href="ffplay_8c.html#a60008c6774fb193a2a43a2c1f65f2bed">SDL_VOLUME_STEP</a></div><div class="ttdeci">#define SDL_VOLUME_STEP</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00077">ffplay.c:77</a></div></div>
<div class="ttc" id="ffplay_8c_html_a017a6f5b075277289cca0b4158a0b7a6"><div class="ttname"><a href="ffplay_8c.html#a017a6f5b075277289cca0b4158a0b7a6">show_usage</a></div><div class="ttdeci">static void show_usage(void)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03628">ffplay.c:3628</a></div></div>
<div class="ttc" id="structPacketQueue_html_af3c07e48d198caafc282a7913dcfc28c"><div class="ttname"><a href="structPacketQueue.html#af3c07e48d198caafc282a7913dcfc28c">PacketQueue::nb_packets</a></div><div class="ttdeci">int nb_packets</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00120">ffplay.c:120</a></div></div>
<div class="ttc" id="structDecoder_html"><div class="ttname"><a href="structDecoder.html">Decoder</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00190">ffplay.c:190</a></div></div>
<div class="ttc" id="ffplay_8c_html_ac40c38281086ec376a1ac70d8c1adfb9"><div class="ttname"><a href="ffplay_8c.html#ac40c38281086ec376a1ac70d8c1adfb9">opt_width</a></div><div class="ttdeci">static int opt_width(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03479">ffplay.c:3479</a></div></div>
<div class="ttc" id="ffplay_8c_html_a6cc04b5f00e00954f3cfc3eda2a89d59"><div class="ttname"><a href="ffplay_8c.html#a6cc04b5f00e00954f3cfc3eda2a89d59">get_video_frame</a></div><div class="ttdeci">static int get_video_frame(VideoState *is, AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01776">ffplay.c:1776</a></div></div>
<div class="ttc" id="structVideoState_html_a67448cbb7407c79050f6ca318131720b"><div class="ttname"><a href="structVideoState.html#a67448cbb7407c79050f6ca318131720b">VideoState::frame_drops_late</a></div><div class="ttdeci">int frame_drops_late</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00262">ffplay.c:262</a></div></div>
<div class="ttc" id="structVideoState_html_a15926fcb7ac1bc4d5723d458d156d3dd"><div class="ttname"><a href="structVideoState.html#a15926fcb7ac1bc4d5723d458d156d3dd">VideoState::audio_src</a></div><div class="ttdeci">struct AudioParams audio_src</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00255">ffplay.c:255</a></div></div>
<div class="ttc" id="ffplay_8c_html_a62f477a3137a662ef8521d0e2da3875f"><div class="ttname"><a href="ffplay_8c.html#a62f477a3137a662ef8521d0e2da3875f">refresh_loop_wait_event</a></div><div class="ttdeci">static void refresh_loop_wait_event(VideoState *is, SDL_Event *event)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03225">ffplay.c:3225</a></div></div>
<div class="ttc" id="ffplay_8c_html_aea19d45b6036d70f2eecd9d200e5f14f"><div class="ttname"><a href="ffplay_8c.html#aea19d45b6036d70f2eecd9d200e5f14f">set_clock_speed</a></div><div class="ttdeci">static void set_clock_speed(Clock *c, double speed)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01351">ffplay.c:1351</a></div></div>
<div class="ttc" id="ffplay_8c_html_a048518dec3903cb5e3f0a53721534445"><div class="ttname"><a href="ffplay_8c.html#a048518dec3903cb5e3f0a53721534445">SDL_AUDIO_MAX_CALLBACKS_PER_SEC</a></div><div class="ttdeci">#define SDL_AUDIO_MAX_CALLBACKS_PER_SEC</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00074">ffplay.c:74</a></div></div>
<div class="ttc" id="structAVCodecParameters_html_a1ec57ee84f19cf65d00eaa4d2a2253ce"><div class="ttname"><a href="structAVCodecParameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">AVCodecParameters::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l04066">avcodec.h:4066</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="group__lswr_html_gad7f29022726c871aadf935281a9813bc"><div class="ttname"><a href="group__lswr.html#gad7f29022726c871aadf935281a9813bc">swr_alloc_set_opts</a></div><div class="ttdeci">struct SwrContext * swr_alloc_set_opts(struct SwrContext *s, int64_t out_ch_layout, enum AVSampleFormat out_sample_fmt, int out_sample_rate, int64_t in_ch_layout, enum AVSampleFormat in_sample_fmt, int in_sample_rate, int log_offset, void *log_ctx)</div><div class="ttdoc">Allocate SwrContext if needed and set/reset common parameters. </div><div class="ttdef"><b>Definition:</b> <a href="swresample_8c_source.html#l00059">swresample.c:59</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa18328079ae64794c5c9af8b32901004"><div class="ttname"><a href="ffplay_8c.html#aa18328079ae64794c5c9af8b32901004">fast</a></div><div class="ttdeci">static int fast</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00330">ffplay.c:330</a></div></div>
<div class="ttc" id="group__libsws_html_gad3af0ca76f071dbe0173444db9882932"><div class="ttname"><a href="group__libsws.html#gad3af0ca76f071dbe0173444db9882932">sws_freeContext</a></div><div class="ttdeci">void sws_freeContext(struct SwsContext *swsContext)</div><div class="ttdoc">Free the swscaler context swsContext. </div><div class="ttdef"><b>Definition:</b> <a href="libswscale_2utils_8c_source.html#l02278">utils.c:2278</a></div></div>
<div class="ttc" id="structVideoState_html_a15497e11c41a2a246ff4aff63fa07dbc"><div class="ttname"><a href="structVideoState.html#a15497e11c41a2a246ff4aff63fa07dbc">VideoState::last_i_start</a></div><div class="ttdeci">int last_i_start</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00269">ffplay.c:269</a></div></div>
<div class="ttc" id="structAVSubtitle_html_a03cabc402df10e7ee9b92df6284b09c1"><div class="ttname"><a href="structAVSubtitle.html#a03cabc402df10e7ee9b92df6284b09c1">AVSubtitle::format</a></div><div class="ttdeci">uint16_t format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03976">avcodec.h:3976</a></div></div>
<div class="ttc" id="cmdutils_8h_html_a1e6d562f7f8c2883ddc3847a003dc804"><div class="ttname"><a href="cmdutils_8h.html#a1e6d562f7f8c2883ddc3847a003dc804">OPT_INT64</a></div><div class="ttdeci">#define OPT_INT64</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00177">cmdutils.h:177</a></div></div>
<div class="ttc" id="structPacketQueue_html_a286f94efe0b263765ad137d209511fe6"><div class="ttname"><a href="structPacketQueue.html#a286f94efe0b263765ad137d209511fe6">PacketQueue::last_pkt</a></div><div class="ttdeci">MyAVPacketList * last_pkt</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00119">ffplay.c:119</a></div></div>
<div class="ttc" id="group__lavc__fft_html_gga58a704747daba49afa3611cea218a24ba417b17dd8e9f755f06a9469826e4adc9"><div class="ttname"><a href="group__lavc__fft.html#gga58a704747daba49afa3611cea218a24ba417b17dd8e9f755f06a9469826e4adc9">DFT_R2C</a></div><div class="ttdef"><b>Definition:</b> <a href="avfft_8h_source.html#l00072">avfft.h:72</a></div></div>
<div class="ttc" id="group__lavc__fft_html_ga9d0be7a2253417ab4bb53a08bb70dfce"><div class="ttname"><a href="group__lavc__fft.html#ga9d0be7a2253417ab4bb53a08bb70dfce">av_rdft_end</a></div><div class="ttdeci">void av_rdft_end(RDFTContext *s)</div></div>
<div class="ttc" id="ffplay_8c_html_ac7d5324a55d2b6414402b232db5e16ac"><div class="ttname"><a href="ffplay_8c.html#ac7d5324a55d2b6414402b232db5e16ac">step_to_next_frame</a></div><div class="ttdeci">static void step_to_next_frame(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01466">ffplay.c:1466</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a76f11d9a0a47b94f72c2d0e77fb32240"><div class="ttname"><a href="avisynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00684">avisynth_c.h:684</a></div></div>
<div class="ttc" id="ffplay_8c_html_a2eedf5ef2448c6e0e30f36a8d4b73aae"><div class="ttname"><a href="ffplay_8c.html#a2eedf5ef2448c6e0e30f36a8d4b73aae">audio_decode_frame</a></div><div class="ttdeci">static int audio_decode_frame(VideoState *is)</div><div class="ttdoc">Decode one audio frame and return its uncompressed size. </div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02332">ffplay.c:2332</a></div></div>
<div class="ttc" id="group__lavc__fft_html_ga5259358e6ddb8f7d02513a3a3bcd3e54"><div class="ttname"><a href="group__lavc__fft.html#ga5259358e6ddb8f7d02513a3a3bcd3e54">av_rdft_init</a></div><div class="ttdeci">RDFTContext * av_rdft_init(int nbits, enum RDFTransformType trans)</div><div class="ttdoc">Set up a real FFT. </div></div>
<div class="ttc" id="ffplay_8c_html_a1c64781e89889bf88e0fb728e378274b"><div class="ttname"><a href="ffplay_8c.html#a1c64781e89889bf88e0fb728e378274b">is_full_screen</a></div><div class="ttdeci">static int is_full_screen</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00355">ffplay.c:355</a></div></div>
<div class="ttc" id="ffplay_8c_html_a373569cd88a065d17fc41d42c2c9b64a"><div class="ttname"><a href="ffplay_8c.html#a373569cd88a065d17fc41d42c2c9b64a">AV_SYNC_THRESHOLD_MAX</a></div><div class="ttdeci">#define AV_SYNC_THRESHOLD_MAX</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00082">ffplay.c:82</a></div></div>
<div class="ttc" id="structAVFilterGraph_html"><div class="ttname"><a href="structAVFilterGraph.html">AVFilterGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00819">avfilter.h:819</a></div></div>
<div class="ttc" id="ffplay_8c_html_a5418f9bead37938691fa4c3d3ab21e5e"><div class="ttname"><a href="ffplay_8c.html#a5418f9bead37938691fa4c3d3ab21e5e">fill_rectangle</a></div><div class="ttdeci">static void fill_rectangle(int x, int y, int w, int h)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00790">ffplay.c:790</a></div></div>
<div class="ttc" id="ffplay_8c_html_af6d51db52af6826ea82f49aa4f0e8a89"><div class="ttname"><a href="ffplay_8c.html#af6d51db52af6826ea82f49aa4f0e8a89">stream_has_enough_packets</a></div><div class="ttdeci">static int stream_has_enough_packets(AVStream *st, int stream_id, PacketQueue *queue)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02727">ffplay.c:2727</a></div></div>
<div class="ttc" id="af__afftfilt_8c_html_a7ddb0b5ac76101c5bee71e9840bf1698"><div class="ttname"><a href="af__afftfilt_8c.html#a7ddb0b5ac76101c5bee71e9840bf1698">outputs</a></div><div class="ttdeci">static const AVFilterPad outputs[]</div><div class="ttdef"><b>Definition:</b> <a href="af__afftfilt_8c_source.html#l00386">af_afftfilt.c:386</a></div></div>
<div class="ttc" id="ffplay_8c_html_a5218f58e9f21ed4a516091ff2c0fa5ea"><div class="ttname"><a href="ffplay_8c.html#a5218f58e9f21ed4a516091ff2c0fa5ea">startup_volume</a></div><div class="ttdeci">static int startup_volume</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00325">ffplay.c:325</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa1d9c10197a7f3c6a2d26879ee3e55d9"><div class="ttname"><a href="ffplay_8c.html#aa1d9c10197a7f3c6a2d26879ee3e55d9">SDL_AUDIO_MIN_BUFFER_SIZE</a></div><div class="ttdeci">#define SDL_AUDIO_MIN_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00072">ffplay.c:72</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="structAVCodecContext.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01873">avcodec.h:1873</a></div></div>
<div class="ttc" id="vf__mcdeint_8c_html_a22dd5e4b362bda39fe025467d2d1ecf5"><div class="ttname"><a href="vf__mcdeint_8c.html#a22dd5e4b362bda39fe025467d2d1ecf5">if</a></div><div class="ttdeci">if(ret&lt; 0)</div><div class="ttdef"><b>Definition:</b> <a href="vf__mcdeint_8c_source.html#l00282">vf_mcdeint.c:282</a></div></div>
<div class="ttc" id="ffplay_8c_html_a7e7701f9560d9154b0c036d9ca2b36f1"><div class="ttname"><a href="ffplay_8c.html#a7e7701f9560d9154b0c036d9ca2b36f1">packet_queue_init</a></div><div class="ttdeci">static int packet_queue_init(PacketQueue *q)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00451">ffplay.c:451</a></div></div>
<div class="ttc" id="structAVSubtitleRect_html_aa5cbbdf0485ec8de1d8acfa437ca0254"><div class="ttname"><a href="structAVSubtitleRect.html#aa5cbbdf0485ec8de1d8acfa437ca0254">AVSubtitleRect::data</a></div><div class="ttdeci">uint8_t * data[4]</div><div class="ttdoc">data+linesize for the bitmap of this subtitle. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03958">avcodec.h:3958</a></div></div>
<div class="ttc" id="ffplay_8c_html_a46e22ec3f8bc3e64701f3470e9874a5d"><div class="ttname"><a href="ffplay_8c.html#a46e22ec3f8bc3e64701f3470e9874a5d">decoder_reorder_pts</a></div><div class="ttdeci">static int decoder_reorder_pts</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00333">ffplay.c:333</a></div></div>
<div class="ttc" id="ffplay_8c_html_a996f890c6cfe7a0ad3bc98a999c2cbb7"><div class="ttname"><a href="ffplay_8c.html#a996f890c6cfe7a0ad3bc98a999c2cbb7">AUDIO_DIFF_AVG_NB</a></div><div class="ttdeci">#define AUDIO_DIFF_AVG_NB</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00097">ffplay.c:97</a></div></div>
<div class="ttc" id="ffplay_8c_html_a4cf71fdd3b61cfd774d327b78e048acd"><div class="ttname"><a href="ffplay_8c.html#a4cf71fdd3b61cfd774d327b78e048acd">set_clock</a></div><div class="ttdeci">static void set_clock(Clock *c, double pts, int serial)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01345">ffplay.c:1345</a></div></div>
<div class="ttc" id="structVideoState_html_a224f9b019173bfbf8ccd58312ffd2795"><div class="ttname"><a href="structVideoState.html#a224f9b019173bfbf8ccd58312ffd2795">VideoState::sample_array</a></div><div class="ttdeci">int16_t sample_array[SAMPLE_ARRAY_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00267">ffplay.c:267</a></div></div>
<div class="ttc" id="structAVFilterInOut_html_a3227857d0b955b639f4950d13e4e6f40"><div class="ttname"><a href="structAVFilterInOut.html#a3227857d0b955b639f4950d13e4e6f40">AVFilterInOut::filter_ctx</a></div><div class="ttdeci">AVFilterContext * filter_ctx</div><div class="ttdoc">filter context associated to this input/output </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00999">avfilter.h:999</a></div></div>
<div class="ttc" id="structClock_html_a7a63fc9f98dee523f493c4e296e87dd1"><div class="ttname"><a href="structClock.html#a7a63fc9f98dee523f493c4e296e87dd1">Clock::paused</a></div><div class="ttdeci">int paused</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00149">ffplay.c:149</a></div></div>
<div class="ttc" id="ffplay_8c_html_a5ad4c812a5f4896f57511a05a3207999"><div class="ttname"><a href="ffplay_8c.html#a5ad4c812a5f4896f57511a05a3207999">input_filename</a></div><div class="ttdeci">static const char * input_filename</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00313">ffplay.c:313</a></div></div>
<div class="ttc" id="sinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00036">sinewin_tablegen_template.c:36</a></div></div>
<div class="ttc" id="avformat_8h_html_ab54a3e54e88a8f7d7760e60b49944e44"><div class="ttname"><a href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a></div><div class="ttdeci">#define AV_DISPOSITION_ATTACHED_PIC</div><div class="ttdoc">The stream is stored in the file as an attached picture/&quot;cover art&quot; (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00859">avformat.h:859</a></div></div>
<div class="ttc" id="intmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="ffplay_8c_html_a066c2b1eca5ea454f7ce3862f4939954"><div class="ttname"><a href="ffplay_8c.html#a066c2b1eca5ea454f7ce3862f4939954">frame_queue_peek_last</a></div><div class="ttdeci">static Frame * frame_queue_peek_last(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00703">ffplay.c:703</a></div></div>
<div class="ttc" id="ffplay_8c_html_a86b0b3c5097befa080e58ccbafe289c3"><div class="ttname"><a href="ffplay_8c.html#a86b0b3c5097befa080e58ccbafe289c3">show_help_default</a></div><div class="ttdeci">void show_help_default(const char *opt, const char *arg)</div><div class="ttdoc">Per-fftool specific help handler. </div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03635">ffplay.c:3635</a></div></div>
<div class="ttc" id="group__lavc__core_html_gafda0a87bc29a129cd12e858b4609cccd"><div class="ttname"><a href="group__lavc__core.html#gafda0a87bc29a129cd12e858b4609cccd">av_codec_get_max_lowres</a></div><div class="ttdeci">int av_codec_get_max_lowres(const AVCodec *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01192">utils.c:1192</a></div></div>
<div class="ttc" id="structFrame_html_acb133932800fcbccbe5e3c8e6010ceb9"><div class="ttname"><a href="structFrame.html#acb133932800fcbccbe5e3c8e6010ceb9">Frame::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00160">ffplay.c:160</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_ga99d0b5bb80534d13a6cc96336cf9076a"><div class="ttname"><a href="group__channel__mask__c.html#ga99d0b5bb80534d13a6cc96336cf9076a">av_get_channel_layout_string</a></div><div class="ttdeci">void av_get_channel_layout_string(char *buf, int buf_size, int nb_channels, uint64_t channel_layout)</div><div class="ttdoc">Return a description of a channel layout. </div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00189">channel_layout.c:189</a></div></div>
<div class="ttc" id="structVideoState_html_ac7b1fd07ce01d234ff33f3da630e7a1c"><div class="ttname"><a href="structVideoState.html#ac7b1fd07ce01d234ff33f3da630e7a1c">VideoState::last_audio_stream</a></div><div class="ttdeci">int last_audio_stream</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00306">ffplay.c:306</a></div></div>
<div class="ttc" id="structAVStream_html"><div class="ttname"><a href="structAVStream.html">AVStream</a></div><div class="ttdoc">Stream structure. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00889">avformat.h:889</a></div></div>
<div class="ttc" id="group__lavc__misc_html_gaf60b0e076f822abcb2700eb601d352a6"><div class="ttname"><a href="group__lavc__misc.html#gaf60b0e076f822abcb2700eb601d352a6">avcodec_flush_buffers</a></div><div class="ttdeci">void avcodec_flush_buffers(AVCodecContext *avctx)</div><div class="ttdoc">Reset the internal decoder state / flush internal buffers. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l03437">utils.c:3437</a></div></div>
<div class="ttc" id="group__lavfi_html_ga47ab3c56888ecc8ced403cbf39c35a4d"><div class="ttname"><a href="group__lavfi.html#ga47ab3c56888ecc8ced403cbf39c35a4d">avfilter_get_class</a></div><div class="ttdeci">const AVClass * avfilter_get_class(void)</div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8c_source.html#l01546">avfilter.c:1546</a></div></div>
<div class="ttc" id="structAVFilterInOut_html"><div class="ttname"><a href="structAVFilterInOut.html">AVFilterInOut</a></div><div class="ttdoc">A linked-list of the inputs/outputs of the filter chain. </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00994">avfilter.h:994</a></div></div>
<div class="ttc" id="ffplay_8c_html_ae0b4db738508a390710a4a4402b2d86b"><div class="ttname"><a href="ffplay_8c.html#ae0b4db738508a390710a4a4402b2d86b">SAMPLE_CORRECTION_PERCENT_MAX</a></div><div class="ttdeci">#define SAMPLE_CORRECTION_PERCENT_MAX</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00089">ffplay.c:89</a></div></div>
<div class="ttc" id="structAVFrame_html_aed14fa772ce46881020fd1545c86432c"><div class="ttname"><a href="structAVFrame.html#aed14fa772ce46881020fd1545c86432c">AVFrame::format</a></div><div class="ttdeci">int format</div><div class="ttdoc">format of the frame, -1 if unknown or unset Values correspond to enum AVPixelFormat for video frames...</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00254">frame.h:254</a></div></div>
<div class="ttc" id="group__lavf__core_html_ga245f2875f80ce67ec3d1e0f54dacf2c4"><div class="ttname"><a href="group__lavf__core.html#ga245f2875f80ce67ec3d1e0f54dacf2c4">avformat_network_deinit</a></div><div class="ttdeci">int avformat_network_deinit(void)</div><div class="ttdoc">Undo the initialization done by avformat_network_init. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04732">utils.c:4732</a></div></div>
<div class="ttc" id="structVideoState_html_aa04309bc79f00ccf6c20ff6b1ecb1532"><div class="ttname"><a href="structVideoState.html#aa04309bc79f00ccf6c20ff6b1ecb1532">VideoState::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00293">ffplay.c:293</a></div></div>
<div class="ttc" id="ffplay_8c_html_a3b4a1bd850991355b91c7bfc15247d49"><div class="ttname"><a href="ffplay_8c.html#a3b4a1bd850991355b91c7bfc15247d49">screen_height</a></div><div class="ttdeci">static int screen_height</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00318">ffplay.c:318</a></div></div>
<div class="ttc" id="ffplay_8c_html_a9cecb67d201bca032258b92fc61e7015"><div class="ttname"><a href="ffplay_8c.html#a9cecb67d201bca032258b92fc61e7015">opt_duration</a></div><div class="ttdeci">static int opt_duration(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03528">ffplay.c:3528</a></div></div>
<div class="ttc" id="ffmpeg__filter_8c_html_a9feef5270e0e54f103868362df0cd27a"><div class="ttname"><a href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a></div><div class="ttdeci">sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00190">ffmpeg_filter.c:190</a></div></div>
<div class="ttc" id="ffprobe_8c_html_ab6ecddf7aac1dca5ba09db20886f66f2"><div class="ttname"><a href="ffprobe_8c.html#ab6ecddf7aac1dca5ba09db20886f66f2">iformat</a></div><div class="ttdeci">static AVInputFormat * iformat</div><div class="ttdef"><b>Definition:</b> <a href="ffprobe_8c_source.html#l00232">ffprobe.c:232</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdoc">Standard information. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00187">log.h:187</a></div></div>
<div class="ttc" id="af__afftfilt_8c_html_a6e04c7ed634034f9b8c1fec9d362ce44"><div class="ttname"><a href="af__afftfilt_8c.html#a6e04c7ed634034f9b8c1fec9d362ce44">inputs</a></div><div class="ttdeci">static const AVFilterPad inputs[]</div><div class="ttdef"><b>Definition:</b> <a href="af__afftfilt_8c_source.html#l00376">af_afftfilt.c:376</a></div></div>
<div class="ttc" id="structDecoder_html_a2e69e5492232ac8681d531b59baa84a5"><div class="ttname"><a href="structDecoder.html#a2e69e5492232ac8681d531b59baa84a5">Decoder::next_pts</a></div><div class="ttdeci">int64_t next_pts</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00201">ffplay.c:201</a></div></div>
<div class="ttc" id="ffplay_8c_html_a735d0125ea56ba80cdf2742b765f8ea5"><div class="ttname"><a href="ffplay_8c.html#a735d0125ea56ba80cdf2742b765f8ea5">autoexit</a></div><div class="ttdeci">static int autoexit</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00334">ffplay.c:334</a></div></div>
<div class="ttc" id="structFrame_html_a5bdff0f359485e7e61e51a2feceb64a5"><div class="ttname"><a href="structFrame.html#a5bdff0f359485e7e61e51a2feceb64a5">Frame::frame</a></div><div class="ttdeci">AVFrame * frame</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00155">ffplay.c:155</a></div></div>
<div class="ttc" id="group__lavu__mem__funcs_html_ga7c352f4cff02184f005323691375fea9"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a></div><div class="ttdeci">char * av_strdup(const char *s)</div><div class="ttdoc">Duplicate a string. </div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00267">mem.c:267</a></div></div>
<div class="ttc" id="structClock_html_a32eddc3e932a4e46fd4d85704fda0308"><div class="ttname"><a href="structClock.html#a32eddc3e932a4e46fd4d85704fda0308">Clock::serial</a></div><div class="ttdeci">int serial</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00148">ffplay.c:148</a></div></div>
<div class="ttc" id="structFrame_html_a4200284d8d01cc98d2eda2786b171d7f"><div class="ttname"><a href="structFrame.html#a4200284d8d01cc98d2eda2786b171d7f">Frame::uploaded</a></div><div class="ttdeci">int uploaded</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00167">ffplay.c:167</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a3f99ca3115c44e6d7772c9384faf15e6"><div class="ttname"><a href="structAVCodecContext.html#a3f99ca3115c44e6d7772c9384faf15e6">AVCodecContext::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01694">avcodec.h:1694</a></div></div>
<div class="ttc" id="ffplay_8c_html_aeb1665eebe41255a3c1cfc51aeb15124"><div class="ttname"><a href="ffplay_8c.html#aeb1665eebe41255a3c1cfc51aeb15124">calculate_display_rect</a></div><div class="ttdeci">static void calculate_display_rect(SDL_Rect *rect, int scr_xleft, int scr_ytop, int scr_width, int scr_height, int pic_width, int pic_height, AVRational pic_sar)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00831">ffplay.c:831</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_ga3ac51525b7ad8bca4ced9f3446e96532"><div class="ttname"><a href="group__lavc__decoding.html#ga3ac51525b7ad8bca4ced9f3446e96532">avcodec_decode_video2</a></div><div class="ttdeci">attribute_deprecated int avcodec_decode_video2(AVCodecContext *avctx, AVFrame *picture, int *got_picture_ptr, const AVPacket *avpkt)</div><div class="ttdoc">Decode the video frame of size avpkt-&gt;size from avpkt-&gt;data into picture. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02214">utils.c:2214</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_gaf9a51ca15301871723577c730b5865c5"><div class="ttname"><a href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></div><div class="ttdeci">AVSampleFormat</div><div class="ttdoc">Audio sample formats. </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00058">samplefmt.h:58</a></div></div>
<div class="ttc" id="group__lavc__core_html_gaf869d0829ed607cec3a4a02a1c7026b3"><div class="ttname"><a href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a></div><div class="ttdeci">void avcodec_free_context(AVCodecContext **avctx)</div><div class="ttdoc">Free the codec context and everything associated with it and write NULL to the provided pointer...</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00171">options.c:171</a></div></div>
<div class="ttc" id="structAVCodecContext_html_adc5f65d6099fd8339c1580c091777223"><div class="ttname"><a href="structAVCodecContext.html#adc5f65d6099fd8339c1580c091777223">AVCodecContext::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01703">avcodec.h:1703</a></div></div>
<div class="ttc" id="ffplay_8c_html_a1a4c786614f1860a6b1ac80b6cb7263f"><div class="ttname"><a href="ffplay_8c.html#a1a4c786614f1860a6b1ac80b6cb7263f">do_exit</a></div><div class="ttdeci">static void do_exit(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01225">ffplay.c:1225</a></div></div>
<div class="ttc" id="group__lavu__time_html_gafd07a13a4ddaa6015275cad6022d9ee3"><div class="ttname"><a href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a></div><div class="ttdeci">#define AV_TIME_BASE_Q</div><div class="ttdoc">Internal time base represented as fractional value. </div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00260">avutil.h:260</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="structAVCodecContext.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02448">avcodec.h:2448</a></div></div>
<div class="ttc" id="structAVFrame_html_aa52bfc6605f6a3059a0c3226cc0f6567"><div class="ttname"><a href="structAVFrame.html#aa52bfc6605f6a3059a0c3226cc0f6567">AVFrame::linesize</a></div><div class="ttdeci">int linesize[AV_NUM_DATA_POINTERS]</div><div class="ttdoc">For video, size in bytes of each picture line. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00221">frame.h:221</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a1e7324262b6b78522e52064daaa7bc87"><div class="ttname"><a href="structAVFormatContext.html#a1e7324262b6b78522e52064daaa7bc87">AVFormatContext::pb</a></div><div class="ttdeci">AVIOContext * pb</div><div class="ttdoc">I/O context. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01380">avformat.h:1380</a></div></div>
<div class="ttc" id="colorspacedsp__template_8c_html_a74d3c3c85d450f9238a162d015c0b407"><div class="ttname"><a href="colorspacedsp__template_8c.html#a74d3c3c85d450f9238a162d015c0b407">ss</a></div><div class="ttdeci">#define ss</div><div class="ttdef"><b>Definition:</b> <a href="colorspacedsp__template_8c_source.html#l00027">colorspacedsp_template.c:27</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga1a6a486e686ab6c581ffffcb88cb31b3"><div class="ttname"><a href="group__lavc__core.html#ga1a6a486e686ab6c581ffffcb88cb31b3">AV_CODEC_FLAG2_FAST</a></div><div class="ttdeci">#define AV_CODEC_FLAG2_FAST</div><div class="ttdoc">Allow non spec compliant speedup tricks. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00905">avcodec.h:905</a></div></div>
<div class="ttc" id="ffplay_8c_html_ad667f040f2932c8097435492fbd10d76"><div class="ttname"><a href="ffplay_8c.html#ad667f040f2932c8097435492fbd10d76">loop</a></div><div class="ttdeci">static int loop</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00337">ffplay.c:337</a></div></div>
<div class="ttc" id="ff__glob_8c_html_a4bbb2f081a64bd1133aa6ba6f29525ab"><div class="ttname"><a href="ff__glob_8c.html#a4bbb2f081a64bd1133aa6ba6f29525ab">LL</a></div><div class="ttdeci">#define LL(CS)</div><div class="ttdef"><b>Definition:</b> <a href="ff__glob_8c_source.html#l00461">ff_glob.c:461</a></div></div>
<div class="ttc" id="structVideoState_html_a20ade47f8180bc49ee1217bffa53a07b"><div class="ttname"><a href="structVideoState.html#a20ade47f8180bc49ee1217bffa53a07b">VideoState::last_paused</a></div><div class="ttdeci">int last_paused</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00212">ffplay.c:212</a></div></div>
<div class="ttc" id="ffplay_8c_html_ad29c5271508d71de584dc96fec8fa31d"><div class="ttname"><a href="ffplay_8c.html#ad29c5271508d71de584dc96fec8fa31d">exit_on_keydown</a></div><div class="ttdeci">static int exit_on_keydown</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00335">ffplay.c:335</a></div></div>
<div class="ttc" id="avfft_8h_html"><div class="ttname"><a href="avfft_8h.html">avfft.h</a></div><div class="ttdoc">FFT functions. </div></div>
<div class="ttc" id="structAVCodecContext_html"><div class="ttname"><a href="structAVCodecContext.html">AVCodecContext</a></div><div class="ttdoc">main external API structure. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01686">avcodec.h:1686</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_ga19a0ca553277f019dd5b0fec6e1f9dca"><div class="ttname"><a href="group__lavc__decoding.html#ga19a0ca553277f019dd5b0fec6e1f9dca">avcodec_find_decoder</a></div><div class="ttdeci">AVCodec * avcodec_find_decoder(enum AVCodecID id)</div><div class="ttdoc">Find a registered decoder with a matching codec ID. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l03129">utils.c:3129</a></div></div>
<div class="ttc" id="group__lavc__packet_html_ga63d5a489b419bd5d45cfd09091cbcbc2"><div class="ttname"><a href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a></div><div class="ttdeci">void av_packet_unref(AVPacket *pkt)</div><div class="ttdoc">Wipe the packet. </div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00569">avpacket.c:569</a></div></div>
<div class="ttc" id="structVideoState_html_a6635fe846566b0cf900114c4f50444d8"><div class="ttname"><a href="structVideoState.html#a6635fe846566b0cf900114c4f50444d8">VideoState::subdec</a></div><div class="ttdeci">Decoder subdec</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00232">ffplay.c:232</a></div></div>
<div class="ttc" id="group__lavc__packet_html_ga917dac9e139893510532c9bea475ef11"><div class="ttname"><a href="group__lavc__packet.html#ga917dac9e139893510532c9bea475ef11">av_copy_packet</a></div><div class="ttdeci">int av_copy_packet(AVPacket *dst, const AVPacket *src)</div><div class="ttdoc">Copy packet, including contents. </div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00264">avpacket.c:264</a></div></div>
<div class="ttc" id="group__lswr_html_ga818f7d78b1ad7d8d5b70de374b668c34"><div class="ttname"><a href="group__lswr.html#ga818f7d78b1ad7d8d5b70de374b668c34">swr_free</a></div><div class="ttdeci">av_cold void swr_free(SwrContext **ss)</div><div class="ttdoc">Free the given SwrContext and set the pointer to NULL. </div><div class="ttdef"><b>Definition:</b> <a href="swresample_8c_source.html#l00140">swresample.c:140</a></div></div>
<div class="ttc" id="structVideoState_html_a72cada3134dac1118f0762ba7fbdb6ab"><div class="ttname"><a href="structVideoState.html#a72cada3134dac1118f0762ba7fbdb6ab">VideoState::max_frame_duration</a></div><div class="ttdeci">double max_frame_duration</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00288">ffplay.c:288</a></div></div>
<div class="ttc" id="group__lavc__core_html_gaa2c3e02a761d9fc0c5c9b2340408c332"><div class="ttname"><a href="group__lavc__core.html#gaa2c3e02a761d9fc0c5c9b2340408c332">avsubtitle_free</a></div><div class="ttdeci">void avsubtitle_free(AVSubtitle *sub)</div><div class="ttdoc">Free all allocated data in the given subtitle struct. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02749">utils.c:2749</a></div></div>
<div class="ttc" id="structAVFrame_html_a62f9c20541a83d37db7072126ff0060d"><div class="ttname"><a href="structAVFrame.html#a62f9c20541a83d37db7072126ff0060d">AVFrame::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdoc">Sample aspect ratio for the video frame, 0/1 if unknown/unspecified. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00269">frame.h:269</a></div></div>
<div class="ttc" id="structVideoState_html_afd62fb3315163a701605b0edfe683761"><div class="ttname"><a href="structVideoState.html#afd62fb3315163a701605b0edfe683761">VideoState::vidclk</a></div><div class="ttdeci">Clock vidclk</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00223">ffplay.c:223</a></div></div>
<div class="ttc" id="structrect_html_ae6d18eea7dcbf097cb6ba264003617c7"><div class="ttname"><a href="structrect.html#ae6d18eea7dcbf097cb6ba264003617c7">rect::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="f__ebur128_8c_source.html#l00091">f_ebur128.c:91</a></div></div>
<div class="ttc" id="regdef_8h_html_ae771351dd440a8640270282362e338d0"><div class="ttname"><a href="regdef_8h.html#ae771351dd440a8640270282362e338d0">fp</a></div><div class="ttdeci">#define fp</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00044">regdef.h:44</a></div></div>
<div class="ttc" id="group__libsws_html_gae531c9754c9205d90ad6800015046d74"><div class="ttname"><a href="group__libsws.html#gae531c9754c9205d90ad6800015046d74">sws_scale</a></div><div class="ttdeci">int attribute_align_arg sws_scale(struct SwsContext *c, const uint8_t *const srcSlice[], const int srcStride[], int srcSliceY, int srcSliceH, uint8_t *const dst[], const int dstStride[])</div><div class="ttdoc">swscale wrapper, so we don&amp;#39;t need to export the SwsContext. </div><div class="ttdef"><b>Definition:</b> <a href="swscale_8c_source.html#l00753">swscale.c:753</a></div></div>
<div class="ttc" id="avformat_8h_html_a860dc077e9c782de0d49a2d4d968b64a"><div class="ttname"><a href="avformat_8h.html#a860dc077e9c782de0d49a2d4d968b64a">AVFMT_NOGENSEARCH</a></div><div class="ttdeci">#define AVFMT_NOGENSEARCH</div><div class="ttdoc">Format does not allow to fall back on generic search. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00493">avformat.h:493</a></div></div>
<div class="ttc" id="ffplay_8c_html_a28f381cbb0c628502f051c61004d40ca"><div class="ttname"><a href="ffplay_8c.html#a28f381cbb0c628502f051c61004d40ca">vp_duration</a></div><div class="ttdeci">static double vp_duration(VideoState *is, Frame *vp, Frame *nextvp)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01504">ffplay.c:1504</a></div></div>
<div class="ttc" id="ffplay_8c_html_a69c1e671e5ad68be30a1d4001d13da16"><div class="ttname"><a href="ffplay_8c.html#a69c1e671e5ad68be30a1d4001d13da16">window_title</a></div><div class="ttdeci">static const char * window_title</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00314">ffplay.c:314</a></div></div>
<div class="ttc" id="structClock_html_a3c23cb099853c21ae0e4a11e5186756f"><div class="ttname"><a href="structClock.html#a3c23cb099853c21ae0e4a11e5186756f">Clock::pts</a></div><div class="ttdeci">double pts</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00144">ffplay.c:144</a></div></div>
<div class="ttc" id="ffplay_8c_html_a44a40fe2c4bc2dd0c80c3215908ff7ae"><div class="ttname"><a href="ffplay_8c.html#a44a40fe2c4bc2dd0c80c3215908ff7ae">frame_queue_peek_next</a></div><div class="ttdeci">static Frame * frame_queue_peek_next(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00698">ffplay.c:698</a></div></div>
<div class="ttc" id="ffplay_8c_html_a9e52fb3ac57bb21ed32f14311a0634fd"><div class="ttname"><a href="ffplay_8c.html#a9e52fb3ac57bb21ed32f14311a0634fd">audio_thread</a></div><div class="ttdeci">static int audio_thread(void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02022">ffplay.c:2022</a></div></div>
<div class="ttc" id="group__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdoc">Set the given entry in *pm, overwriting an existing entry. </div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="ffplay_8c_html_a4de645858d1c582d871644b355266130"><div class="ttname"><a href="ffplay_8c.html#a4de645858d1c582d871644b355266130">av_sync_type</a></div><div class="ttdeci">static int av_sync_type</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00327">ffplay.c:327</a></div></div>
<div class="ttc" id="structDecoder_html_abc553baa81ecf64bcddd10ac1143cb8d"><div class="ttname"><a href="structDecoder.html#abc553baa81ecf64bcddd10ac1143cb8d">Decoder::pkt_serial</a></div><div class="ttdeci">int pkt_serial</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00195">ffplay.c:195</a></div></div>
<div class="ttc" id="audio__convert_8c_html_ab92ad91055387e15b43ff5f6f60f2895"><div class="ttname"><a href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a></div><div class="ttdeci">uint8_t pi&lt;&lt; 24) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0f/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S16, int16_t,(*(const int16_t *) pi &gt;&gt; 8)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0f/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S32, int32_t,(*(const int32_t *) pi &gt;&gt; 24)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0f/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_FLT, float, av_clip_uint8(lrintf(*(const float *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_FLT, float, av_clip_int16(lrintf(*(const float *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_FLT, float, av_clipl_int32(llrintf(*(const float *) pi *(1U&lt;&lt; 31)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_DBL, double, av_clip_uint8(lrint(*(const double *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_DBL, double, av_clip_int16(lrint(*(const double *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_DBL, double, av_clipl_int32(llrint(*(const double *) pi *(1U&lt;&lt; 31)))) #define SET_CONV_FUNC_GROUP(ofmt, ifmt) static void set_generic_function(AudioConvert *ac) { } void ff_audio_convert_free(AudioConvert **ac) { if(! *ac) return;ff_dither_free(&amp;(*ac) -&gt;dc);av_freep(ac);} AudioConvert *ff_audio_convert_alloc(AVAudioResampleContext *avr, enum AVSampleFormat out_fmt, enum AVSampleFormat in_fmt, int channels, int sample_rate, int apply_map) { AudioConvert *ac;int in_planar, out_planar;ac=av_mallocz(sizeof(*ac));if(!ac) return NULL;ac-&gt;avr=avr;ac-&gt;out_fmt=out_fmt;ac-&gt;in_fmt=in_fmt;ac-&gt;channels=channels;ac-&gt;apply_map=apply_map;if(avr-&gt;dither_method !=AV_RESAMPLE_DITHER_NONE &amp;&amp;av_get_packed_sample_fmt(out_fmt)==AV_SAMPLE_FMT_S16 &amp;&amp;av_get_bytes_per_sample(in_fmt) &gt; 2) { ac-&gt;dc=ff_dither_alloc(avr, out_fmt, in_fmt, channels, sample_rate, apply_map);if(!ac-&gt;dc) { av_free(ac);return NULL;} return ac;} in_planar=ff_sample_fmt_is_planar(in_fmt, channels);out_planar=ff_sample_fmt_is_planar(out_fmt, channels);if(in_planar==out_planar) { ac-&gt;func_type=CONV_FUNC_TYPE_FLAT;ac-&gt;planes=in_planar ? ac-&gt;channels :1;} else if(in_planar) ac-&gt;func_type=CONV_FUNC_TYPE_INTERLEAVE;else ac-&gt;func_type=CONV_FUNC_TYPE_DEINTERLEAVE;set_generic_function(ac);if(ARCH_AARCH64) ff_audio_convert_init_aarch64(ac);if(ARCH_ARM) ff_audio_convert_init_arm(ac);if(ARCH_X86) ff_audio_convert_init_x86(ac);return ac;} int ff_audio_convert(AudioConvert *ac, AudioData *out, AudioData *in) { int use_generic=1;int len=in-&gt;nb_samples;int p;if(ac-&gt;dc) { av_log(ac-&gt;avr, AV_LOG_TRACE, &quot;%d samples - audio_convert: %s to %s (dithered)\&quot;, len, av_get_sample_fmt_name(ac-&gt;in_fmt), av_get_sample_fmt_name(ac-&gt;out_fmt));return ff_convert_dither(ac-&gt; in</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="ffplay_8c_html_adc63167ca22b6651f100f369a7e48e03"><div class="ttname"><a href="ffplay_8c.html#adc63167ca22b6651f100f369a7e48e03">frame_queue_signal</a></div><div class="ttdeci">static void frame_queue_signal(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00686">ffplay.c:686</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_a6bd2bb5fcc7628a640958994a22f997c"><div class="ttname"><a href="tests_2movenc_8c.html#a6bd2bb5fcc7628a640958994a22f997c">format</a></div><div class="ttdeci">static const char * format</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00047">movenc.c:47</a></div></div>
<div class="ttc" id="dca__lbr_8c_html_a3e70a65f622cd9cd1b7ea3d2a19bca5d"><div class="ttname"><a href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a></div><div class="ttdeci">static const uint16_t channel_layouts[7]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00118">dca_lbr.c:118</a></div></div>
<div class="ttc" id="structAVFrame_html_ac85daa1316e1f47e78da0ca19b7c60e6"><div class="ttname"><a href="structAVFrame.html#ac85daa1316e1f47e78da0ca19b7c60e6">AVFrame::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">Sample rate of the audio data. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00354">frame.h:354</a></div></div>
<div class="ttc" id="ffmpeg_8h_html_adfc4727f627c5abd0aa843206d046ec6"><div class="ttname"><a href="ffmpeg_8h.html#adfc4727f627c5abd0aa843206d046ec6">configure_filtergraph</a></div><div class="ttdeci">int configure_filtergraph(FilterGraph *fg)</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00977">ffmpeg_filter.c:977</a></div></div>
<div class="ttc" id="ffplay_8c_html_ac9e58b761a99bd638eb0a8a280eafe9b"><div class="ttname"><a href="ffplay_8c.html#ac9e58b761a99bd638eb0a8a280eafe9b">free_picture</a></div><div class="ttdeci">static void free_picture(Frame *vp)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00801">ffplay.c:801</a></div></div>
<div class="ttc" id="group__lavu__frame_html_gac252f01dc52f96b5faf9466ecbe5c150"><div class="ttname"><a href="group__lavu__frame.html#gac252f01dc52f96b5faf9466ecbe5c150">av_frame_get_channels</a></div><div class="ttdeci">int av_frame_get_channels(const AVFrame *frame)</div></div>
<div class="ttc" id="structrect_html"><div class="ttname"><a href="structrect.html">rect</a></div><div class="ttdef"><b>Definition:</b> <a href="f__ebur128_8c_source.html#l00091">f_ebur128.c:91</a></div></div>
<div class="ttc" id="structAVFilterInOut_html_a386ff90d40aa22f5612dd5eca734ed48"><div class="ttname"><a href="structAVFilterInOut.html#a386ff90d40aa22f5612dd5eca734ed48">AVFilterInOut::pad_idx</a></div><div class="ttdeci">int pad_idx</div><div class="ttdoc">index of the filt_ctx pad to use for linking </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l01002">avfilter.h:1002</a></div></div>
<div class="ttc" id="structVideoState_html_ad7ee1422ebb4d8917a285baeb126bbce"><div class="ttname"><a href="structVideoState.html#ad7ee1422ebb4d8917a285baeb126bbce">VideoState::audioq</a></div><div class="ttdeci">PacketQueue audioq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00245">ffplay.c:245</a></div></div>
<div class="ttc" id="structDecoder_html_a57499e0d747f57ef7f9dfc878ba7a87c"><div class="ttname"><a href="structDecoder.html#a57499e0d747f57ef7f9dfc878ba7a87c">Decoder::packet_pending</a></div><div class="ttdeci">int packet_pending</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00197">ffplay.c:197</a></div></div>
<div class="ttc" id="ffplay_8c_html_abd872872d42fcfa6f18f0850ed75c244"><div class="ttname"><a href="ffplay_8c.html#abd872872d42fcfa6f18f0850ed75c244">video_open</a></div><div class="ttdeci">static int video_open(VideoState *is, Frame *vp)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01260">ffplay.c:1260</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_gaa7368bc4e3a366b688e81938ed55eb06"><div class="ttname"><a href="group__lavu__sampfmts.html#gaa7368bc4e3a366b688e81938ed55eb06">av_samples_get_buffer_size</a></div><div class="ttdeci">int av_samples_get_buffer_size(int *linesize, int nb_channels, int nb_samples, enum AVSampleFormat sample_fmt, int align)</div><div class="ttdoc">Get the required buffer size for the given audio parameters. </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00119">samplefmt.c:119</a></div></div>
<div class="ttc" id="structVideoState_html_a72a4754ebe0a02c8c56b6007352e122d"><div class="ttname"><a href="structVideoState.html#a72a4754ebe0a02c8c56b6007352e122d">VideoState::seek_pos</a></div><div class="ttdeci">int64_t seek_pos</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00216">ffplay.c:216</a></div></div>
<div class="ttc" id="structAVRational_html"><div class="ttname"><a href="structAVRational.html">AVRational</a></div><div class="ttdoc">Rational number (pair of numerator and denominator). </div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa73f463e749eb5e83ab5355ec79b958d"><div class="ttname"><a href="ffplay_8c.html#aa73f463e749eb5e83ab5355ec79b958d">AV_SYNC_THRESHOLD_MIN</a></div><div class="ttdeci">#define AV_SYNC_THRESHOLD_MIN</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00080">ffplay.c:80</a></div></div>
<div class="ttc" id="libm_8h_html_a2e1baae9134e580910322362dc23290e"><div class="ttname"><a href="libm_8h.html#a2e1baae9134e580910322362dc23290e">isnan</a></div><div class="ttdeci">#define isnan(x)</div><div class="ttdef"><b>Definition:</b> <a href="libm_8h_source.html#l00340">libm.h:340</a></div></div>
<div class="ttc" id="structFrame_html_ae5e8dd5337f65b8df12e856d17f91e3d"><div class="ttname"><a href="structFrame.html#ae5e8dd5337f65b8df12e856d17f91e3d">Frame::allocated</a></div><div class="ttdeci">int allocated</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00162">ffplay.c:162</a></div></div>
<div class="ttc" id="structVideoState_html_ac6e6b48b574ecee0e3aba91866a744a4"><div class="ttname"><a href="structVideoState.html#ac6e6b48b574ecee0e3aba91866a744a4">VideoState::sub_convert_ctx</a></div><div class="ttdeci">struct SwsContext * sub_convert_ctx</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00290">ffplay.c:290</a></div></div>
<div class="ttc" id="opt_8h_html_aad820197915e73441f76f5e0c384d78a"><div class="ttname"><a href="opt_8h.html#aad820197915e73441f76f5e0c384d78a">AV_OPT_FLAG_DECODING_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_DECODING_PARAM</div><div class="ttdoc">a generic parameter which can be set by the user for demuxing or decoding </div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00277">opt.h:277</a></div></div>
<div class="ttc" id="cmdutils_8c_html_aa60d6deab0047c29fc1f6602f812774f"><div class="ttname"><a href="cmdutils_8c.html#aa60d6deab0047c29fc1f6602f812774f">parse_time_or_die</a></div><div class="ttdeci">int64_t parse_time_or_die(const char *context, const char *timestr, int is_duration)</div><div class="ttdoc">Parse a string specifying a time and return its corresponding value as a number of microseconds...</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00164">cmdutils.c:164</a></div></div>
<div class="ttc" id="cmdutils_8h_html_a91fea349332c05eb78ce3c17202e1dc9"><div class="ttname"><a href="cmdutils_8h.html#a91fea349332c05eb78ce3c17202e1dc9">OPT_STRING</a></div><div class="ttdeci">#define OPT_STRING</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00171">cmdutils.h:171</a></div></div>
<div class="ttc" id="ffplay_8c_html_a6f78060cdbb40aaf255dec0e76c40a7e"><div class="ttname"><a href="ffplay_8c.html#a6f78060cdbb40aaf255dec0e76c40a7e">video_audio_display</a></div><div class="ttdeci">static void video_audio_display(VideoState *s)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00991">ffplay.c:991</a></div></div>
<div class="ttc" id="structPacketQueue_html_a8e900098f927e7052d7304438a1bdeea"><div class="ttname"><a href="structPacketQueue.html#a8e900098f927e7052d7304438a1bdeea">PacketQueue::cond</a></div><div class="ttdeci">SDL_cond * cond</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00126">ffplay.c:126</a></div></div>
<div class="ttc" id="ffplay_8c_html_a576dc64950c7737d26131da97afb1fbf"><div class="ttname"><a href="ffplay_8c.html#a576dc64950c7737d26131da97afb1fbf">EXTERNAL_CLOCK_SPEED_MAX</a></div><div class="ttdeci">#define EXTERNAL_CLOCK_SPEED_MAX</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00093">ffplay.c:93</a></div></div>
<div class="ttc" id="avformat_8h_html_a754de906e0da116c009846547741f869"><div class="ttname"><a href="avformat_8h.html#a754de906e0da116c009846547741f869">AVSEEK_FLAG_BYTE</a></div><div class="ttdeci">#define AVSEEK_FLAG_BYTE</div><div class="ttdoc">seeking based on position in bytes </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02409">avformat.h:2409</a></div></div>
<div class="ttc" id="ffplay_8c_html_a09fd32cf1173473a29fd8a3d9eb3a785"><div class="ttname"><a href="ffplay_8c.html#a09fd32cf1173473a29fd8a3d9eb3a785">decoder_decode_frame</a></div><div class="ttdeci">static int decoder_decode_frame(Decoder *d, AVFrame *frame, AVSubtitle *sub)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00559">ffplay.c:559</a></div></div>
<div class="ttc" id="group__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a81453d8c452e8ee794daf7fde1c80b5b">AVDISCARD_DEFAULT</a></div><div class="ttdoc">discard useless packets like 0 size packets in avi </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00786">avcodec.h:786</a></div></div>
<div class="ttc" id="avstring_8c_html_a98e5858f933c6e6be64f03a76e22b272"><div class="ttname"><a href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a></div><div class="ttdeci">size_t av_strlcatf(char *dst, size_t size, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00101">avstring.c:101</a></div></div>
<div class="ttc" id="ffplay_8c_html_a06e2098cddf2ea5a26708b63e5c83a3a"><div class="ttname"><a href="ffplay_8c.html#a06e2098cddf2ea5a26708b63e5c83a3a">is_realtime</a></div><div class="ttdeci">static int is_realtime(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02734">ffplay.c:2734</a></div></div>
<div class="ttc" id="ffplay_8c_html_aebe1b90f0dd43f1c0a46bc0c7af49b9d"><div class="ttname"><a href="ffplay_8c.html#aebe1b90f0dd43f1c0a46bc0c7af49b9d">check_external_clock_speed</a></div><div class="ttdeci">static void check_external_clock_speed(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01408">ffplay.c:1408</a></div></div>
<div class="ttc" id="structVideoState_html_af1e30a55716b4157320d6b808bbfe492"><div class="ttname"><a href="structVideoState.html#af1e30a55716b4157320d6b808bbfe492">VideoState::queue_attachments_req</a></div><div class="ttdeci">int queue_attachments_req</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00213">ffplay.c:213</a></div></div>
<div class="ttc" id="structPacketQueue_html"><div class="ttname"><a href="structPacketQueue.html">PacketQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00118">ffplay.c:118</a></div></div>
<div class="ttc" id="structAVFilterGraph_html_a0ba5c820c760788ea5f8e40c476f9704"><div class="ttname"><a href="structAVFilterGraph.html#a0ba5c820c760788ea5f8e40c476f9704">AVFilterGraph::nb_filters</a></div><div class="ttdeci">unsigned nb_filters</div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00822">avfilter.h:822</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga11f785a188d7d9df71621001465b0f1d"><div class="ttname"><a href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a></div><div class="ttdeci">int avcodec_open2(AVCodecContext *avctx, const AVCodec *codec, AVDictionary **options)</div><div class="ttdoc">Initialize the AVCodecContext to use the given AVCodec. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01242">utils.c:1242</a></div></div>
<div class="ttc" id="snprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="ffplay_8c_html_a88fa7a9ea6d59fcb243fd5de55ab8631"><div class="ttname"><a href="ffplay_8c.html#a88fa7a9ea6d59fcb243fd5de55ab8631">frame_queue_unref_item</a></div><div class="ttdeci">static void frame_queue_unref_item(Frame *vp)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00646">ffplay.c:646</a></div></div>
<div class="ttc" id="structAVIOContext_html_afb903b1d9614bfb59e8cc5213de3777b"><div class="ttname"><a href="structAVIOContext.html#afb903b1d9614bfb59e8cc5213de3777b">AVIOContext::error</a></div><div class="ttdeci">int error</div><div class="ttdoc">contains the error code or 0 if no error happened </div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00228">avio.h:228</a></div></div>
<div class="ttc" id="parseutils_8h_html"><div class="ttname"><a href="parseutils_8h.html">parseutils.h</a></div><div class="ttdoc">misc parsing utilities </div></div>
<div class="ttc" id="structDecoder_html_a02e8fbcac6b3a6421da001f8cb77c8a5"><div class="ttname"><a href="structDecoder.html#a02e8fbcac6b3a6421da001f8cb77c8a5">Decoder::empty_queue_cond</a></div><div class="ttdeci">SDL_cond * empty_queue_cond</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00198">ffplay.c:198</a></div></div>
<div class="ttc" id="ffplay_8c_html_a1d23f3b4b0b5c1d96380f0a42ffa1890"><div class="ttname"><a href="ffplay_8c.html#a1d23f3b4b0b5c1d96380f0a42ffa1890">FF_ALLOC_EVENT</a></div><div class="ttdeci">#define FF_ALLOC_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00360">ffplay.c:360</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_ga4fdb3084415a82e3810de6ee60e46a61"><div class="ttname"><a href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61">av_read_frame</a></div><div class="ttdeci">int av_read_frame(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdoc">Return the next frame of a stream. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01695">utils.c:1695</a></div></div>
<div class="ttc" id="structVideoState_html_a488ea010af91f029952a907a204edc9a"><div class="ttname"><a href="structVideoState.html#a488ea010af91f029952a907a204edc9a">VideoState::audio_stream</a></div><div class="ttdeci">int audio_stream</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00234">ffplay.c:234</a></div></div>
<div class="ttc" id="libkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00262">libkvazaar.c:262</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_ga3b40fc8d2fda6992ae6ea2567d71ba30"><div class="ttname"><a href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a></div><div class="ttdeci">int avformat_seek_file(AVFormatContext *s, int stream_index, int64_t min_ts, int64_t ts, int64_t max_ts, int flags)</div><div class="ttdoc">Seek to timestamp ts. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02454">utils.c:2454</a></div></div>
<div class="ttc" id="cmdutils_8c_html_aee611299e84dab23d614366f993e96ae"><div class="ttname"><a href="cmdutils_8c.html#aee611299e84dab23d614366f993e96ae">parse_number_or_die</a></div><div class="ttdeci">double parse_number_or_die(const char *context, const char *numstr, int type, double min, double max)</div><div class="ttdoc">Parse a string and return its corresponding value as a double. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00143">cmdutils.c:143</a></div></div>
<div class="ttc" id="ffplay_8c_html_aace6c0812813972836bb4ff5ba50ef9c"><div class="ttname"><a href="ffplay_8c.html#aace6c0812813972836bb4ff5ba50ef9c">stream_component_open</a></div><div class="ttdeci">static int stream_component_open(VideoState *is, int stream_index)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02562">ffplay.c:2562</a></div></div>
<div class="ttc" id="structAVFilterInOut_html_a88afecac258f51aab7e9a9db9e7a4d58"><div class="ttname"><a href="structAVFilterInOut.html#a88afecac258f51aab7e9a9db9e7a4d58">AVFilterInOut::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">unique name for this input/output in the list </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00996">avfilter.h:996</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa08b1ef042a5d640455e981851d96af9"><div class="ttname"><a href="ffplay_8c.html#aa08b1ef042a5d640455e981851d96af9">cursor_last_shown</a></div><div class="ttdeci">static int64_t cursor_last_shown</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00345">ffplay.c:345</a></div></div>
<div class="ttc" id="ffplay_8c_html_a855ab2375fbb1acfb5b52096dafafb72"><div class="ttname"><a href="ffplay_8c.html#a855ab2375fbb1acfb5b52096dafafb72">frame_queue_init</a></div><div class="ttdeci">static int frame_queue_init(FrameQueue *f, PacketQueue *pktq, int max_size, int keep_last)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00652">ffplay.c:652</a></div></div>
<div class="ttc" id="ffplay_8c_html_a466ed77cf72c1c1476d5714a9b2380c4"><div class="ttname"><a href="ffplay_8c.html#a466ed77cf72c1c1476d5714a9b2380c4">opt_frame_size</a></div><div class="ttdeci">static int opt_frame_size(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03473">ffplay.c:3473</a></div></div>
<div class="ttc" id="structAudioParams_html"><div class="ttname"><a href="structAudioParams.html">AudioParams</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00134">ffplay.c:134</a></div></div>
<div class="ttc" id="group__lavu__frame_html_ga0a2b687f9c1c5ed0089b01fd61227108"><div class="ttname"><a href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a></div><div class="ttdeci">void av_frame_unref(AVFrame *frame)</div><div class="ttdoc">Unreference all the buffers referenced by frame and reset the frame fields. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00495">frame.c:495</a></div></div>
<div class="ttc" id="transcode__aac_8c_html_a4fbb704fb96c36a78a36eee010306ce7"><div class="ttname"><a href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a></div><div class="ttdeci">static int64_t pts</div><div class="ttdoc">Global timestamp for the audio frames. </div><div class="ttdef"><b>Definition:</b> <a href="transcode__aac_8c_source.html#l00579">transcode_aac.c:579</a></div></div>
<div class="ttc" id="time_8c_html_adf0e36df54426fa167e3cc5a3406f3b7"><div class="ttname"><a href="time_8c.html#adf0e36df54426fa167e3cc5a3406f3b7">av_gettime_relative</a></div><div class="ttdeci">int64_t av_gettime_relative(void)</div><div class="ttdoc">Get the current time in microseconds since some unspecified starting point. </div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00056">time.c:56</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gaf21645cfa855b2caf9699d7dc7b2d08e"><div class="ttname"><a href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a></div><div class="ttdeci">const char * av_get_media_type_string(enum AVMediaType media_type)</div><div class="ttdoc">Return a string describing the media_type enum, NULL if media_type is unknown. </div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2utils_8c_source.html#l00079">utils.c:79</a></div></div>
<div class="ttc" id="group__lavc__decoding_html_ga776f2359007e8457799503068419e791"><div class="ttname"><a href="group__lavc__decoding.html#ga776f2359007e8457799503068419e791">avcodec_find_decoder_by_name</a></div><div class="ttdeci">AVCodec * avcodec_find_decoder_by_name(const char *name)</div><div class="ttdoc">Find a registered decoder with the specified name. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l03134">utils.c:3134</a></div></div>
<div class="ttc" id="structFrameQueue_html"><div class="ttname"><a href="structFrameQueue.html">FrameQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00171">ffplay.c:171</a></div></div>
<div class="ttc" id="ffplay_8c_html_aeb36d2c84818a189f97d38d4348e1e5b"><div class="ttname"><a href="ffplay_8c.html#aeb36d2c84818a189f97d38d4348e1e5b">queue_picture</a></div><div class="ttdeci">static int queue_picture(VideoState *is, AVFrame *src_frame, double pts, double duration, int64_t pos, int serial)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01713">ffplay.c:1713</a></div></div>
<div class="ttc" id="structVideoState_html_af48cfe117f6c97e40239e913f021dce1"><div class="ttname"><a href="structVideoState.html#af48cfe117f6c97e40239e913f021dce1">VideoState::sub_texture</a></div><div class="ttdeci">SDL_Texture * sub_texture</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00276">ffplay.c:276</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a2590129e00adfa726ab2033a10e905e9"><div class="ttname"><a href="structAVFormatContext.html#a2590129e00adfa726ab2033a10e905e9">AVFormatContext::start_time</a></div><div class="ttdeci">int64_t start_time</div><div class="ttdoc">Position of the first frame of the component, in AV_TIME_BASE fractional seconds. ...</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01423">avformat.h:1423</a></div></div>
<div class="ttc" id="structAVFrame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="structAVFrame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdoc">pointer to the picture/channel planes. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00204">frame.h:204</a></div></div>
<div class="ttc" id="libswresample_2audioconvert_8c_html_abe016636a492e676374eb55cb06824e0"><div class="ttname"><a href="libswresample_2audioconvert_8c.html#abe016636a492e676374eb55cb06824e0">ch</a></div><div class="ttdeci">uint8_t pi&lt;&lt; 24) CONV_FUNC(AV_SAMPLE_FMT_S64, int64_t, AV_SAMPLE_FMT_U8,(uint64_t)((*(const uint8_t *) pi - 0x80U))&lt;&lt; 56) CONV_FUNC(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_U8,(*(const uint8_t *) pi - 0x80) *(1.0f/(1&lt;&lt; 7))) CONV_FUNC(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_U8,(*(const uint8_t *) pi - 0x80) *(1.0/(1&lt;&lt; 7))) CONV_FUNC(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S16,(*(const int16_t *) pi &gt;&gt;8)+0x80) CONV_FUNC(AV_SAMPLE_FMT_S64, int64_t, AV_SAMPLE_FMT_S16,(uint64_t)(*(const int16_t *) pi)&lt;&lt; 48) CONV_FUNC(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S16, *(const int16_t *) pi *(1.0f/(1&lt;&lt; 15))) CONV_FUNC(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S16, *(const int16_t *) pi *(1.0/(1&lt;&lt; 15))) CONV_FUNC(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S32,(*(const int32_t *) pi &gt;&gt;24)+0x80) CONV_FUNC(AV_SAMPLE_FMT_S64, int64_t, AV_SAMPLE_FMT_S32,(uint64_t)(*(const int32_t *) pi)&lt;&lt; 32) CONV_FUNC(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S32, *(const int32_t *) pi *(1.0f/(1U&lt;&lt; 31))) CONV_FUNC(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S32, *(const int32_t *) pi *(1.0/(1U&lt;&lt; 31))) CONV_FUNC(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S64,(*(const int64_t *) pi &gt;&gt;56)+0x80) CONV_FUNC(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S64, *(const int64_t *) pi *(1.0f/(INT64_C(1)&lt;&lt; 63))) CONV_FUNC(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S64, *(const int64_t *) pi *(1.0/(INT64_C(1)&lt;&lt; 63))) CONV_FUNC(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_FLT, av_clip_uint8(lrintf(*(const float *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_FLT, av_clip_int16(lrintf(*(const float *) pi *(1&lt;&lt; 15)))) CONV_FUNC(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_FLT, av_clipl_int32(llrintf(*(const float *) pi *(1U&lt;&lt; 31)))) CONV_FUNC(AV_SAMPLE_FMT_S64, int64_t, AV_SAMPLE_FMT_FLT, llrintf(*(const float *) pi *(INT64_C(1)&lt;&lt; 63))) CONV_FUNC(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_DBL, av_clip_uint8(lrint(*(const double *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_DBL, av_clip_int16(lrint(*(const double *) pi *(1&lt;&lt; 15)))) CONV_FUNC(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_DBL, av_clipl_int32(llrint(*(const double *) pi *(1U&lt;&lt; 31)))) CONV_FUNC(AV_SAMPLE_FMT_S64, int64_t, AV_SAMPLE_FMT_DBL, llrint(*(const double *) pi *(INT64_C(1)&lt;&lt; 63))) #define FMT_PAIR_FUNC(out, in) static conv_func_type *const fmt_pair_to_conv_functions[AV_SAMPLE_FMT_NB *AV_SAMPLE_FMT_NB]={ FMT_PAIR_FUNC(AV_SAMPLE_FMT_U8, AV_SAMPLE_FMT_U8), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S16, AV_SAMPLE_FMT_U8), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S32, AV_SAMPLE_FMT_U8), FMT_PAIR_FUNC(AV_SAMPLE_FMT_FLT, AV_SAMPLE_FMT_U8), FMT_PAIR_FUNC(AV_SAMPLE_FMT_DBL, AV_SAMPLE_FMT_U8), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S64, AV_SAMPLE_FMT_U8), FMT_PAIR_FUNC(AV_SAMPLE_FMT_U8, AV_SAMPLE_FMT_S16), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S16, AV_SAMPLE_FMT_S16), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S32, AV_SAMPLE_FMT_S16), FMT_PAIR_FUNC(AV_SAMPLE_FMT_FLT, AV_SAMPLE_FMT_S16), FMT_PAIR_FUNC(AV_SAMPLE_FMT_DBL, AV_SAMPLE_FMT_S16), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S64, AV_SAMPLE_FMT_S16), FMT_PAIR_FUNC(AV_SAMPLE_FMT_U8, AV_SAMPLE_FMT_S32), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S16, AV_SAMPLE_FMT_S32), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S32, AV_SAMPLE_FMT_S32), FMT_PAIR_FUNC(AV_SAMPLE_FMT_FLT, AV_SAMPLE_FMT_S32), FMT_PAIR_FUNC(AV_SAMPLE_FMT_DBL, AV_SAMPLE_FMT_S32), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S64, AV_SAMPLE_FMT_S32), FMT_PAIR_FUNC(AV_SAMPLE_FMT_U8, AV_SAMPLE_FMT_FLT), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S16, AV_SAMPLE_FMT_FLT), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S32, AV_SAMPLE_FMT_FLT), FMT_PAIR_FUNC(AV_SAMPLE_FMT_FLT, AV_SAMPLE_FMT_FLT), FMT_PAIR_FUNC(AV_SAMPLE_FMT_DBL, AV_SAMPLE_FMT_FLT), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S64, AV_SAMPLE_FMT_FLT), FMT_PAIR_FUNC(AV_SAMPLE_FMT_U8, AV_SAMPLE_FMT_DBL), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S16, AV_SAMPLE_FMT_DBL), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S32, AV_SAMPLE_FMT_DBL), FMT_PAIR_FUNC(AV_SAMPLE_FMT_FLT, AV_SAMPLE_FMT_DBL), FMT_PAIR_FUNC(AV_SAMPLE_FMT_DBL, AV_SAMPLE_FMT_DBL), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S64, AV_SAMPLE_FMT_DBL), FMT_PAIR_FUNC(AV_SAMPLE_FMT_U8, AV_SAMPLE_FMT_S64), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S16, AV_SAMPLE_FMT_S64), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S32, AV_SAMPLE_FMT_S64), FMT_PAIR_FUNC(AV_SAMPLE_FMT_FLT, AV_SAMPLE_FMT_S64), FMT_PAIR_FUNC(AV_SAMPLE_FMT_DBL, AV_SAMPLE_FMT_S64), FMT_PAIR_FUNC(AV_SAMPLE_FMT_S64, AV_SAMPLE_FMT_S64), };static void cpy1(uint8_t **dst, const uint8_t **src, int len){ memcpy(*dst, *src, len);} static void cpy2(uint8_t **dst, const uint8_t **src, int len){ memcpy(*dst, *src, 2 *len);} static void cpy4(uint8_t **dst, const uint8_t **src, int len){ memcpy(*dst, *src, 4 *len);} static void cpy8(uint8_t **dst, const uint8_t **src, int len){ memcpy(*dst, *src, 8 *len);} AudioConvert *swri_audio_convert_alloc(enum AVSampleFormat out_fmt, enum AVSampleFormat in_fmt, int channels, const int *ch_map, int flags) { AudioConvert *ctx;conv_func_type *f=fmt_pair_to_conv_functions[av_get_packed_sample_fmt(out_fmt)+AV_SAMPLE_FMT_NB *av_get_packed_sample_fmt(in_fmt)];if(!f) return NULL;ctx=av_mallocz(sizeof(*ctx));if(!ctx) return NULL;if(channels==1){ in_fmt=av_get_planar_sample_fmt(in_fmt);out_fmt=av_get_planar_sample_fmt(out_fmt);} ctx-&gt;channels=channels;ctx-&gt;conv_f=f;ctx-&gt;ch_map=ch_map;if(in_fmt==AV_SAMPLE_FMT_U8||in_fmt==AV_SAMPLE_FMT_U8P) memset(ctx-&gt;silence, 0x80, sizeof(ctx-&gt;silence));if(out_fmt==in_fmt &amp;&amp;!ch_map) { switch(av_get_bytes_per_sample(in_fmt)){ case 1:ctx-&gt;simd_f=cpy1;break;case 2:ctx-&gt;simd_f=cpy2;break;case 4:ctx-&gt;simd_f=cpy4;break;case 8:ctx-&gt;simd_f=cpy8;break;} } if(HAVE_YASM &amp;&amp;HAVE_MMX) swri_audio_convert_init_x86(ctx, out_fmt, in_fmt, channels);if(ARCH_ARM) swri_audio_convert_init_arm(ctx, out_fmt, in_fmt, channels);if(ARCH_AARCH64) swri_audio_convert_init_aarch64(ctx, out_fmt, in_fmt, channels);return ctx;} void swri_audio_convert_free(AudioConvert **ctx) { av_freep(ctx);} int swri_audio_convert(AudioConvert *ctx, AudioData *out, AudioData *in, int len) { int ch;int off=0;const int os=(out-&gt;planar ? 1 :out-&gt;ch_count) *out-&gt;bps;unsigned misaligned=0;av_assert0(ctx-&gt;channels==out-&gt;ch_count);if(ctx-&gt;in_simd_align_mask) { int planes=in-&gt;planar ? in-&gt;ch_count :1;unsigned m=0;for(ch=0;ch&lt; planes;ch++) m|=(intptr_t) in-&gt;ch[ch];misaligned|=m &amp;ctx-&gt;in_simd_align_mask;} if(ctx-&gt;out_simd_align_mask) { int planes=out-&gt;planar ? out-&gt;ch_count :1;unsigned m=0;for(ch=0;ch&lt; planes;ch++) m|=(intptr_t) out-&gt;ch[ch];misaligned|=m &amp;ctx-&gt;out_simd_align_mask;} if(ctx-&gt;simd_f &amp;&amp;!ctx-&gt;ch_map &amp;&amp;!misaligned){ off=len &amp;~15;av_assert1(off &gt;=0);av_assert1(off&lt;=len);av_assert2(ctx-&gt;channels==SWR_CH_MAX||!in-&gt;ch[ctx-&gt;channels]);if(off &gt;0){ if(out-&gt;planar==in-&gt;planar){ int planes=out-&gt;planar ? out-&gt;ch_count :1;for(ch=0;ch&lt; planes;ch++){ ctx-&gt;simd_f(out-&gt; ch ch</div><div class="ttdef"><b>Definition:</b> <a href="libswresample_2audioconvert_8c_source.html#l00056">audioconvert.c:56</a></div></div>
<div class="ttc" id="structVideoState_html_a859e5bd5722c4f6f9a0d2c65b1bc82e9"><div class="ttname"><a href="structVideoState.html#a859e5bd5722c4f6f9a0d2c65b1bc82e9">VideoState::frame_drops_early</a></div><div class="ttdeci">int frame_drops_early</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00261">ffplay.c:261</a></div></div>
<div class="ttc" id="limits_8h_html"><div class="ttname"><a href="limits_8h.html">limits.h</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_ga0c3c218e1dd570ad4917c69a35a6c77d"><div class="ttname"><a href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a></div><div class="ttdeci">int av_get_bytes_per_sample(enum AVSampleFormat sample_fmt)</div><div class="ttdoc">Return number of bytes per sample. </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00106">samplefmt.c:106</a></div></div>
<div class="ttc" id="ffplay_8c_html_af96730093feb8a2e78bf47c632a0f93c"><div class="ttname"><a href="ffplay_8c.html#af96730093feb8a2e78bf47c632a0f93c">synchronize_audio</a></div><div class="ttdeci">static int synchronize_audio(VideoState *is, int nb_samples)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02284">ffplay.c:2284</a></div></div>
<div class="ttc" id="ffplay_8c_html_acbd863531432d0fc43f6e820491dbd4b"><div class="ttname"><a href="ffplay_8c.html#acbd863531432d0fc43f6e820491dbd4b">EXTERNAL_CLOCK_MIN_FRAMES</a></div><div class="ttdeci">#define EXTERNAL_CLOCK_MIN_FRAMES</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00068">ffplay.c:68</a></div></div>
<div class="ttc" id="structVideoState_html_a665e4a24e23ea21f198f1c593f686c71"><div class="ttname"><a href="structVideoState.html#a665e4a24e23ea21f198f1c593f686c71">VideoState::sample_array_index</a></div><div class="ttdeci">int sample_array_index</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00268">ffplay.c:268</a></div></div>
<div class="ttc" id="structVideoState_html_a8ce9884704a87f1667b91f36b1a68b9a"><div class="ttname"><a href="structVideoState.html#a8ce9884704a87f1667b91f36b1a68b9a">VideoState::continue_read_thread</a></div><div class="ttdeci">SDL_cond * continue_read_thread</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00308">ffplay.c:308</a></div></div>
<div class="ttc" id="structAVChapter_html_a499a5062224e22249be6f2d16f74c449"><div class="ttname"><a href="structAVChapter.html#a499a5062224e22249be6f2d16f74c449">AVChapter::start</a></div><div class="ttdeci">int64_t start</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01298">avformat.h:1298</a></div></div>
<div class="ttc" id="ffplay_8c_html_a70ec4ee0dcbfd783c6dae3cd2b561615"><div class="ttname"><a href="ffplay_8c.html#a70ec4ee0dcbfd783c6dae3cd2b561615">frame_queue_destory</a></div><div class="ttdeci">static void frame_queue_destory(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00673">ffplay.c:673</a></div></div>
<div class="ttc" id="structAVCodecParameters_html_abfc9b0aa975206f7e77a125e6b78536e"><div class="ttname"><a href="structAVCodecParameters.html#abfc9b0aa975206f7e77a125e6b78536e">AVCodecParameters::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">Audio only. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l04109">avcodec.h:4109</a></div></div>
<div class="ttc" id="ffplay_8c_html_a720519e85482190779a6adcb941e3605"><div class="ttname"><a href="ffplay_8c.html#a720519e85482190779a6adcb941e3605">frame_queue_last_pos</a></div><div class="ttdeci">static int64_t frame_queue_last_pos(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00772">ffplay.c:772</a></div></div>
<div class="ttc" id="cmdutils_8h_html_a1b1c1cb0b866790034157479d6dd5da6"><div class="ttname"><a href="cmdutils_8h.html#a1b1c1cb0b866790034157479d6dd5da6">OPT_BOOL</a></div><div class="ttdeci">#define OPT_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00169">cmdutils.h:169</a></div></div>
<div class="ttc" id="structAVFrame_html_aa52951f35ec9e303d3dfeb4b3e44248a"><div class="ttname"><a href="structAVFrame.html#aa52951f35ec9e303d3dfeb4b3e44248a">AVFrame::pkt_dts</a></div><div class="ttdeci">int64_t pkt_dts</div><div class="ttdoc">DTS copied from the AVPacket that triggered returning this frame. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00290">frame.h:290</a></div></div>
<div class="ttc" id="structClock_html_aa412d65ee6a605e822e8ec9222e5a19c"><div class="ttname"><a href="structClock.html#aa412d65ee6a605e822e8ec9222e5a19c">Clock::speed</a></div><div class="ttdeci">double speed</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00147">ffplay.c:147</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa49ebbd788965b0f9cdef91d47a2a659"><div class="ttname"><a href="ffplay_8c.html#aa49ebbd788965b0f9cdef91d47a2a659">exit_on_mousedown</a></div><div class="ttdeci">static int exit_on_mousedown</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00336">ffplay.c:336</a></div></div>
<div class="ttc" id="group__lavd_html_ga7c90a3585267b55941ae2f7388c006b6"><div class="ttname"><a href="group__lavd.html#ga7c90a3585267b55941ae2f7388c006b6">avdevice_register_all</a></div><div class="ttdeci">void avdevice_register_all(void)</div><div class="ttdoc">Initialize libavdevice and register all the input and output devices. </div><div class="ttdef"><b>Definition:</b> <a href="alldevices_8c_source.html#l00040">alldevices.c:40</a></div></div>
<div class="ttc" id="libavcodec_2anm_8c_html_ac14d0b5f175e1c1c06f33693d8567695"><div class="ttname"><a href="libavcodec_2anm_8c.html#ac14d0b5f175e1c1c06f33693d8567695">op</a></div><div class="ttdeci">static int op(uint8_t **dst, const uint8_t *dst_end, GetByteContext *gb, int pixel, int count, int *x, int width, int linesize)</div><div class="ttdoc">Perform decode operation. </div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2anm_8c_source.html#l00078">anm.c:78</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga59f363ca5d22ad82adab3a5e6f520d10"><div class="ttname"><a href="group__lavc__core.html#ga59f363ca5d22ad82adab3a5e6f520d10">CODEC_FLAG_EMU_EDGE</a></div><div class="ttdeci">#define CODEC_FLAG_EMU_EDGE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01101">avcodec.h:1101</a></div></div>
<div class="ttc" id="avformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div><div class="ttdoc">Main libavformat public API header. </div></div>
<div class="ttc" id="cmdutils_8c_html_a2911387e778b01a25f0e65eabadf1b7b"><div class="ttname"><a href="cmdutils_8c.html#a2911387e778b01a25f0e65eabadf1b7b">print_error</a></div><div class="ttdeci">void print_error(const char *filename, int err)</div><div class="ttdoc">Print an error message to stderr, indicating filename and a human readable description of the error c...</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l01149">cmdutils.c:1149</a></div></div>
<div class="ttc" id="ffmpeg__filter_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00190">ffmpeg_filter.c:190</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples) </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00062">pixfmt.h:62</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa3dbd1716b69dfbd2c698ec7e0cc1240"><div class="ttname"><a href="ffplay_8c.html#aa3dbd1716b69dfbd2c698ec7e0cc1240">video_thread</a></div><div class="ttdeci">static int video_thread(void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02120">ffplay.c:2120</a></div></div>
<div class="ttc" id="cmdutils_8h_html_a55bdf11c33fc097533cde94b0f64024b"><div class="ttname"><a href="cmdutils_8h.html#a55bdf11c33fc097533cde94b0f64024b">OPT_INT</a></div><div class="ttdeci">#define OPT_INT</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00174">cmdutils.h:174</a></div></div>
<div class="ttc" id="structAVChapter_html"><div class="ttname"><a href="structAVChapter.html">AVChapter</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01295">avformat.h:1295</a></div></div>
<div class="ttc" id="group__lavfi_html_ga6e1c2931e15eb4283c59c6ccc8b83919"><div class="ttname"><a href="group__lavfi.html#ga6e1c2931e15eb4283c59c6ccc8b83919">avfilter_inout_alloc</a></div><div class="ttdeci">AVFilterInOut * avfilter_inout_alloc(void)</div><div class="ttdoc">Allocate a single AVFilterInOut entry. </div><div class="ttdef"><b>Definition:</b> <a href="graphparser_8c_source.html#l00182">graphparser.c:182</a></div></div>
<div class="ttc" id="ffplay_8c_html_a824efda2dffbf8b6d1f3efa67cb5d750"><div class="ttname"><a href="ffplay_8c.html#a824efda2dffbf8b6d1f3efa67cb5d750">set_default_window_size</a></div><div class="ttdeci">static void set_default_window_size(int width, int height, AVRational sar)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01252">ffplay.c:1252</a></div></div>
<div class="ttc" id="cmdutils_8c_html_aade971c14ebd8eacf328845208aad523"><div class="ttname"><a href="cmdutils_8c.html#aade971c14ebd8eacf328845208aad523">codec_opts</a></div><div class="ttdeci">AVDictionary * codec_opts</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00072">cmdutils.c:72</a></div></div>
<div class="ttc" id="structVideoState_html_a567e6cc2a23cf15ddbd81c31a2104cb3"><div class="ttname"><a href="structVideoState.html#a567e6cc2a23cf15ddbd81c31a2104cb3">VideoState::audio_tgt</a></div><div class="ttdeci">struct AudioParams audio_tgt</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00259">ffplay.c:259</a></div></div>
<div class="ttc" id="ffmpeg__filter_8c_html_a12ee30995b3ac94a573f01870d1289e8"><div class="ttname"><a href="ffmpeg__filter_8c.html#a12ee30995b3ac94a573f01870d1289e8">sample_rates</a></div><div class="ttdeci">sample_rates</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00190">ffmpeg_filter.c:190</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga99afa816f3fc9251ecf54ad305d43be3"><div class="ttname"><a href="group__lavc__core.html#ga99afa816f3fc9251ecf54ad305d43be3">av_codec_get_pkt_timebase</a></div><div class="ttdeci">AVRational av_codec_get_pkt_timebase(const AVCodecContext *avctx)</div></div>
<div class="ttc" id="group__lavc__misc_html_gga7a013315e444069ec9630ddf3edce3f8aee9ae55e2efe16565998e473c2a18935"><div class="ttname"><a href="group__lavc__misc.html#gga7a013315e444069ec9630ddf3edce3f8aee9ae55e2efe16565998e473c2a18935">AV_LOCK_DESTROY</a></div><div class="ttdoc">Free mutex resources. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l06169">avcodec.h:6169</a></div></div>
<div class="ttc" id="structVideoState_html_af4c79b5450bfce693960e57c5a0f3d8c"><div class="ttname"><a href="structVideoState.html#af4c79b5450bfce693960e57c5a0f3d8c">VideoState::audio_buf</a></div><div class="ttdeci">uint8_t * audio_buf</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00247">ffplay.c:247</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_ga7817ec0eff4dc6fc0962f31e6d138bca"><div class="ttname"><a href="group__lavu__sampfmts.html#ga7817ec0eff4dc6fc0962f31e6d138bca">av_get_packed_sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat av_get_packed_sample_fmt(enum AVSampleFormat sample_fmt)</div><div class="ttdoc">Get the packed alternative form of the given sample format. </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00075">samplefmt.c:75</a></div></div>
<div class="ttc" id="structVideoState_html_ab125e3f9d77644be4e019e371f241530"><div class="ttname"><a href="structVideoState.html#ab125e3f9d77644be4e019e371f241530">VideoState::muted</a></div><div class="ttdeci">int muted</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00254">ffplay.c:254</a></div></div>
<div class="ttc" id="ffplay_8c_html_a28fd059617a4b439ae4b5139410349b7"><div class="ttname"><a href="ffplay_8c.html#a28fd059617a4b439ae4b5139410349b7">display_disable</a></div><div class="ttdeci">static int display_disable</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00324">ffplay.c:324</a></div></div>
<div class="ttc" id="ffplay_8c_html_a351d6f966d54613c33de018b8b7c2ad7"><div class="ttname"><a href="ffplay_8c.html#a351d6f966d54613c33de018b8b7c2ad7">video_disable</a></div><div class="ttdeci">static int video_disable</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00320">ffplay.c:320</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_gad42172e27cddafb81096939783b157bb"><div class="ttname"><a href="group__lavf__decoding.html#gad42172e27cddafb81096939783b157bb">avformat_find_stream_info</a></div><div class="ttdeci">int avformat_find_stream_info(AVFormatContext *ic, AVDictionary **options)</div><div class="ttdoc">Read packets of a media file to get stream information. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03372">utils.c:3372</a></div></div>
<div class="ttc" id="structAVStream_html_a7c67ae70632c91df8b0f721658ec5377"><div class="ttname"><a href="structAVStream.html#a7c67ae70632c91df8b0f721658ec5377">AVStream::start_time</a></div><div class="ttdeci">int64_t start_time</div><div class="ttdoc">Decoding: pts of the first frame of the stream in presentation order, in stream time base...</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00936">avformat.h:936</a></div></div>
<div class="ttc" id="group__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a></div><div class="ttdoc">signed 16 bits </div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00061">samplefmt.h:61</a></div></div>
<div class="ttc" id="structVideoState_html_a6d3d90444ed787be70f38e3cfe57c182"><div class="ttname"><a href="structVideoState.html#a6d3d90444ed787be70f38e3cfe57c182">VideoState::audio_buf_index</a></div><div class="ttdeci">int audio_buf_index</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00251">ffplay.c:251</a></div></div>
<div class="ttc" id="structVideoState_html_a99ebb6a5ba5f12cf81bbaa3b1eb4c43e"><div class="ttname"><a href="structVideoState.html#a99ebb6a5ba5f12cf81bbaa3b1eb4c43e">VideoState::audio_buf1</a></div><div class="ttdeci">uint8_t * audio_buf1</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00248">ffplay.c:248</a></div></div>
<div class="ttc" id="ffplay_8c_html_a24f2899ac8599f88fb98a08b2bbee4c2"><div class="ttname"><a href="ffplay_8c.html#a24f2899ac8599f88fb98a08b2bbee4c2">opt_seek</a></div><div class="ttdeci">static int opt_seek(void *optctx, const char *opt, const char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03522">ffplay.c:3522</a></div></div>
<div class="ttc" id="group__lavu__dict_html_gafd013a88620b2da7d497b083f6ea7d29"><div class="ttname"><a href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a></div><div class="ttdeci">int av_dict_set_int(AVDictionary **pm, const char *key, int64_t value, int flags)</div><div class="ttdoc">Convenience wrapper for av_dict_set that converts the value to a string and stores it...</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00147">dict.c:147</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa4d434a8b93410ea0ed660e48dac41c6"><div class="ttname"><a href="ffplay_8c.html#aa4d434a8b93410ea0ed660e48dac41c6">screen_width</a></div><div class="ttdeci">static int screen_width</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00317">ffplay.c:317</a></div></div>
<div class="ttc" id="structFrameQueue_html_a3cfdc9fcca29f13e0307fdc57dfa90a9"><div class="ttname"><a href="structFrameQueue.html#a3cfdc9fcca29f13e0307fdc57dfa90a9">FrameQueue::pktq</a></div><div class="ttdeci">PacketQueue * pktq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00181">ffplay.c:181</a></div></div>
<div class="ttc" id="structAVStream_html_aea05abdb8e45405048d7923a68c23ef5"><div class="ttname"><a href="structAVStream.html#aea05abdb8e45405048d7923a68c23ef5">AVStream::disposition</a></div><div class="ttdeci">int disposition</div><div class="ttdoc">AV_DISPOSITION_* bit field. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00947">avformat.h:947</a></div></div>
<div class="ttc" id="structAVSubtitle_html_a271f635c9e734310a43277f819159c68"><div class="ttname"><a href="structAVSubtitle.html#a271f635c9e734310a43277f819159c68">AVSubtitle::start_display_time</a></div><div class="ttdeci">uint32_t start_display_time</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03977">avcodec.h:3977</a></div></div>
<div class="ttc" id="structAVInputFormat_html_a04a3b9ba459666bdb43628c472fa29bf"><div class="ttname"><a href="structAVInputFormat.html#a04a3b9ba459666bdb43628c472fa29bf">AVInputFormat::read_seek</a></div><div class="ttdeci">int(* read_seek)(struct AVFormatContext *, int stream_index, int64_t timestamp, int flags)</div><div class="ttdoc">Seek to a given timestamp relative to the frames in stream component stream_index. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00756">avformat.h:756</a></div></div>
<div class="ttc" id="structVideoState_html_aa68083ff379e17fb44a61d5b68f1c92e"><div class="ttname"><a href="structVideoState.html#aa68083ff379e17fb44a61d5b68f1c92e">VideoState::rdft_data</a></div><div class="ttdeci">FFTSample * rdft_data</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00272">ffplay.c:272</a></div></div>
<div class="ttc" id="ffplay_8c_html_a99b70e2f5350cd03ba0215bc6152a94d"><div class="ttname"><a href="ffplay_8c.html#a99b70e2f5350cd03ba0215bc6152a94d">update_video_pts</a></div><div class="ttdeci">static void update_video_pts(VideoState *is, double pts, int64_t pos, int serial)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01516">ffplay.c:1516</a></div></div>
<div class="ttc" id="structVideoState_html_ac0784c264a50efe01145667f4124e65d"><div class="ttname"><a href="structVideoState.html#ac0784c264a50efe01145667f4124e65d">VideoState::audio_clock_serial</a></div><div class="ttdeci">int audio_clock_serial</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00239">ffplay.c:239</a></div></div>
<div class="ttc" id="structAVChapter_html_acb5cb6ce9bb6b9f4b970a919f4899818"><div class="ttname"><a href="structAVChapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">AVChapter::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdoc">time base in which the start/end timestamps are specified </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01297">avformat.h:1297</a></div></div>
<div class="ttc" id="structAVFilterLink_html_aab7e446d3a652438d8a9d7c72a800f5b"><div class="ttname"><a href="structAVFilterLink.html#aab7e446d3a652438d8a9d7c72a800f5b">AVFilterLink::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdoc">channel layout of current buffer (see libavutil/channel_layout.h) </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00401">avfilter.h:401</a></div></div>
<div class="ttc" id="group__lavc__packet_html_gac9cb9756175b96e7441575803757fb73"><div class="ttname"><a href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a></div><div class="ttdeci">void av_init_packet(AVPacket *pkt)</div><div class="ttdoc">Initialize optional fields of a packet with default values. </div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00033">avpacket.c:33</a></div></div>
<div class="ttc" id="structAVDictionaryEntry_html_a38fc80176f8f839282bb61c03392e194"><div class="ttname"><a href="structAVDictionaryEntry.html#a38fc80176f8f839282bb61c03392e194">AVDictionaryEntry::key</a></div><div class="ttdeci">char * key</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00086">dict.h:86</a></div></div>
<div class="ttc" id="structAVRational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="structAVRational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator. </div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="cmdutils_8c_html_ac58552bde3a215ae94a3bd114577cbee"><div class="ttname"><a href="cmdutils_8c.html#ac58552bde3a215ae94a3bd114577cbee">uninit_opts</a></div><div class="ttdeci">void uninit_opts(void)</div><div class="ttdoc">Uninitialize the cmdutils option system, in particular free the *_opts contexts and their contents...</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00089">cmdutils.c:89</a></div></div>
<div class="ttc" id="structVideoState_html_aa478c8faf9db3a577faaa76b986e4115"><div class="ttname"><a href="structVideoState.html#aa478c8faf9db3a577faaa76b986e4115">VideoState::subtitleq</a></div><div class="ttdeci">PacketQueue subtitleq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00280">ffplay.c:280</a></div></div>
<div class="ttc" id="ffplay_8c_html_a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024"><div class="ttname"><a href="ffplay_8c.html#a77867ab4129f63159b37bca3b652a798a0ce2d1e18319abfd162e92ed7390f024">AV_SYNC_AUDIO_MASTER</a></div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00185">ffplay.c:185</a></div></div>
<div class="ttc" id="structAVFormatContext_html_a78efc5a53c21c8d81197445207ac4374"><div class="ttname"><a href="structAVFormatContext.html#a78efc5a53c21c8d81197445207ac4374">AVFormatContext::iformat</a></div><div class="ttdeci">struct AVInputFormat * iformat</div><div class="ttdoc">The input container format. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01350">avformat.h:1350</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_gae804b99aec044690162b8b9b110236a4"><div class="ttname"><a href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a></div><div class="ttdeci">void avformat_close_input(AVFormatContext **s)</div><div class="ttdoc">Close an opened input AVFormatContext. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04207">utils.c:4207</a></div></div>
<div class="ttc" id="ffplay_8c_html_aa17db53707ff07836c83b270c7613c1f"><div class="ttname"><a href="ffplay_8c.html#aa17db53707ff07836c83b270c7613c1f">lowres</a></div><div class="ttdeci">static int lowres</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00332">ffplay.c:332</a></div></div>
<div class="ttc" id="structVideoState_html_af580a1cda7e0dc8b2bfe61a959f2a149"><div class="ttname"><a href="structVideoState.html#af580a1cda7e0dc8b2bfe61a959f2a149">VideoState::eof</a></div><div class="ttdeci">int eof</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00291">ffplay.c:291</a></div></div>
<div class="ttc" id="cmdutils_8h_html_aa75501e4e249657d5f0df6d7e8645d4f"><div class="ttname"><a href="cmdutils_8h.html#aa75501e4e249657d5f0df6d7e8645d4f">GROW_ARRAY</a></div><div class="ttdeci">#define GROW_ARRAY(array, nb_elems)</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8h_source.html#l00592">cmdutils.h:592</a></div></div>
<div class="ttc" id="vf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00138">vf_palettegen.c:138</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="ffplay_8c_html_a1826741c5819eefb25ea63427304e4b9"><div class="ttname"><a href="ffplay_8c.html#a1826741c5819eefb25ea63427304e4b9">infinite_buffer</a></div><div class="ttdeci">static int infinite_buffer</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00339">ffplay.c:339</a></div></div>
<div class="ttc" id="avformat_8h_html_a6286e2977286a22b622cb51cf4106541"><div class="ttname"><a href="avformat_8h.html#a6286e2977286a22b622cb51cf4106541">AVFMT_NO_BYTE_SEEK</a></div><div class="ttdeci">#define AVFMT_NO_BYTE_SEEK</div><div class="ttdoc">Format does not allow seeking by bytes. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00494">avformat.h:494</a></div></div>
<div class="ttc" id="structFrame_html_a63cca62f715bae11fb5db7e50a896105"><div class="ttname"><a href="structFrame.html#a63cca62f715bae11fb5db7e50a896105">Frame::duration</a></div><div class="ttdeci">double duration</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00159">ffplay.c:159</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a5d41cf5ef2316b748ed36ffecb4d54bd"><div class="ttname"><a href="avisynth__c_8h.html#a5d41cf5ef2316b748ed36ffecb4d54bd">pixels</a></div><div class="ttdeci">int pixels</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00429">avisynth_c.h:429</a></div></div>
<div class="ttc" id="group__lavu__error_html_gaf5a8745befceddae26f2dc11ecf21679"><div class="ttname"><a href="group__lavu__error.html#gaf5a8745befceddae26f2dc11ecf21679">AVERROR_OPTION_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_OPTION_NOT_FOUND</div><div class="ttdoc">Option not found. </div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00061">error.h:61</a></div></div>
<div class="ttc" id="structAVDictionaryEntry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="structAVDictionaryEntry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00087">dict.h:87</a></div></div>
<div class="ttc" id="structAVIOContext_html_aa9214f54c01f07076e0a0718b2e9c27b"><div class="ttname"><a href="structAVIOContext.html#aa9214f54c01f07076e0a0718b2e9c27b">AVIOContext::eof_reached</a></div><div class="ttdeci">int eof_reached</div><div class="ttdoc">true if eof reached </div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00222">avio.h:222</a></div></div>
<div class="ttc" id="tms470_2math_8h_html_a8abfcc76130f3f991d124dd22d7e69bc"><div class="ttname"><a href="tms470_2math_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a></div><div class="ttdeci">#define NAN</div><div class="ttdef"><b>Definition:</b> <a href="tms470_2math_8h_source.html#l00028">math.h:28</a></div></div>
<div class="ttc" id="vorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="structAVCodecContext_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="structAVCodecContext.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02449">avcodec.h:2449</a></div></div>
<div class="ttc" id="group__lavu__frame_html_ga2f09c3e454ca78320a8f3be17d0473c1"><div class="ttname"><a href="group__lavu__frame.html#ga2f09c3e454ca78320a8f3be17d0473c1">av_frame_get_pkt_pos</a></div><div class="ttdeci">int64_t av_frame_get_pkt_pos(const AVFrame *frame)</div></div>
<div class="ttc" id="structVideoState_html_ac566552a44eea599642d781691738197"><div class="ttname"><a href="structVideoState.html#ac566552a44eea599642d781691738197">VideoState::audio_buf1_size</a></div><div class="ttdeci">unsigned int audio_buf1_size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00250">ffplay.c:250</a></div></div>
<div class="ttc" id="structVideoState_html_af2ac8777b258e78112799a39e1794d20"><div class="ttname"><a href="structVideoState.html#af2ac8777b258e78112799a39e1794d20">VideoState::read_tid</a></div><div class="ttdeci">SDL_Thread * read_tid</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00207">ffplay.c:207</a></div></div>
<div class="ttc" id="structDecoder_html_aa97daf2313af918248d4cb02f27f3207"><div class="ttname"><a href="structDecoder.html#aa97daf2313af918248d4cb02f27f3207">Decoder::pkt</a></div><div class="ttdeci">AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00191">ffplay.c:191</a></div></div>
<div class="ttc" id="structAudioParams_html_ac1c209ac6920670d067ddff37408b545"><div class="ttname"><a href="structAudioParams.html#ac1c209ac6920670d067ddff37408b545">AudioParams::frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00139">ffplay.c:139</a></div></div>
<div class="ttc" id="group__lavu__log_html_gaf8143cc9a7cd364af1ff525c6181c0ce"><div class="ttname"><a href="group__lavu__log.html#gaf8143cc9a7cd364af1ff525c6181c0ce">av_log_set_flags</a></div><div class="ttdeci">void av_log_set_flags(int arg)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00396">log.c:396</a></div></div>
<div class="ttc" id="structDecoder_html_a1a28eb68d3e5d3ae20c286e5d32da4f1"><div class="ttname"><a href="structDecoder.html#a1a28eb68d3e5d3ae20c286e5d32da4f1">Decoder::start_pts</a></div><div class="ttdeci">int64_t start_pts</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00199">ffplay.c:199</a></div></div>
<div class="ttc" id="structVideoState_html_a2b1ec0afe367d6aad04ad31e8c64b74b"><div class="ttname"><a href="structVideoState.html#a2b1ec0afe367d6aad04ad31e8c64b74b">VideoState::abort_request</a></div><div class="ttdeci">int abort_request</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00209">ffplay.c:209</a></div></div>
<div class="ttc" id="decoder__targeted_8c_html_acfe27e61edea06412363421f1a013e81"><div class="ttname"><a href="decoder__targeted_8c.html#acfe27e61edea06412363421f1a013e81">c</a></div><div class="ttdeci">static AVCodec * c</div><div class="ttdef"><b>Definition:</b> <a href="decoder__targeted_8c_source.html#l00059">decoder_targeted.c:59</a></div></div>
<div class="ttc" id="ffplay_8c_html_a71f7c700f469c52253e516e737af1f83"><div class="ttname"><a href="ffplay_8c.html#a71f7c700f469c52253e516e737af1f83">decoder_abort</a></div><div class="ttdeci">static void decoder_abort(Decoder *d, FrameQueue *fq)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00781">ffplay.c:781</a></div></div>
<div class="ttc" id="ffplay_8c_html_aef3146ee04bafee35433bf82d5ac3de6"><div class="ttname"><a href="ffplay_8c.html#aef3146ee04bafee35433bf82d5ac3de6">packet_queue_put</a></div><div class="ttdeci">static int packet_queue_put(PacketQueue *q, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00426">ffplay.c:426</a></div></div>
<div class="ttc" id="structClock_html_a77d1a2e525a9b9cab76ad8dd763da0bd"><div class="ttname"><a href="structClock.html#a77d1a2e525a9b9cab76ad8dd763da0bd">Clock::last_updated</a></div><div class="ttdeci">double last_updated</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00146">ffplay.c:146</a></div></div>
<div class="ttc" id="structVideoState_html_a9513d58c11689093c51178171faa1fbc"><div class="ttname"><a href="structVideoState.html#a9513d58c11689093c51178171faa1fbc">VideoState::viddec</a></div><div class="ttdeci">Decoder viddec</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00231">ffplay.c:231</a></div></div>
<div class="ttc" id="tablegen_8h_html_acb2450405534f2af2557e0d2487c09dc"><div class="ttname"><a href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a></div><div class="ttdeci">#define lrint</div><div class="ttdef"><b>Definition:</b> <a href="tablegen_8h_source.html#l00053">tablegen.h:53</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a3ad80f8d494eaf9dc13fd805e222a504"><div class="ttname"><a href="cmdutils_8c.html#a3ad80f8d494eaf9dc13fd805e222a504">swr_opts</a></div><div class="ttdeci">AVDictionary * swr_opts</div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00071">cmdutils.c:71</a></div></div>
<div class="ttc" id="group__lavf__decoding_html_ga31d601155e9035d5b0e7efedc894ee49"><div class="ttname"><a href="group__lavf__decoding.html#ga31d601155e9035d5b0e7efedc894ee49">avformat_open_input</a></div><div class="ttdeci">int avformat_open_input(AVFormatContext **ps, const char *url, AVInputFormat *fmt, AVDictionary **options)</div><div class="ttdoc">Open an input stream and read the header. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00511">utils.c:511</a></div></div>
<div class="ttc" id="structVideoState_html_a197856526d148514afaf3697ef2089b6"><div class="ttname"><a href="structVideoState.html#a197856526d148514afaf3697ef2089b6">VideoState::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00294">ffplay.c:294</a></div></div>
<div class="ttc" id="cmdutils_8c_html_a0833f5d4481c5c8c2362b0e5d65af5f3"><div class="ttname"><a href="cmdutils_8c.html#a0833f5d4481c5c8c2362b0e5d65af5f3">show_help_children</a></div><div class="ttdeci">void show_help_children(const AVClass *class, int flags)</div><div class="ttdoc">Show help for all options with given flags in class and all its children. </div><div class="ttdef"><b>Definition:</b> <a href="cmdutils_8c_source.html#l00205">cmdutils.c:205</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a1944f9a4f8f2e123c087e1fe7613d571"><div class="ttname"><a href="structAVCodecContext.html#a1944f9a4f8f2e123c087e1fe7613d571">AVCodecContext::flags2</a></div><div class="ttdeci">int flags2</div><div class="ttdoc">AV_CODEC_FLAG2_*. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01788">avcodec.h:1788</a></div></div>
<div class="ttc" id="ffplay_8c_html_a7b547ce26fcc3c0f0a79b293fa8b49d5"><div class="ttname"><a href="ffplay_8c.html#a7b547ce26fcc3c0f0a79b293fa8b49d5">update_volume</a></div><div class="ttdeci">static void update_volume(VideoState *is, int sign, int step)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01461">ffplay.c:1461</a></div></div>
<div class="ttc" id="group__lavfi_html_ga34f4ff420bd58da6747a3ff1fbedd001"><div class="ttname"><a href="group__lavfi.html#ga34f4ff420bd58da6747a3ff1fbedd001">avfilter_graph_parse_ptr</a></div><div class="ttdeci">int avfilter_graph_parse_ptr(AVFilterGraph *graph, const char *filters, AVFilterInOut **inputs, AVFilterInOut **outputs, void *log_ctx)</div><div class="ttdoc">Add a graph described by a string to a graph. </div><div class="ttdef"><b>Definition:</b> <a href="graphparser_8c_source.html#l00522">graphparser.c:522</a></div></div>
<div class="ttc" id="structAVCodecParameters_html_a4d418b807283607a231d2d8cdf559f00"><div class="ttname"><a href="structAVCodecParameters.html#a4d418b807283607a231d2d8cdf559f00">AVCodecParameters::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">Audio only. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l04105">avcodec.h:4105</a></div></div>
<div class="ttc" id="structAVFilterContext_html"><div class="ttname"><a href="structAVFilterContext.html">AVFilterContext</a></div><div class="ttdoc">An instance of a filter. </div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00307">avfilter.h:307</a></div></div>
<div class="ttc" id="structAVPacket_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="structAVPacket.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdoc">Decompression timestamp in AVStream-&gt;time_base units; the time at which the packet is decompressed...</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01610">avcodec.h:1610</a></div></div>
<div class="ttc" id="group__channel__mask__c_html_gacb84f3e93a583e1f84a5283162a606a2"><div class="ttname"><a href="group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2">av_get_default_channel_layout</a></div><div class="ttdeci">int64_t av_get_default_channel_layout(int nb_channels)</div><div class="ttdoc">Return default channel layout for a given number of channels. </div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00203">channel_layout.c:203</a></div></div>
<div class="ttc" id="adpcmenc_8c_html_a0b94bda9858853d90b77d15331ca0ae1"><div class="ttname"><a href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a></div><div class="ttdeci">static enum AVSampleFormat sample_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00701">adpcmenc.c:701</a></div></div>
<div class="ttc" id="structAVFormatContext_html_ad0ea78ac48f5bb0a15a15c1c472744d9"><div class="ttname"><a href="structAVFormatContext.html#ad0ea78ac48f5bb0a15a15c1c472744d9">AVFormatContext::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdoc">Duration of the stream, in AV_TIME_BASE fractional seconds. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01433">avformat.h:1433</a></div></div>
<div class="ttc" id="structAVFrame_html_a3f89733f429c98ba5bc64373fb0a3f13"><div class="ttname"><a href="structAVFrame.html#a3f89733f429c98ba5bc64373fb0a3f13">AVFrame::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00242">frame.h:242</a></div></div>
<div class="ttc" id="tests_2movenc_8c_html_a1277960b5f2b37137fe9b0b5a1ea0beb"><div class="ttname"><a href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00054">movenc.c:54</a></div></div>
<div class="ttc" id="ffplay_8c_html_a591a324cad0ca94e4a84dbdf229e5a02"><div class="ttname"><a href="ffplay_8c.html#a591a324cad0ca94e4a84dbdf229e5a02">video_codec_name</a></div><div class="ttdeci">static const char * video_codec_name</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00343">ffplay.c:343</a></div></div>
<div class="ttc" id="ffplay_8c_html_a623ec78b7909090dbedac4af1d52abb4"><div class="ttname"><a href="ffplay_8c.html#a623ec78b7909090dbedac4af1d52abb4">MAX_QUEUE_SIZE</a></div><div class="ttdeci">#define MAX_QUEUE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00066">ffplay.c:66</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="structAVCodecContext_html_a6d940d300cd7aca6ae9a9af9ba58e5cc"><div class="ttname"><a href="structAVCodecContext.html#a6d940d300cd7aca6ae9a9af9ba58e5cc">AVCodecContext::pts_correction_num_faulty_pts</a></div><div class="ttdeci">int64_t pts_correction_num_faulty_pts</div><div class="ttdoc">Current statistics for PTS correction. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03429">avcodec.h:3429</a></div></div>
<div class="ttc" id="structDecoder_html_a4879d5fffa1fda64cc11de679ae7a2a9"><div class="ttname"><a href="structDecoder.html#a4879d5fffa1fda64cc11de679ae7a2a9">Decoder::queue</a></div><div class="ttdeci">PacketQueue * queue</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00193">ffplay.c:193</a></div></div>
<div class="ttc" id="structAVInputFormat_html_a850db3eb225e22b64f3304d72134ca0c"><div class="ttname"><a href="structAVInputFormat.html#a850db3eb225e22b64f3304d72134ca0c">AVInputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">A comma separated list of short names for the format. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00664">avformat.h:664</a></div></div>
<div class="ttc" id="ffplay_8c_html_a2df97f65b455c4a9af5b15f33cab4ed8"><div class="ttname"><a href="ffplay_8c.html#a2df97f65b455c4a9af5b15f33cab4ed8">frame_queue_peek_writable</a></div><div class="ttdeci">static Frame * frame_queue_peek_writable(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00708">ffplay.c:708</a></div></div>
<div class="ttc" id="group__lavu__dict_html_ga341bbd1ea599dfb0510f419e5272fecc"><div class="ttname"><a href="group__lavu__dict.html#ga341bbd1ea599dfb0510f419e5272fecc">AV_DICT_IGNORE_SUFFIX</a></div><div class="ttdeci">#define AV_DICT_IGNORE_SUFFIX</div><div class="ttdoc">Return first entry in a dictionary whose first part corresponds to the search key, ignoring the suffix of the found key string. </div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00070">dict.h:70</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="ffplay_8c_html_a678e233c40bfc99996df1a52f51d1b4b"><div class="ttname"><a href="ffplay_8c.html#a678e233c40bfc99996df1a52f51d1b4b">subtitle_thread</a></div><div class="ttdeci">static int subtitle_thread(void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02229">ffplay.c:2229</a></div></div>
<div class="ttc" id="structVideoState_html_a8d6006c6f30703cdbb1ffd5ab2330196"><div class="ttname"><a href="structVideoState.html#a8d6006c6f30703cdbb1ffd5ab2330196">VideoState::subpq</a></div><div class="ttdeci">FrameQueue subpq</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00227">ffplay.c:227</a></div></div>
<div class="ttc" id="structFrame_html_adc08f78492f3db6b0457c47e9bf191e1"><div class="ttname"><a href="structFrame.html#adc08f78492f3db6b0457c47e9bf191e1">Frame::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00165">ffplay.c:165</a></div></div>
<div class="ttc" id="group__lavu__log__constants_html_ga96970a2980bf6ad28cd403e7dc52d6c5"><div class="ttname"><a href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a></div><div class="ttdeci">#define AV_LOG_FATAL</div><div class="ttdoc">Something went wrong and recovery is not possible. </div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00170">log.h:170</a></div></div>
<div class="ttc" id="structAVStream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="structAVStream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01241">avformat.h:1241</a></div></div>
<div class="ttc" id="ffplay_8c_html_a26f44c0f0df501604e17fa25caf56a39"><div class="ttname"><a href="ffplay_8c.html#a26f44c0f0df501604e17fa25caf56a39">get_master_clock</a></div><div class="ttdeci">static double get_master_clock(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01390">ffplay.c:1390</a></div></div>
<div class="ttc" id="tableprint__vlc_8h_html_a0bbd41ab30b4164703f00cb76142ffe8"><div class="ttname"><a href="tableprint__vlc_8h.html#a0bbd41ab30b4164703f00cb76142ffe8">av_malloc_array</a></div><div class="ttdeci">#define av_malloc_array(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00032">tableprint_vlc.h:32</a></div></div>
<div class="ttc" id="structFrameQueue_html_a8eba818a6f60d7746e5dcd49c8a5f939"><div class="ttname"><a href="structFrameQueue.html#a8eba818a6f60d7746e5dcd49c8a5f939">FrameQueue::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00175">ffplay.c:175</a></div></div>
<div class="ttc" id="avio_8h_html_a4db704ed3d00a4be632dad1585d01d92"><div class="ttname"><a href="avio_8h.html#a4db704ed3d00a4be632dad1585d01d92">avio_feof</a></div><div class="ttdeci">int avio_feof(AVIOContext *s)</div><div class="ttdoc">feof() equivalent for AVIOContext. </div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00328">aviobuf.c:328</a></div></div>
<div class="ttc" id="ffplay_8c_html_ac1040cd1bf00985c6ed227b77c9b73b2"><div class="ttname"><a href="ffplay_8c.html#ac1040cd1bf00985c6ed227b77c9b73b2">FF_QUIT_EVENT</a></div><div class="ttdeci">#define FF_QUIT_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00361">ffplay.c:361</a></div></div>
<div class="ttc" id="structVideoState_html_a35a0bdf36181c07b0126f045066a7c17"><div class="ttname"><a href="structVideoState.html#a35a0bdf36181c07b0126f045066a7c17">VideoState::xleft</a></div><div class="ttdeci">int xleft</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00294">ffplay.c:294</a></div></div>
<div class="ttc" id="common_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="channel__layout_8c_html_ac8404c077a0560a06a73cfec0697c99a"><div class="ttname"><a href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a></div><div class="ttdeci">int nb_channels</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00076">channel_layout.c:76</a></div></div>
<div class="ttc" id="pixdesc_8c_html_ab92e2a8a9b58c982560c49df9f01e47e"><div class="ttname"><a href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a></div><div class="ttdeci">const char * av_get_pix_fmt_name(enum AVPixelFormat pix_fmt)</div><div class="ttdoc">Return the short name for a pixel format, NULL in case pix_fmt is unknown. </div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02248">pixdesc.c:2248</a></div></div>
<div class="ttc" id="structAVPacket_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="structAVPacket.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01613">avcodec.h:1613</a></div></div>
<div class="ttc" id="structAVStream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="structAVStream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdoc">This is the fundamental unit of time (in seconds) in terms of which frame timestamps are represented...</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00926">avformat.h:926</a></div></div>
<div class="ttc" id="structSwsContext_html"><div class="ttname"><a href="structSwsContext.html">SwsContext</a></div><div class="ttdef"><b>Definition:</b> <a href="swscale__internal_8h_source.html#l00284">swscale_internal.h:284</a></div></div>
<div class="ttc" id="structVideoState_html_a31fc38ac59d4bc79e9ce03265051b800"><div class="ttname"><a href="structVideoState.html#a31fc38ac59d4bc79e9ce03265051b800">VideoState::subtitle_stream</a></div><div class="ttdeci">int subtitle_stream</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00278">ffplay.c:278</a></div></div>
<div class="ttc" id="structVideoState_html_a41e4649bdd95453f7df3833c1a28f2bf"><div class="ttname"><a href="structVideoState.html#a41e4649bdd95453f7df3833c1a28f2bf">VideoState::audio_buf_size</a></div><div class="ttdeci">unsigned int audio_buf_size</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00249">ffplay.c:249</a></div></div>
<div class="ttc" id="structVideoState_html_acd40f78520c610c107f3a41e16f85530"><div class="ttname"><a href="structVideoState.html#acd40f78520c610c107f3a41e16f85530">VideoState::seek_rel</a></div><div class="ttdeci">int64_t seek_rel</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00217">ffplay.c:217</a></div></div>
<div class="ttc" id="structVideoState_html_aabfee6f1cd9c45c19493e97511e49fd9"><div class="ttname"><a href="structVideoState.html#aabfee6f1cd9c45c19493e97511e49fd9">VideoState::realtime</a></div><div class="ttdeci">int realtime</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00220">ffplay.c:220</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00204">avutil.h:204</a></div></div>
<div class="ttc" id="structAVFrame_html_afca04d808393822625e09b5ba91c6756"><div class="ttname"><a href="structAVFrame.html#afca04d808393822625e09b5ba91c6756">AVFrame::extended_data</a></div><div class="ttdeci">uint8_t ** extended_data</div><div class="ttdoc">pointers to the data planes/channels. </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00237">frame.h:237</a></div></div>
<div class="ttc" id="structAVStream_html_a492fcecc45dbbd8da51edd0124e9dd30"><div class="ttname"><a href="structAVStream.html#a492fcecc45dbbd8da51edd0124e9dd30">AVStream::discard</a></div><div class="ttdeci">enum AVDiscard discard</div><div class="ttdoc">Selects which packets can be discarded at will and do not need to be demuxed. </div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00949">avformat.h:949</a></div></div>
<div class="ttc" id="structAVSubtitleRect_html"><div class="ttname"><a href="structAVSubtitleRect.html">AVSubtitleRect</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03940">avcodec.h:3940</a></div></div>
<div class="ttc" id="ffplay_8c_html_a5c191719acd283f785b618f84deb1dc2"><div class="ttname"><a href="ffplay_8c.html#a5c191719acd283f785b618f84deb1dc2">video_display</a></div><div class="ttdeci">static void video_display(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01311">ffplay.c:1311</a></div></div>
<div class="ttc" id="ffplay_8c_html_af6497adff22b12fdaf50c4c8d33ca59e"><div class="ttname"><a href="ffplay_8c.html#af6497adff22b12fdaf50c4c8d33ca59e">wanted_stream_spec</a></div><div class="ttdeci">static const char * wanted_stream_spec[AVMEDIA_TYPE_NB]</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00322">ffplay.c:322</a></div></div>
<div class="ttc" id="ffplay_8c_html_a6768a966a1f5b884d86d910a5fc45fc4"><div class="ttname"><a href="ffplay_8c.html#a6768a966a1f5b884d86d910a5fc45fc4">show_status</a></div><div class="ttdeci">static int show_status</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00326">ffplay.c:326</a></div></div>
<div class="ttc" id="ffplay_8c_html_a8e10ac7ca47259999f6ebd1f54fdbeac"><div class="ttname"><a href="ffplay_8c.html#a8e10ac7ca47259999f6ebd1f54fdbeac">compute_mod</a></div><div class="ttdeci">static int compute_mod(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00986">ffplay.c:986</a></div></div>
<div class="ttc" id="pixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdoc">Pixel format. </div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00060">pixfmt.h:60</a></div></div>
<div class="ttc" id="structAVPacket_html"><div class="ttname"><a href="structAVPacket.html">AVPacket</a></div><div class="ttdoc">This structure stores compressed data. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01588">avcodec.h:1588</a></div></div>
<div class="ttc" id="group__lavf__core_html_ga917265caec45ef5a0646356ed1a507e3"><div class="ttname"><a href="group__lavf__core.html#ga917265caec45ef5a0646356ed1a507e3">av_register_all</a></div><div class="ttdeci">void av_register_all(void)</div><div class="ttdoc">Initialize libavformat and register all the muxers, demuxers and protocols. </div><div class="ttdef"><b>Definition:</b> <a href="allformats_8c_source.html#l00044">allformats.c:44</a></div></div>
<div class="ttc" id="group__opt__set__funcs_html_ga5fd4b92bdf4f392a2847f711676a7537"><div class="ttname"><a href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a></div><div class="ttdeci">int av_opt_set(void *obj, const char *name, const char *val, int search_flags)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l00451">opt.c:451</a></div></div>
<div class="ttc" id="ffplay_8c_html_a2e1afaed2f153859a7382b2a5449292d"><div class="ttname"><a href="ffplay_8c.html#a2e1afaed2f153859a7382b2a5449292d">sdl_audio_callback</a></div><div class="ttdeci">static void sdl_audio_callback(void *opaque, Uint8 *stream, int len)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l02445">ffplay.c:2445</a></div></div>
<div class="ttc" id="structAVFrame_html_a02f45ab8191aea1660159f1e464237ea"><div class="ttname"><a href="structAVFrame.html#a02f45ab8191aea1660159f1e464237ea">AVFrame::nb_samples</a></div><div class="ttdeci">int nb_samples</div><div class="ttdoc">number of audio samples (per channel) described by this frame </div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00247">frame.h:247</a></div></div>
<div class="ttc" id="ffplay_8c_html_aee40f9e95a2467195ddefff0c417606b"><div class="ttname"><a href="ffplay_8c.html#aee40f9e95a2467195ddefff0c417606b">sync_clock_to_slave</a></div><div class="ttdeci">static void sync_clock_to_slave(Clock *c, Clock *slave)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l01365">ffplay.c:1365</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdoc">Codec uses get_buffer() for allocating buffers and supports custom allocators. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00963">avcodec.h:963</a></div></div>
<div class="ttc" id="ffplay_8c_html_af039633271ca4f9cfaab5b8acf8183ba"><div class="ttname"><a href="ffplay_8c.html#af039633271ca4f9cfaab5b8acf8183ba">toggle_full_screen</a></div><div class="ttdeci">static void toggle_full_screen(VideoState *is)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l03207">ffplay.c:3207</a></div></div>
<div class="ttc" id="structAVPacket_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="structAVPacket.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdoc">Presentation timestamp in AVStream-&gt;time_base units; the time at which the decompressed packet will b...</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01604">avcodec.h:1604</a></div></div>
<div class="ttc" id="structMyAVPacketList_html_ae4a6e4baa4ddf4495747cd80a1e5454a"><div class="ttname"><a href="structMyAVPacketList.html#ae4a6e4baa4ddf4495747cd80a1e5454a">MyAVPacketList::serial</a></div><div class="ttdeci">int serial</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00115">ffplay.c:115</a></div></div>
<div class="ttc" id="structVideoState_html_ac9a76f6ed7277ec4cf329b9c088ab287"><div class="ttname"><a href="structVideoState.html#ac9a76f6ed7277ec4cf329b9c088ab287">VideoState::last_vis_time</a></div><div class="ttdeci">double last_vis_time</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00274">ffplay.c:274</a></div></div>
<div class="ttc" id="structAVStream_html_a8c689ee00c0dfe4313891f8a2ea21f4d"><div class="ttname"><a href="structAVStream.html#a8c689ee00c0dfe4313891f8a2ea21f4d">AVStream::attached_pic</a></div><div class="ttdeci">AVPacket attached_pic</div><div class="ttdoc">For streams with AV_DISPOSITION_ATTACHED_PIC disposition, this packet will contain the attached pictu...</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00976">avformat.h:976</a></div></div>
<div class="ttc" id="group__lavu__time_html_ga2eaefe702f95f619ea6f2d08afa01be1"><div class="ttname"><a href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div><div class="ttdeci">#define AV_NOPTS_VALUE</div><div class="ttdoc">Undefined timestamp value. </div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00248">avutil.h:248</a></div></div>
<div class="ttc" id="attributes_8h_html_a7ca8a3900269f92fcc7b68235dea7787"><div class="ttname"><a href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a></div><div class="ttdeci">#define av_unused</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00126">attributes.h:126</a></div></div>
<div class="ttc" id="regdef_8h_html_a70597aa9a5baaa4676f9f8cbe306dae0"><div class="ttname"><a href="regdef_8h.html#a70597aa9a5baaa4676f9f8cbe306dae0">tb</a></div><div class="ttdeci">#define tb</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00068">regdef.h:68</a></div></div>
<div class="ttc" id="group__lswr_html_gae173e8ed91717700471a1dcd06f00f67"><div class="ttname"><a href="group__lswr.html#gae173e8ed91717700471a1dcd06f00f67">swr_init</a></div><div class="ttdeci">av_cold int swr_init(struct SwrContext *s)</div><div class="ttdoc">Initialize context after user parameters have been set. </div><div class="ttdef"><b>Definition:</b> <a href="swresample_8c_source.html#l00155">swresample.c:155</a></div></div>
<div class="ttc" id="group__lavfi__buffersrc_html_ga8fc71cb48c1ad1aa78b48f87daa4cf19"><div class="ttname"><a href="group__lavfi__buffersrc.html#ga8fc71cb48c1ad1aa78b48f87daa4cf19">av_buffersrc_add_frame</a></div><div class="ttdeci">int attribute_align_arg av_buffersrc_add_frame(AVFilterContext *ctx, AVFrame *frame)</div><div class="ttdoc">Add a frame to the buffer source. </div><div class="ttdef"><b>Definition:</b> <a href="buffersrc_8c_source.html#l00144">buffersrc.c:144</a></div></div>
<div class="ttc" id="structVideoState_html_a91bcccd78c687d9325a358ea9daf0d7a"><div class="ttname"><a href="structVideoState.html#a91bcccd78c687d9325a358ea9daf0d7a">VideoState::ic</a></div><div class="ttdeci">AVFormatContext * ic</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00219">ffplay.c:219</a></div></div>
<div class="ttc" id="h264pred__template_8c_html_a4124bc0a9335c27f086f24ba207a4912"><div class="ttname"><a href="h264pred__template_8c.html#a4124bc0a9335c27f086f24ba207a4912">a</a></div><div class="ttdeci">a</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00468">h264pred_template.c:468</a></div></div>
<div class="ttc" id="eval_8h_html"><div class="ttname"><a href="eval_8h.html">eval.h</a></div><div class="ttdoc">simple arithmetic expression evaluator </div></div>
<div class="ttc" id="structVideoState_html_a4dc5ecbf2e5abdb8cca26a5bb4ede470"><div class="ttname"><a href="structVideoState.html#a4dc5ecbf2e5abdb8cca26a5bb4ede470">VideoState::audio_volume</a></div><div class="ttdeci">int audio_volume</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00253">ffplay.c:253</a></div></div>
<div class="ttc" id="ffplay_8c_html_a7aff76f8071bb6a27cad2772b5f2799d"><div class="ttname"><a href="ffplay_8c.html#a7aff76f8071bb6a27cad2772b5f2799d">frame_queue_peek_readable</a></div><div class="ttdeci">static Frame * frame_queue_peek_readable(FrameQueue *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00724">ffplay.c:724</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:46:41 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
