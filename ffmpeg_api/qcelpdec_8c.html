<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: libavcodec/qcelpdec.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3b1f69f89eda39a44baf4887988d54a7.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">qcelpdec.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>QCELP decoder.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &quot;<a class="el" href="avassert_8h_source.html">libavutil/avassert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="channel__layout_8h_source.html">libavutil/channel_layout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="float__dsp_8h_source.html">libavutil/float_dsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avcodec_8h_source.html">avcodec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libavcodec_2internal_8h_source.html">internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="get__bits_8h_source.html">get_bits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qcelpdata_8h_source.html">qcelpdata.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="celp__filters_8h_source.html">celp_filters.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="acelp__filters_8h_source.html">acelp_filters.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="acelp__vectors_8h_source.html">acelp_vectors.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lsp_8h_source.html">lsp.h</a>&quot;</code><br />
</div>
<p><a href="qcelpdec_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structQCELPContext.html">QCELPContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7422a34b5b2601e7e2d9d7b54f00d534"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534">qcelp_packet_rate</a> { <br />
&#160;&#160;<a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534a756199c6d8198f66d21585b8fdfcb757">I_F_Q</a> = -1, 
<a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534a5115cf8ca0264d0532228e59b8665dff">SILENCE</a>, 
<a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534a9de235eb98bce248c805a72e446ecbf0">RATE_OCTAVE</a>, 
<a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534a76a854346f3cd92191bc9ef43d5763b9">RATE_QUARTER</a>, 
<br />
&#160;&#160;<a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534a1176aa839455e384a7e69312019d4d5d">RATE_HALF</a>, 
<a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534a405ee677a1491e18981d101704204ce0">RATE_FULL</a>
<br />
 }</td></tr>
<tr class="separator:a7422a34b5b2601e7e2d9d7b54f00d534"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68ebdbcd9c936f4ed83ba68ccd59b281"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a68ebdbcd9c936f4ed83ba68ccd59b281">qcelp_decode_init</a> (<a class="el" href="structAVCodecContext.html">AVCodecContext</a> *avctx)</td></tr>
<tr class="memdesc:a68ebdbcd9c936f4ed83ba68ccd59b281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the speech codec according to the specification.  <a href="#a68ebdbcd9c936f4ed83ba68ccd59b281">More...</a><br /></td></tr>
<tr class="separator:a68ebdbcd9c936f4ed83ba68ccd59b281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1e9b5c1e0486140f245aac480ead08"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a2b1e9b5c1e0486140f245aac480ead08">decode_lspf</a> (<a class="el" href="structQCELPContext.html">QCELPContext</a> *q, float *lspf)</td></tr>
<tr class="memdesc:a2b1e9b5c1e0486140f245aac480ead08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the 10 quantized LSP frequencies from the LSPV/LSP transmission codes of any bitrate and check for badly received packets.  <a href="#a2b1e9b5c1e0486140f245aac480ead08">More...</a><br /></td></tr>
<tr class="separator:a2b1e9b5c1e0486140f245aac480ead08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c99dea549bc832262b3e3887521c1b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a90c99dea549bc832262b3e3887521c1b">decode_gain_and_index</a> (<a class="el" href="structQCELPContext.html">QCELPContext</a> *q, float *gain)</td></tr>
<tr class="memdesc:a90c99dea549bc832262b3e3887521c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert codebook transmission codes to GAIN and INDEX.  <a href="#a90c99dea549bc832262b3e3887521c1b">More...</a><br /></td></tr>
<tr class="separator:a90c99dea549bc832262b3e3887521c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503bd2bc310b84ad7d69a1be9f641328"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a503bd2bc310b84ad7d69a1be9f641328">codebook_sanity_check_for_rate_quarter</a> (const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *cbgain)</td></tr>
<tr class="memdesc:a503bd2bc310b84ad7d69a1be9f641328"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the received packet is Rate 1/4 a further sanity check is made of the codebook gain.  <a href="#a503bd2bc310b84ad7d69a1be9f641328">More...</a><br /></td></tr>
<tr class="separator:a503bd2bc310b84ad7d69a1be9f641328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac274ff348e2df541ef195e9b87826ff0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#ac274ff348e2df541ef195e9b87826ff0">compute_svector</a> (<a class="el" href="structQCELPContext.html">QCELPContext</a> *q, const float *gain, float *cdn_vector)</td></tr>
<tr class="memdesc:ac274ff348e2df541ef195e9b87826ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the scaled codebook vector Cdn From INDEX and GAIN for all rates.  <a href="#ac274ff348e2df541ef195e9b87826ff0">More...</a><br /></td></tr>
<tr class="separator:ac274ff348e2df541ef195e9b87826ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cba50007bed438dcfc600d6c79ad55a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a0cba50007bed438dcfc600d6c79ad55a">apply_gain_ctrl</a> (float *v_out, const float *v_ref, const float *v_in)</td></tr>
<tr class="memdesc:a0cba50007bed438dcfc600d6c79ad55a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply generic gain control.  <a href="#a0cba50007bed438dcfc600d6c79ad55a">More...</a><br /></td></tr>
<tr class="separator:a0cba50007bed438dcfc600d6c79ad55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500002d87458db86e3d7f4cab795faf4"><td class="memItemLeft" align="right" valign="top">static const float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a500002d87458db86e3d7f4cab795faf4">do_pitchfilter</a> (float memory[303], const float v_in[160], const float gain[4], const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *lag, const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> pfrac[4])</td></tr>
<tr class="memdesc:a500002d87458db86e3d7f4cab795faf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply filter in pitch-subframe steps.  <a href="#a500002d87458db86e3d7f4cab795faf4">More...</a><br /></td></tr>
<tr class="separator:a500002d87458db86e3d7f4cab795faf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3741233ecdf5db940bb749f9e0c840e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#ab3741233ecdf5db940bb749f9e0c840e">apply_pitch_filters</a> (<a class="el" href="structQCELPContext.html">QCELPContext</a> *q, float *cdn_vector)</td></tr>
<tr class="memdesc:ab3741233ecdf5db940bb749f9e0c840e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply pitch synthesis filter and pitch prefilter to the scaled codebook vector.  <a href="#ab3741233ecdf5db940bb749f9e0c840e">More...</a><br /></td></tr>
<tr class="separator:ab3741233ecdf5db940bb749f9e0c840e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cae42dccebccd869e871a564001341"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a85cae42dccebccd869e871a564001341">lspf2lpc</a> (const float *lspf, float *lpc)</td></tr>
<tr class="memdesc:a85cae42dccebccd869e871a564001341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconstruct LPC coefficients from the line spectral pair frequencies and perform bandwidth expansion.  <a href="#a85cae42dccebccd869e871a564001341">More...</a><br /></td></tr>
<tr class="separator:a85cae42dccebccd869e871a564001341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719e1eb77e8b7d1f6c9cc7b8d8ecfac9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a719e1eb77e8b7d1f6c9cc7b8d8ecfac9">interpolate_lpc</a> (<a class="el" href="structQCELPContext.html">QCELPContext</a> *q, const float *curr_lspf, float *lpc, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> subframe_num)</td></tr>
<tr class="memdesc:a719e1eb77e8b7d1f6c9cc7b8d8ecfac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpolate LSP frequencies and compute LPC coefficients for a given bitrate &amp; pitch subframe.  <a href="#a719e1eb77e8b7d1f6c9cc7b8d8ecfac9">More...</a><br /></td></tr>
<tr class="separator:a719e1eb77e8b7d1f6c9cc7b8d8ecfac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88daa87bb166c8da6a8b9616938c6c4f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534">qcelp_packet_rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a88daa87bb166c8da6a8b9616938c6c4f">buf_size2bitrate</a> (const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> buf_size)</td></tr>
<tr class="separator:a88daa87bb166c8da6a8b9616938c6c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b7829473578b40dfc9b5e0751d8e4c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534">qcelp_packet_rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a41b7829473578b40dfc9b5e0751d8e4c">determine_bitrate</a> (<a class="el" href="structAVCodecContext.html">AVCodecContext</a> *avctx, const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> buf_size, const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **<a class="el" href="avxsynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>)</td></tr>
<tr class="memdesc:a41b7829473578b40dfc9b5e0751d8e4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the bitrate from the frame size and/or the first byte of the frame.  <a href="#a41b7829473578b40dfc9b5e0751d8e4c">More...</a><br /></td></tr>
<tr class="separator:a41b7829473578b40dfc9b5e0751d8e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b07ecd6ed4e9abb366c8ca531e590a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a51b07ecd6ed4e9abb366c8ca531e590a">warn_insufficient_frame_quality</a> (<a class="el" href="structAVCodecContext.html">AVCodecContext</a> *avctx, const char *<a class="el" href="structmessage.html">message</a>)</td></tr>
<tr class="separator:a51b07ecd6ed4e9abb366c8ca531e590a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511131b972fe20e875420936005fa22c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#a511131b972fe20e875420936005fa22c">postfilter</a> (<a class="el" href="structQCELPContext.html">QCELPContext</a> *q, float *samples, float *lpc)</td></tr>
<tr class="separator:a511131b972fe20e875420936005fa22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3db6ee692b23a887052855eaeafb65e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#ac3db6ee692b23a887052855eaeafb65e">qcelp_decode_frame</a> (<a class="el" href="structAVCodecContext.html">AVCodecContext</a> *avctx, <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *<a class="el" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *got_frame_ptr, <a class="el" href="structAVPacket.html">AVPacket</a> *avpkt)</td></tr>
<tr class="separator:ac3db6ee692b23a887052855eaeafb65e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aef9e23edecfecfd1fe3683df344eeeef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAVCodec.html">AVCodec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qcelpdec_8c.html#aef9e23edecfecfd1fe3683df344eeeef">ff_qcelp_decoder</a></td></tr>
<tr class="separator:aef9e23edecfecfd1fe3683df344eeeef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>QCELP decoder. </p>
<dl class="section author"><dt>Author</dt><dd>Reynaldo H. Verdejo Pinochet </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>FFmpeg merging spearheaded by Kenan Gillet </dd>
<dd>
Development mentored by Benjamin Larson </dd></dl>

<p>Definition in file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7422a34b5b2601e7e2d9d7b54f00d534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7422a34b5b2601e7e2d9d7b54f00d534">&sect;&nbsp;</a></span>qcelp_packet_rate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534">qcelp_packet_rate</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7422a34b5b2601e7e2d9d7b54f00d534a756199c6d8198f66d21585b8fdfcb757"></a>I_F_Q&#160;</td><td class="fielddoc"><p>insufficient frame quality </p>
</td></tr>
<tr><td class="fieldname"><a id="a7422a34b5b2601e7e2d9d7b54f00d534a5115cf8ca0264d0532228e59b8665dff"></a>SILENCE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7422a34b5b2601e7e2d9d7b54f00d534a9de235eb98bce248c805a72e446ecbf0"></a>RATE_OCTAVE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7422a34b5b2601e7e2d9d7b54f00d534a76a854346f3cd92191bc9ef43d5763b9"></a>RATE_QUARTER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7422a34b5b2601e7e2d9d7b54f00d534a1176aa839455e384a7e69312019d4d5d"></a>RATE_HALF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7422a34b5b2601e7e2d9d7b54f00d534a405ee677a1491e18981d101704204ce0"></a>RATE_FULL&#160;</td><td class="fielddoc"></td></tr>
</table>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00044">44</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a68ebdbcd9c936f4ed83ba68ccd59b281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68ebdbcd9c936f4ed83ba68ccd59b281">&sect;&nbsp;</a></span>qcelp_decode_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> qcelp_decode_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVCodecContext.html">AVCodecContext</a> *&#160;</td>
          <td class="paramname"><em>avctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the speech codec according to the specification. </p>
<p>TIA/EIA/IS-733 2.4.9 </p>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00085">85</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

</div>
</div>
<a id="a2b1e9b5c1e0486140f245aac480ead08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1e9b5c1e0486140f245aac480ead08">&sect;&nbsp;</a></span>decode_lspf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> decode_lspf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQCELPContext.html">QCELPContext</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lspf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode the 10 quantized LSP frequencies from the LSPV/LSP transmission codes of any bitrate and check for badly received packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>the context </td></tr>
    <tr><td class="paramname">lspf</td><td>line spectral pair frequencies</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if the packet is badly received</dd></dl>
<p>TIA/EIA/IS-733 2.4.3.2.6.2-2, 2.4.8.7.3 </p>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00111">111</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="a90c99dea549bc832262b3e3887521c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c99dea549bc832262b3e3887521c1b">&sect;&nbsp;</a></span>decode_gain_and_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> decode_gain_and_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQCELPContext.html">QCELPContext</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert codebook transmission codes to GAIN and INDEX. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>the context </td></tr>
    <tr><td class="paramname">gain</td><td>array holding the decoded gain</td></tr>
  </table>
  </dd>
</dl>
<p>TIA/EIA/IS-733 2.4.6.2 </p>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00195">195</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="a503bd2bc310b84ad7d69a1be9f641328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a503bd2bc310b84ad7d69a1be9f641328">&sect;&nbsp;</a></span>codebook_sanity_check_for_rate_quarter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> codebook_sanity_check_for_rate_quarter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>cbgain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the received packet is Rate 1/4 a further sanity check is made of the codebook gain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbgain</td><td>the unpacked cbgain array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if the sanity check fails, 0 otherwise</dd></dl>
<p>TIA/EIA/IS-733 2.4.8.7.3 </p>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00273">273</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="ac274ff348e2df541ef195e9b87826ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac274ff348e2df541ef195e9b87826ff0">&sect;&nbsp;</a></span>compute_svector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> compute_svector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQCELPContext.html">QCELPContext</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>gain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cdn_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the scaled codebook vector Cdn From INDEX and GAIN for all rates. </p>
<p>The specification lacks some information here.</p>
<p>TIA/EIA/IS-733 has an omission on the codebook index determination formula for RATE_FULL and RATE_HALF frames at section 2.4.8.1.1. It says you have to subtract the decoded index parameter from the given scaled codebook vector index 'n' to get the desired circular codebook index, but it does not mention that you have to clamp 'n' to [0-9] in order to get RI-compliant results.</p>
<p>The reason for this mistake seems to be the fact they forgot to mention you have to do these calculations per codebook subframe and adjust given equation values accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>the context </td></tr>
    <tr><td class="paramname">gain</td><td>array holding the 4 pitch subframe gain values </td></tr>
    <tr><td class="paramname">cdn_vector</td><td>array for the generated scaled codebook vector </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00309">309</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="a0cba50007bed438dcfc600d6c79ad55a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cba50007bed438dcfc600d6c79ad55a">&sect;&nbsp;</a></span>apply_gain_ctrl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> apply_gain_ctrl </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>v_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>v_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>v_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply generic gain control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v_out</td><td>output vector </td></tr>
    <tr><td class="paramname">v_in</td><td>gain-controlled vector </td></tr>
    <tr><td class="paramname">v_ref</td><td>vector to control gain of</td></tr>
  </table>
  </dd>
</dl>
<p>TIA/EIA/IS-733 2.4.8.3, 2.4.8.6 </p>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00396">396</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00467">apply_pitch_filters()</a>.</p>

</div>
</div>
<a id="a500002d87458db86e3d7f4cab795faf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a500002d87458db86e3d7f4cab795faf4">&sect;&nbsp;</a></span>do_pitchfilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const float* do_pitchfilter </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>memory</em>[303], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>v_in</em>[160], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>gain</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>lag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td>
          <td class="paramname"><em>pfrac</em>[4]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply filter in pitch-subframe steps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory</td><td>buffer for the previous state of the filter<ul>
<li>must be able to contain 303 elements</li>
<li>the 143 first elements are from the previous state</li>
<li>the next 160 are for output </li>
</ul>
</td></tr>
    <tr><td class="paramname">v_in</td><td>input filter vector </td></tr>
    <tr><td class="paramname">gain</td><td>per-subframe gain array, each element is between 0.0 and 2.0 </td></tr>
    <tr><td class="paramname">lag</td><td>per-subframe lag array, each element is<ul>
<li>between 16 and 143 if its corresponding pfrac is 0,</li>
<li>between 16 and 139 otherwise </li>
</ul>
</td></tr>
    <tr><td class="paramname">pfrac</td><td>per-subframe boolean array, 1 if the lag is fractional, 0 otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>filter output vector </dd></dl>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00423">423</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00467">apply_pitch_filters()</a>.</p>

</div>
</div>
<a id="ab3741233ecdf5db940bb749f9e0c840e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3741233ecdf5db940bb749f9e0c840e">&sect;&nbsp;</a></span>apply_pitch_filters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> apply_pitch_filters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQCELPContext.html">QCELPContext</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>cdn_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply pitch synthesis filter and pitch prefilter to the scaled codebook vector. </p>
<p>TIA/EIA/IS-733 2.4.5.2, 2.4.8.7.2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>the context </td></tr>
    <tr><td class="paramname">cdn_vector</td><td>the scaled codebook vector </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00467">467</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="a85cae42dccebccd869e871a564001341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cae42dccebccd869e871a564001341">&sect;&nbsp;</a></span>lspf2lpc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> lspf2lpc </td>
          <td>(</td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>lspf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reconstruct LPC coefficients from the line spectral pair frequencies and perform bandwidth expansion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lspf</td><td>line spectral pair frequencies </td></tr>
    <tr><td class="paramname">lpc</td><td>linear predictive coding coefficients</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: bandwidth_expansion_coeff could be precalculated into a table but it seems to be slower on x86</dd></dl>
<p>TIA/EIA/IS-733 2.4.3.3.5 </p>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00536">536</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00564">interpolate_lpc()</a>.</p>

</div>
</div>
<a id="a719e1eb77e8b7d1f6c9cc7b8d8ecfac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719e1eb77e8b7d1f6c9cc7b8d8ecfac9">&sect;&nbsp;</a></span>interpolate_lpc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> interpolate_lpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQCELPContext.html">QCELPContext</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>curr_lspf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>subframe_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interpolate LSP frequencies and compute LPC coefficients for a given bitrate &amp; pitch subframe. </p>
<p>TIA/EIA/IS-733 2.4.3.3.4, 2.4.8.7.2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>the context </td></tr>
    <tr><td class="paramname">curr_lspf</td><td>LSP frequencies vector of the current frame </td></tr>
    <tr><td class="paramname">lpc</td><td>float vector for the resulting LPC </td></tr>
    <tr><td class="paramname">subframe_num</td><td>frame number in decoded stream </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00564">564</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="a88daa87bb166c8da6a8b9616938c6c4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88daa87bb166c8da6a8b9616938c6c4f">&sect;&nbsp;</a></span>buf_size2bitrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534">qcelp_packet_rate</a> buf_size2bitrate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>buf_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00588">588</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00613">determine_bitrate()</a>.</p>

</div>
</div>
<a id="a41b7829473578b40dfc9b5e0751d8e4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41b7829473578b40dfc9b5e0751d8e4c">&sect;&nbsp;</a></span>determine_bitrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="qcelpdec_8c.html#a7422a34b5b2601e7e2d9d7b54f00d534">qcelp_packet_rate</a> determine_bitrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVCodecContext.html">AVCodecContext</a> *&#160;</td>
          <td class="paramname"><em>avctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>buf_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine the bitrate from the frame size and/or the first byte of the frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">avctx</td><td>the AV codec context </td></tr>
    <tr><td class="paramname">buf_size</td><td>length of the buffer </td></tr>
    <tr><td class="paramname">buf</td><td>the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the bitrate on success, I_F_Q if the bitrate cannot be satisfactorily determined</dd></dl>
<p>TIA/EIA/IS-733 2.4.8.7.1 </p>

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00613">613</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="a51b07ecd6ed4e9abb366c8ca531e590a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b07ecd6ed4e9abb366c8ca531e590a">&sect;&nbsp;</a></span>warn_insufficient_frame_quality()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> warn_insufficient_frame_quality </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVCodecContext.html">AVCodecContext</a> *&#160;</td>
          <td class="paramname"><em>avctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00647">647</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="a511131b972fe20e875420936005fa22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511131b972fe20e875420936005fa22c">&sect;&nbsp;</a></span>postfilter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> postfilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQCELPContext.html">QCELPContext</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00654">654</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

<p>Referenced by <a class="el" href="qcelpdec_8c_source.html#l00686">qcelp_decode_frame()</a>.</p>

</div>
</div>
<a id="ac3db6ee692b23a887052855eaeafb65e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3db6ee692b23a887052855eaeafb65e">&sect;&nbsp;</a></span>qcelp_decode_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> qcelp_decode_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVCodecContext.html">AVCodecContext</a> *&#160;</td>
          <td class="paramname"><em>avctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> *&#160;</td>
          <td class="paramname"><em>got_frame_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVPacket.html">AVPacket</a> *&#160;</td>
          <td class="paramname"><em>avpkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00686">686</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aef9e23edecfecfd1fe3683df344eeeef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef9e23edecfecfd1fe3683df344eeeef">&sect;&nbsp;</a></span>ff_qcelp_decoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAVCodec.html">AVCodec</a> ff_qcelp_decoder</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .name           = <span class="stringliteral">&quot;qcelp&quot;</span>,</div><div class="line">    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;QCELP / PureVoice&quot;</span>),</div><div class="line">    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div><div class="line">    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac5a616b6750e42680e2ab71c7db317d1">AV_CODEC_ID_QCELP</a>,</div><div class="line">    .init           = <a class="code" href="qcelpdec_8c.html#a68ebdbcd9c936f4ed83ba68ccd59b281">qcelp_decode_init</a>,</div><div class="line">    .decode         = <a class="code" href="qcelpdec_8c.html#ac3db6ee692b23a887052855eaeafb65e">qcelp_decode_frame</a>,</div><div class="line">    .capabilities   = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div><div class="line">    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="structQCELPContext.html">QCELPContext</a>),</div><div class="line">}</div><div class="ttc" id="structQCELPContext_html"><div class="ttname"><a href="structQCELPContext.html">QCELPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="qcelpdec_8c_source.html#l00053">qcelpdec.c:53</a></div></div>
<div class="ttc" id="libavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdoc">Return NULL if CONFIG_SMALL is true, otherwise the argument without modification. ...</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00176">internal.h:176</a></div></div>
<div class="ttc" id="group__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="qcelpdec_8c_html_ac3db6ee692b23a887052855eaeafb65e"><div class="ttname"><a href="qcelpdec_8c.html#ac3db6ee692b23a887052855eaeafb65e">qcelp_decode_frame</a></div><div class="ttdeci">static int qcelp_decode_frame(AVCodecContext *avctx, void *data, int *got_frame_ptr, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="qcelpdec_8c_source.html#l00686">qcelpdec.c:686</a></div></div>
<div class="ttc" id="qcelpdec_8c_html_a68ebdbcd9c936f4ed83ba68ccd59b281"><div class="ttname"><a href="qcelpdec_8c.html#a68ebdbcd9c936f4ed83ba68ccd59b281">qcelp_decode_init</a></div><div class="ttdeci">static av_cold int qcelp_decode_init(AVCodecContext *avctx)</div><div class="ttdoc">Initialize the speech codec according to the specification. </div><div class="ttdef"><b>Definition:</b> <a href="qcelpdec_8c_source.html#l00085">qcelpdec.c:85</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceac5a616b6750e42680e2ab71c7db317d1"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac5a616b6750e42680e2ab71c7db317d1">AV_CODEC_ID_QCELP</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00544">avcodec.h:544</a></div></div>
<div class="ttc" id="group__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdoc">Codec uses get_buffer() for allocating buffers and supports custom allocators. </div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00963">avcodec.h:963</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="qcelpdec_8c_source.html#l00793">793</a> of file <a class="el" href="qcelpdec_8c_source.html">qcelpdec.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:48:37 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
