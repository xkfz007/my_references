<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpeg: libavformat/rtpdec_asf.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpeg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c323f0049949ddd42f5d8cc7327305d9.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rtpdec_asf.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Microsoft RTP/ASF support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="avassert_8h_source.html">libavutil/avassert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="base64_8h_source.html">libavutil/base64.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avstring_8h_source.html">libavutil/avstring.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="intreadwrite_8h_source.html">libavutil/intreadwrite.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rtp_8h_source.html">rtp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rtpdec__formats_8h_source.html">rtpdec_formats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rtsp_8h_source.html">rtsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="asf_8h_source.html">asf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avio__internal_8h_source.html">avio_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libavformat_2internal_8h_source.html">internal.h</a>&quot;</code><br />
</div>
<p><a href="rtpdec__asf_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPayloadContext.html">PayloadContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTP/JPEG specific private data.  <a href="structPayloadContext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7bf9d48aa5ba9ca6e7175f70fb0d947f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#a7bf9d48aa5ba9ca6e7175f70fb0d947f">RTP_ASF_HANDLER</a>(<a class="el" href="avxsynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>,  <a class="el" href="avxsynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>,  t)</td></tr>
<tr class="separator:a7bf9d48aa5ba9ca6e7175f70fb0d947f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aea7d6d2c22941df3109718b12740fb66"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#aea7d6d2c22941df3109718b12740fb66">rtp_asf_fix_header</a> (<a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="el" href="avxsynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</td></tr>
<tr class="memdesc:aea7d6d2c22941df3109718b12740fb66"><td class="mdescLeft">&#160;</td><td class="mdescRight">From MSDN 2.2.1.4, we learn that ASF data packets over RTP should not contain any padding.  <a href="#aea7d6d2c22941df3109718b12740fb66">More...</a><br /></td></tr>
<tr class="separator:aea7d6d2c22941df3109718b12740fb66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd23d462d2dd579fc0f9d7a6cd05d45f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#acd23d462d2dd579fc0f9d7a6cd05d45f">packetizer_read</a> (<a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *opaque, <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="el" href="avxsynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> buf_size)</td></tr>
<tr class="memdesc:acd23d462d2dd579fc0f9d7a6cd05d45f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following code is basically a buffered <a class="el" href="structAVIOContext.html" title="Bytestream IO Context. ">AVIOContext</a>, with the added benefit of returning -EAGAIN (instead of 0) on packet boundaries, such that the ASF demuxer can return safely and resume business at the next packet.  <a href="#acd23d462d2dd579fc0f9d7a6cd05d45f">More...</a><br /></td></tr>
<tr class="separator:acd23d462d2dd579fc0f9d7a6cd05d45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03782e6932fd58e03fa6fff59deed320"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#a03782e6932fd58e03fa6fff59deed320">init_packetizer</a> (<a class="el" href="structAVIOContext.html">AVIOContext</a> *pb, <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="el" href="avxsynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</td></tr>
<tr class="separator:a03782e6932fd58e03fa6fff59deed320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68d0b6c8ba06934011ca0ffdb60a7d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#ac68d0b6c8ba06934011ca0ffdb60a7d0">ff_wms_parse_sdp_a_line</a> (<a class="el" href="structAVFormatContext.html">AVFormatContext</a> *<a class="el" href="avxsynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>, const char *p)</td></tr>
<tr class="memdesc:ac68d0b6c8ba06934011ca0ffdb60a7d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a Windows Media Server-specific SDP line.  <a href="#ac68d0b6c8ba06934011ca0ffdb60a7d0">More...</a><br /></td></tr>
<tr class="separator:ac68d0b6c8ba06934011ca0ffdb60a7d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5533622603300bbd4beba2c118710194"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#a5533622603300bbd4beba2c118710194">asfrtp_parse_sdp_line</a> (<a class="el" href="structAVFormatContext.html">AVFormatContext</a> *<a class="el" href="avxsynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> stream_index, <a class="el" href="structPayloadContext.html">PayloadContext</a> *asf, const char *<a class="el" href="structline.html">line</a>)</td></tr>
<tr class="separator:a5533622603300bbd4beba2c118710194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af033315b0887564c4691712a20036b72"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#af033315b0887564c4691712a20036b72">asfrtp_parse_packet</a> (<a class="el" href="structAVFormatContext.html">AVFormatContext</a> *<a class="el" href="avxsynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>, <a class="el" href="structPayloadContext.html">PayloadContext</a> *asf, <a class="el" href="structAVStream.html">AVStream</a> *st, <a class="el" href="structAVPacket.html">AVPacket</a> *<a class="el" href="extract__mvs_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, uint32_t *timestamp, const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="el" href="avxsynth__c_8h.html#a5bc5fa69bee375df074734a2c4858604">buf</a>, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, uint16_t seq, <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="log_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>)</td></tr>
<tr class="separator:af033315b0887564c4691712a20036b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2fc0d400880a0ac2c7e53f471a4089"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#a8c2fc0d400880a0ac2c7e53f471a4089">asfrtp_close_context</a> (<a class="el" href="structPayloadContext.html">PayloadContext</a> *asf)</td></tr>
<tr class="separator:a8c2fc0d400880a0ac2c7e53f471a4089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32a197bf9848449138c8d9b3488ae99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#ae32a197bf9848449138c8d9b3488ae99">RTP_ASF_HANDLER</a> (asf_pfv, &quot;x-asf-pf&quot;, AVMEDIA_TYPE_VIDEO)</td></tr>
<tr class="separator:ae32a197bf9848449138c8d9b3488ae99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2bcc5d78875ce35e536375b319b326c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtpdec__asf_8c.html#ac2bcc5d78875ce35e536375b319b326c">RTP_ASF_HANDLER</a> (asf_pfa, &quot;x-asf-pf&quot;, AVMEDIA_TYPE_AUDIO)</td></tr>
<tr class="separator:ac2bcc5d78875ce35e536375b319b326c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Microsoft RTP/ASF support. </p>
<dl class="section author"><dt>Author</dt><dd>Ronald S. Bultje <a href="#" onclick="location.href='mai'+'lto:'+'rbu'+'lt'+'je@'+'ro'+'nal'+'d.'+'bit'+'fr'+'eak'+'.n'+'et'; return false;">rbult<span style="display: none;">.nosp@m.</span>je@r<span style="display: none;">.nosp@m.</span>onald<span style="display: none;">.nosp@m.</span>.bit<span style="display: none;">.nosp@m.</span>freak<span style="display: none;">.nosp@m.</span>.net</a> </dd></dl>

<p>Definition in file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7bf9d48aa5ba9ca6e7175f70fb0d947f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf9d48aa5ba9ca6e7175f70fb0d947f">&sect;&nbsp;</a></span>RTP_ASF_HANDLER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTP_ASF_HANDLER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="avxsynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="avxsynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="structRTPDynamicProtocolHandler.html">RTPDynamicProtocolHandler</a> ff_ms_rtp_ ## <a class="code" href="avisynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a> ## _handler = { \</div><div class="line">    .enc_name         = <a class="code" href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a>, \</div><div class="line">    .codec_type       = t, \</div><div class="line">    .codec_id         = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>, \</div><div class="line">    .priv_data_size   = <span class="keyword">sizeof</span>(<a class="code" href="structPayloadContext.html">PayloadContext</a>), \</div><div class="line">    .parse_sdp_a_line = <a class="code" href="rtpdec__asf_8c.html#a5533622603300bbd4beba2c118710194">asfrtp_parse_sdp_line</a>, \</div><div class="line">    .close            = <a class="code" href="rtpdec__asf_8c.html#a8c2fc0d400880a0ac2c7e53f471a4089">asfrtp_close_context</a>, \</div><div class="line">    .<a class="code" href="libavformat_2utils_8c.html#abcb471c76022fa49db1a8f0ae77371ab">parse_packet</a>     = <a class="code" href="rtpdec__asf_8c.html#af033315b0887564c4691712a20036b72">asfrtp_parse_packet</a>,   \</div><div class="line">}</div><div class="ttc" id="avisynth__c_8h_html_ab87f55bd0280d90925050a4188c14ab5"><div class="ttname"><a href="avisynth__c_8h.html#ab87f55bd0280d90925050a4188c14ab5">s</a></div><div class="ttdeci">const char * s</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00768">avisynth_c.h:768</a></div></div>
<div class="ttc" id="group__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00192">avcodec.h:192</a></div></div>
<div class="ttc" id="structPayloadContext_html"><div class="ttname"><a href="structPayloadContext.html">PayloadContext</a></div><div class="ttdoc">RTP/JPEG specific private data. </div><div class="ttdef"><b>Definition:</b> <a href="rdt_8c_source.html#l00083">rdt.c:83</a></div></div>
<div class="ttc" id="structRTPDynamicProtocolHandler_html"><div class="ttname"><a href="structRTPDynamicProtocolHandler.html">RTPDynamicProtocolHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="rtpdec_8h_source.html#l00115">rtpdec.h:115</a></div></div>
<div class="ttc" id="rtpdec__asf_8c_html_af033315b0887564c4691712a20036b72"><div class="ttname"><a href="rtpdec__asf_8c.html#af033315b0887564c4691712a20036b72">asfrtp_parse_packet</a></div><div class="ttdeci">static int asfrtp_parse_packet(AVFormatContext *s, PayloadContext *asf, AVStream *st, AVPacket *pkt, uint32_t *timestamp, const uint8_t *buf, int len, uint16_t seq, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="rtpdec__asf_8c_source.html#l00191">rtpdec_asf.c:191</a></div></div>
<div class="ttc" id="rtpdec__asf_8c_html_a5533622603300bbd4beba2c118710194"><div class="ttname"><a href="rtpdec__asf_8c.html#a5533622603300bbd4beba2c118710194">asfrtp_parse_sdp_line</a></div><div class="ttdeci">static int asfrtp_parse_sdp_line(AVFormatContext *s, int stream_index, PayloadContext *asf, const char *line)</div><div class="ttdef"><b>Definition:</b> <a href="rtpdec__asf_8c_source.html#l00153">rtpdec_asf.c:153</a></div></div>
<div class="ttc" id="avisynth__c_8h_html_a76f11d9a0a47b94f72c2d0e77fb32240"><div class="ttname"><a href="avisynth__c_8h.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="avisynth__c_8h_source.html#l00684">avisynth_c.h:684</a></div></div>
<div class="ttc" id="rtpdec__asf_8c_html_a8c2fc0d400880a0ac2c7e53f471a4089"><div class="ttname"><a href="rtpdec__asf_8c.html#a8c2fc0d400880a0ac2c7e53f471a4089">asfrtp_close_context</a></div><div class="ttdeci">static void asfrtp_close_context(PayloadContext *asf)</div><div class="ttdef"><b>Definition:</b> <a href="rtpdec__asf_8c_source.html#l00296">rtpdec_asf.c:296</a></div></div>
<div class="ttc" id="libavformat_2utils_8c_html_abcb471c76022fa49db1a8f0ae77371ab"><div class="ttname"><a href="libavformat_2utils_8c.html#abcb471c76022fa49db1a8f0ae77371ab">parse_packet</a></div><div class="ttdeci">static int parse_packet(AVFormatContext *s, AVPacket *pkt, int stream_index)</div><div class="ttdoc">Parse a packet, add all split parts to parse_queue. </div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01381">utils.c:1381</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00302">302</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aea7d6d2c22941df3109718b12740fb66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7d6d2c22941df3109718b12740fb66">&sect;&nbsp;</a></span>rtp_asf_fix_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> rtp_asf_fix_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>From MSDN 2.2.1.4, we learn that ASF data packets over RTP should not contain any padding. </p>
<p>Unfortunately, the header min/max_pktsize are not updated (thus making min_pktsize invalid). Here, we "fix" these faulty min_pktsize values in the ASF file header. </p><dl class="section return"><dt>Returns</dt><dd>0 on success, &lt;0 on failure (currently -1). </dd></dl>

<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00046">46</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

<p>Referenced by <a class="el" href="rtpdec__asf_8c_source.html#l00100">ff_wms_parse_sdp_a_line()</a>.</p>

</div>
</div>
<a id="acd23d462d2dd579fc0f9d7a6cd05d45f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd23d462d2dd579fc0f9d7a6cd05d45f">&sect;&nbsp;</a></span>packetizer_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> packetizer_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The following code is basically a buffered <a class="el" href="structAVIOContext.html" title="Bytestream IO Context. ">AVIOContext</a>, with the added benefit of returning -EAGAIN (instead of 0) on packet boundaries, such that the ASF demuxer can return safely and resume business at the next packet. </p>

<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00086">86</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

<p>Referenced by <a class="el" href="rtpdec__asf_8c_source.html#l00091">init_packetizer()</a>.</p>

</div>
</div>
<a id="a03782e6932fd58e03fa6fff59deed320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03782e6932fd58e03fa6fff59deed320">&sect;&nbsp;</a></span>init_packetizer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> init_packetizer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVIOContext.html">AVIOContext</a> *&#160;</td>
          <td class="paramname"><em>pb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00091">91</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

<p>Referenced by <a class="el" href="rtpdec__asf_8c_source.html#l00191">asfrtp_parse_packet()</a>, and <a class="el" href="rtpdec__asf_8c_source.html#l00100">ff_wms_parse_sdp_a_line()</a>.</p>

</div>
</div>
<a id="ac68d0b6c8ba06934011ca0ffdb60a7d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68d0b6c8ba06934011ca0ffdb60a7d0">&sect;&nbsp;</a></span>ff_wms_parse_sdp_a_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> ff_wms_parse_sdp_a_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVFormatContext.html">AVFormatContext</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a Windows Media Server-specific SDP line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>RTSP demux context </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00100">100</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

<p>Referenced by <a class="el" href="rtsp_8c_source.html#l00187">get_sockaddr()</a>.</p>

</div>
</div>
<a id="a5533622603300bbd4beba2c118710194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5533622603300bbd4beba2c118710194">&sect;&nbsp;</a></span>asfrtp_parse_sdp_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> asfrtp_parse_sdp_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVFormatContext.html">AVFormatContext</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>stream_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPayloadContext.html">PayloadContext</a> *&#160;</td>
          <td class="paramname"><em>asf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00153">153</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

</div>
</div>
<a id="af033315b0887564c4691712a20036b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af033315b0887564c4691712a20036b72">&sect;&nbsp;</a></span>asfrtp_parse_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> asfrtp_parse_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAVFormatContext.html">AVFormatContext</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPayloadContext.html">PayloadContext</a> *&#160;</td>
          <td class="paramname"><em>asf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVStream.html">AVStream</a> *&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAVPacket.html">AVPacket</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>0 when a packet was written into /p pkt, and no more data is left; 1 when a packet was written into /p pkt, and more packets might be left; &lt;0 when not enough data was provided to return a full packet, or on error. </dd></dl>
<p>&lt; relative timestamp</p>
<p>&lt; has duration</p>
<p>&lt; has location ID</p>
<p>If 0x40 is not set, the len_off field specifies an offset of this packet's payload data in the complete (reassembled) ASF packet. This is used to spread one ASF packet over multiple RTP packets.</p>
<p>If 0x40 is set, the len_off field specifies the length of the next ASF packet that can be read from this payload data alone. This is commonly the same as the payload size, but could be less in case of packet splitting (i.e. multiple ASF packets in one RTP packet).</p>

<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00191">191</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

</div>
</div>
<a id="a8c2fc0d400880a0ac2c7e53f471a4089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c2fc0d400880a0ac2c7e53f471a4089">&sect;&nbsp;</a></span>asfrtp_close_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> asfrtp_close_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPayloadContext.html">PayloadContext</a> *&#160;</td>
          <td class="paramname"><em>asf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rtpdec__asf_8c_source.html#l00296">296</a> of file <a class="el" href="rtpdec__asf_8c_source.html">rtpdec_asf.c</a>.</p>

</div>
</div>
<a id="ae32a197bf9848449138c8d9b3488ae99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32a197bf9848449138c8d9b3488ae99">&sect;&nbsp;</a></span>RTP_ASF_HANDLER() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTP_ASF_HANDLER </td>
          <td>(</td>
          <td class="paramtype">asf_pfv&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;x-asf-pf&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac2bcc5d78875ce35e536375b319b326c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2bcc5d78875ce35e536375b319b326c">&sect;&nbsp;</a></span>RTP_ASF_HANDLER() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTP_ASF_HANDLER </td>
          <td>(</td>
          <td class="paramtype">asf_pfa&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;x-asf-pf&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 2 2017 22:48:58 for FFmpeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
